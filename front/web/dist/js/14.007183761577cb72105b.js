webpackJsonp([14],{"+cKO":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return k.default}}),t.helpers=void 0;var r=$(o("FWhV")),a=$(o("PKmV")),i=$(o("hbkP")),s=$(o("3Ro/")),n=$(o("6rz0")),l=$(o("HSVw")),c=$(o("HM/u")),f=$(o("qHXR")),d=$(o("4ypF")),u=$(o("4oDf")),m=$(o("lEk1")),p=$(o("6+Xr")),_=$(o("L6Jx")),g=$(o("7J6f")),v=$(o("Y18q")),h=$(o("bXE/")),b=$(o("FP1U")),y=$(o("aYrh")),q=$(o("xJ3U")),w=$(o("eqrJ")),k=$(o("pO+f")),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}(o("URu4"));function $(e){return e&&e.__esModule?e:{default:e}}t.helpers=C},"3Ro/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},function(o){return!(0,r.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+e<=+o&&+t>=+o})}},"4oDf":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4"),a=(0,r.withParams)({type:"required"},r.req);t.default=a},"4ypF":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"minLength",min:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e})}},"5dBV":function(e,t,o){e.exports={default:o("quu5"),__esModule:!0}},"6+Xr":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},function(t,o){return!!(0,r.ref)(e,this,o)||(0,r.req)(t)})}},"6rz0":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/);t.default=r},"7J6f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=r},"84+5":function(e,t,o){var r=o("KRbr");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("rjj0").default)("536fd3d0",r,!1,{})},CHlY:function(e,t,o){var r=o("kM2E"),a=o("bs6G");r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},FP1U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"not"},function(t,o){return!(0,r.req)(t)||!e.call(this,t,o)})}},FWhV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("alpha",/^[a-zA-Z]*$/);t.default=r},"HM/u":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},function(t){if(!(0,r.req)(t))return!0;if("string"!=typeof t)return!1;var o="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==o&&(6===o.length||8===o.length)&&o.every(a)})};var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},HSVw:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4"),a=(0,r.withParams)({type:"ipAddress"},function(e){if(!(0,r.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)});t.default=a;var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},KRbr:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},L6Jx:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"sameAs",eq:e},function(t,o){return t===(0,r.ref)(e,this,o)})}},PKmV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},SldL:function(e,t){!function(t){"use strict";var o,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",n=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag",c="object"==typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=y;var d="suspendedStart",u="suspendedYield",m="executing",p="completed",_={},g={};g[s]=function(){return this};var v=Object.getPrototypeOf,h=v&&v(v(R([])));h&&h!==r&&a.call(h,s)&&(g=h);var b=C.prototype=w.prototype=Object.create(g);k.prototype=b.constructor=C,C.constructor=k,C[l]=k.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},$(P.prototype),P.prototype[n]=function(){return this},f.AsyncIterator=P,f.async=function(e,t,o,r){var a=new P(y(e,t,o,r));return f.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},$(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var r=t.pop();if(r in e)return o.value=r,o.done=!1,o}return o.done=!0,o}},f.values=R,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return n.type="throw",n.arg=e,t.next=r,a&&(t.method="next",t.arg=o),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],n=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),D(o),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var r=o.completion;if("throw"===r.type){var a=r.arg;D(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=o),_}}}function y(e,t,o,r){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),s=new F(r||[]);return i._invoke=function(e,t,o){var r=d;return function(a,i){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return E()}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var n=x(s,o);if(n){if(n===_)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===d)throw r=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=m;var l=q(e,t,o);if("normal"===l.type){if(r=o.done?p:u,l.arg===_)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(r=p,o.method="throw",o.arg=l.arg)}}}(e,o,s),i}function q(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function w(){}function k(){}function C(){}function $(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(e){var t;this._invoke=function(o,r){function i(){return new Promise(function(t,i){!function t(o,r,i,s){var n=q(e[o],e,r);if("throw"!==n.type){var l=n.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){l.value=e,i(l)},s)}s(n.arg)}(o,r,t,i)})}return t=t?t.then(i,i):i()}}function x(e,t){var r=e.iterator[t.method];if(r===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=o,x(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var a=q(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,_;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=o),t.delegate=null,_):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=o,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:o,done:!0}}}(function(){return this}()||Function("return this")())},URu4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return a.default}}),t.regex=t.ref=t.len=t.req=void 0;var r,a=(r=o("mpcv"))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;t.len=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,o){return"function"==typeof e?e.call(t,o):o[e]};t.regex=function(e,t){return(0,a.default)({type:e},function(e){return!s(e)||t.test(e)})}},Xxa5:function(e,t,o){e.exports=o("jyFz")},Y18q:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,r.withParams)({type:"or"},function(){for(var e=this,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t.length>0&&t.reduce(function(t,o){return t||o.apply(e,r)},!1)})}},aYrh:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"minValue",min:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},"bXE/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,r.withParams)({type:"and"},function(){for(var e=this,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t.length>0&&t.reduce(function(t,o){return t&&o.apply(e,r)},!0)})}},bs6G:function(e,t,o){var r=o("7KvD").parseFloat,a=o("mnVu").trim;e.exports=1/r(o("hyta")+"-0")!=-1/0?function(e){var t=a(String(e),3),o=r(t);return 0===o&&"-"==t.charAt(0)?-0:o}:r},eqrJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("integer",/^-?[0-9]*$/);t.default=r},exGp:function(e,t,o){"use strict";t.__esModule=!0;var r,a=o("//Fk"),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,o){return function r(a,s){try{var n=t[a](s),l=n.value}catch(e){return void o(e)}if(!n.done)return i.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},hbkP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("numeric",/^[0-9]*$/);t.default=r},hyta:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},jyFz:function(e,t,o){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=o("SldL"),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},lEk1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},function(t,o){return!(0,r.ref)(e,this,o)||(0,r.req)(t)})}},mnVu:function(e,t,o){var r=o("kM2E"),a=o("52gC"),i=o("S82l"),s=o("hyta"),n="["+s+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),f=function(e,t,o){var a={},n=i(function(){return!!s[e]()||"​"!="​"[e]()}),l=a[e]=n?t(d):s[e];o&&(a[o]=l),r(r.P+r.F*n,"String",a)},d=f.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},mpcv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",API:"http://api.impact.beta.wasp.mx/",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).BUILD?o("tL8V").withParams:o("JVqD").withParams;t.default=r},"pO+f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},qHXR:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"maxLength",max:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e})}},quu5:function(e,t,o){o("CHlY"),e.exports=o("FeBl").Number.parseFloat},tL8V:function(e,t,o){"use strict";(function(e){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!=typeof window?window:void 0!==e?e:{},a=r.vuelidate?r.vuelidate.withParams:function(e,t){return"object"===o(e)&&void 0!==t?t:e(function(){})};t.withParams=a}).call(t,o("DuR2"))},xJ3U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"maxValue",max:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}},xLHJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("5dBV"),a=o.n(r),i=o("Xxa5"),s=o.n(i),n=o("exGp"),l=o.n(n),c=o("Dd8w"),f=o.n(c),d=o("NYxO"),u=o("PJh5"),m=o.n(u),p=o("mtWM"),_=o.n(p),g=o("+cKO"),v={components:{},beforeRouteEnter:function(e,t,o){o(function(e){for(var r=!1,a=e.$store.getters["user/role"],i=0;i<a.length;i++)a[i].toUpperCase()!=="admin".toUpperCase()&&a[i].toUpperCase()!=="ROOT".toUpperCase()&&a[i].toUpperCase()!=="CLIENTE".toUpperCase()&&a[i].toUpperCase()!=="LIDER".toUpperCase()&&a[i].toUpperCase()!=="COORDINADOR".toUpperCase()&&a[i].toUpperCase()!=="GERENTE DE OPERACIONES".toUpperCase()&&a[i].toUpperCase()!=="PMO".toUpperCase()&&a[i].toUpperCase()!=="FINANZAS".toUpperCase()&&a[i].toUpperCase()!=="OPERACIÓN".toUpperCase()&&a[i].toUpperCase()!=="LICITACIONES".toUpperCase()&&a[i].toUpperCase()!=="LICITACIONES - SOLICITUDES".toUpperCase()&&a[i].toUpperCase()!=="INVENTARIOS".toUpperCase()&&a[i].toUpperCase()!=="COBRANZA".toUpperCase()&&a[i].toUpperCase()!=="AUXILIAR".toUpperCase()&&a[i].toUpperCase()!=="COORDINADOR GDP".toUpperCase()||(r=!0);r?o():o("/"===t.path?"/dashboard":t.path)})},data:function(){return{tabPrincipal:"generales",interval:null,loadingButton:!1,statusColor:{NUEVO:"amber",REMISIONADO:"purple"},statusIcon:{NUEVO:"add",REMISIONADO:"done"},statusCobranzaOptions:[{label:"EMITIDO",value:"EMITIDO"},{label:"ABONADO",value:"ABONADO"},{label:"PAGADO",value:"PAGADO"},{label:"DESCONTADO",value:"DESCONTADO"},{label:"Todos",value:"all"}],tiposComprobanteOptions:[{label:"Ingreso",value:"I"}],metodoPagoOptions:[{label:"Pago en una sola exhibición",value:"PUE"},{label:"Pago en parcialidades",value:"PPD"}],statusTimbrado:["Nuevo","Timbrado","Cancelado","Cancelando","Timbrando","Cancelando","Error","Error al cancelar"],colorTimbrado:["blue-6","green-6","purple-6","warning","warning","warning","red-6","red-6"],iconTimbrado:["add","done","cancel","fas fa-ellipsis-h","fas fa-ellipsis-h","fas fa-ellipsis-h","cancel","cancel"],tipoOptions:[{label:"VENTA",value:"VENTA"},{label:"HISTÓRICO",value:"HISTÓRICO"}],views:{grid:!0,create:!1,update:!1,createSalida:!1,updateSalida:!1},form_filtros:{fields:{empresa_id:0,cliente_id:0,status:"all"}},form:{fields:{id:0,tipo:"VENTA",empresa_id:0,cliente_id:0,fecha_venta:"",status:"NUEVO",status_timbrado:0,message:"",id_request:"",uuid:"",folio:"",folio_interno:"",folio_fiscal:""},data:[],columns:[{name:"folio",label:"Folio",field:"folio",sortable:!0,type:"string",align:"left"},{name:"folio_interno",label:"Folio interno",field:"folio_interno",sortable:!0,type:"string",align:"left"},{name:"folio_fiscal",label:"Folio fiscal",field:"folio_fiscal",sortable:!0,type:"string",align:"left"},{name:"empresa",label:"Empresa",field:"empresa",sortable:!0,type:"string",align:"left"},{name:"cliente",label:"Cliente",field:"cliente",sortable:!0,type:"string",align:"left"},{name:"created",label:"Creado",field:"created",sortable:!0,type:"string",align:"left"},{name:"fecha_venta",label:"Fecha de venta",field:"fecha_venta",sortable:!0,type:"string",align:"left"},{name:"status_cobranza",label:"Status cobranza",field:"status_cobranza",sortable:!0,type:"string",align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,type:"string",align:"left"},{name:"status_timbrado",label:"Status del timbrado",field:"status_timbrado",sortable:!0,type:"string",align:"left"},{name:"tipo",label:"Tipo",field:"tipo",sortable:!0,type:"string",align:"left"},{name:"monto_total",label:"Monto total",field:"monto_total",sortable:!0,type:"string",align:"left"},{name:"cancelado",label:"Cancelada",field:"cancelado",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form_fiscal:{fields:{razon_social:"",rfc:"",folio_fiscal:"",serie:"",fecha_factura:"",lugar_expedicion:"",tipo_comprobante:"I",metodo_pago:"PUE",forma_pago:0,uso_cfdi:0}},form_pagos:{fields:{folio_fiscal:"",serie:"",fecha_pago:"",total:"",forma_pago:0,num_parcialidad:1},columns:[{name:"num_parcialidad",label:"Num. Parcialidad",field:"num_parcialidad",sortable:!0,type:"string",align:"left"},{name:"fecha_pago",label:"Fecha del pago",field:"fecha_pago",sortable:!0,type:"string",align:"left"},{name:"total",label:"Total",field:"total",sortable:!0,type:"string",align:"left"},{name:"status_timbrado",label:"Status",field:"status_timbrado",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form_detalles:{fields:{id:0,empresa_id:0,cliente_id:0,fecha_venta:"",status:"NUEVO"},columns:[{name:"producto_nombre",label:"Producto",field:"producto_nombre",sortable:!0,type:"string",align:"left"},{name:"descripcion",label:"Descripcion",field:"descripcion",sortable:!0,type:"string",align:"left"},{name:"tipo_unidad",label:"Unidad",field:"tipo_unidad",sortable:!0,type:"string",align:"left"},{name:"cantidad",label:"Cantidad",field:"cantidad",sortable:!0,type:"string",align:"left"},{name:"precio_unitario",label:"Precio unitario",field:"precio_unitario",sortable:!0,type:"string",align:"left"},{name:"subtotal",label:"Subtotal",field:"subtotal",sortable:!0,type:"string",align:"left"},{name:"impuesto_importe",label:"Impuesto",field:"impuesto_importe",sortable:!0,type:"string",align:"left"},{name:"total",label:"Total",field:"total",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form_productos:{fields:{id:0,producto_id:0,remision_id:0,cantidad:1,impuesto:!1},typeButton:"save"},show_file_contrato:!1,form_facturas:{data:[],filter:"",file:{nombre:"",fecha_pago:"",fecha_factura:"",fecha_vencimiento:"",folio_fiscal:""},columns:[{name:"id",label:"Factura",field:"factura",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre Factura",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"extension",label:"Extensión",field:"extension",sortable:!0,type:"string",align:"center"},{name:"fecha_factura",label:"Fecha de Factura",field:"fecha_factura",sortable:!0,type:"string",align:"center"},{name:"fecha_pago",label:"Fecha de pago",field:"fecha_pago",sortable:!0,type:"string",align:"center"},{name:"fecha_vencimiento",label:"Fecha de vencimiento",field:"fecha_vencimiento",sortable:!0,type:"string",align:"center"},{name:"monto_factura",label:"Monto",field:"monto_factura",sortable:!0,type:"string",align:"right"},{name:"folio_fiscal",label:"Folio fiscal",field:"folio_fiscal",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],loading:!1},modal:{x:0,y:0,transition:null}}},computed:f()({},Object(d.c)({remisiones:"vnt/remisiones/remisiones",detalles:"vnt/remisiones/detalles",pagos:"vnt/remisiones/pagos",productosOptions:"inv/productos/selectOptions",formaPagoOptions:"vnt/remisiones/selectPaymentFormsOptions",usoCFDIOptions:"vnt/remisiones/selectUsoCFDIOptions"}),{isDone:function(){return 1===this.form.fields.status_timbrado||2===this.form.fields.status_timbrado},isRemisionado:function(){return"REMISIONADO"===this.form.fields.status},isChecking:function(){return 3===this.form.fields.status_timbrado||4===this.form.fields.status_timbrado||5===this.form.fields.status_timbrado},clientesOptions:function(){var e=this.$store.getters["ventas/clientes/selectOptions"];return e.splice(0,0,{label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.razon_social>t.razon_social?1:e.razon_social<t.razon_social?-1:0}),e},empresasOptions:function(){var e=this.$store.getters["vnt/empresa/selectOptions"];return e.splice(0,0,{label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.razon_social>t.razon_social?1:e.razon_social<t.razon_social?-1:0}),e}}),created:function(){this.loadAll()},methods:f()({},Object(d.b)({getRemisiones:"vnt/remisiones/getBy",getRemision:"vnt/remisiones/get",saveRemisiones:"vnt/remisiones/save",updateRemisiones:"vnt/remisiones/update",deleteRemisiones:"vnt/remisiones/delete",getEmpresas:"vnt/empresa/refresh",getClientes:"ventas/clientes/refresh",getProductos:"inv/productos/refresh",saveProduct:"vnt/remisiones/saveProduct",updateProduct:"vnt/remisiones/updateProduct",deleteProduct:"vnt/remisiones/deleteProduct",getDetalles:"vnt/remisiones/refreshDetails",changeStatus:"vnt/remisiones/changeStatus",getFormasDePago:"vnt/remisiones/getFormasDePago",getUsoCFDIs:"vnt/remisiones/getUsoCFDIs",getDatosFiscales:"vnt/remisiones/getDatosFiscales",updateFiscal:"vnt/remisiones/updateFiscal",checkInvoice:"vnt/remisiones/checkInvoice",checkPagos:"vnt/remisiones/checkPagos",timbrar:"vnt/remisiones/timbrar",cancelInvoice:"vnt/remisiones/cancelInvoice",cancelPago:"vnt/remisiones/cancelPago",savePago:"vnt/remisiones/savePago",deletePayment:"vnt/remisiones/deletePayment",getPagos:"vnt/remisiones/getPagos",keepChecking:"vnt/remisiones/keepChecking",timbrarPayment:"vnt/remisiones/timbrarPayment",getNextFolio:"vnt/remisiones/getNextFolio",getFacturasByRemision:"vnt/remisionesFactura/getFacturas",deleteDocFacturas:"vnt/remisionesFactura/delete",getFolioConsecutivo:"vnt/remisiones/getFolioConsecutivo",cancelarRemision:"vnt/remisiones/cancelar"}),{isNumber:function(e,t){switch(t){case"cantidad":this.form_productos.fields.cantidad=this.form_productos.fields.cantidad.replace(/[^0-9.]/g,""),this.$v.form_productos.fields.cantidad.$touch();break;case"total":this.form_pagos.fields.total=this.form_pagos.fields.total.replace(/[^0-9.]/g,""),this.$v.form_pagos.fields.total.$touch();break;case"numero_interior":this.form.fields.numero_interior=this.form.fields.numero_interior.replace(/[^0-9.]/g,""),this.$v.form.fields.numero_interior.$touch();break;case"codigo_postal":this.form_fiscal.fields.lugar_expedicion=this.form_fiscal.fields.lugar_expedicion.replace(/[^0-9.]/g,""),this.$v.form_fiscal.fields.lugar_expedicion.$touch()}},loadAll:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.loading=!0,t.next=3,e.getEmpresas();case 3:return t.next=5,e.getClientes();case 5:return t.next=7,e.filtrar();case 7:return t.next=9,e.getProductos();case 9:return t.next=11,e.getFormasDePago();case 11:return t.next=13,e.getUsoCFDIs();case 13:e.form.loading=!1;case 14:case"end":return t.stop()}},t,e)}))()},setView:function(e){this.views.grid=!1,this.views.create=!1,this.views.update=!1,this.views[e]=!0},filtrar:function(){var e=this;console.log(this.form_filtros.fields.empresa_id),this.getRemisiones({empresa_id:this.form_filtros.fields.empresa_id,cliente_id:this.form_filtros.fields.cliente_id,status:this.form_filtros.fields.status}).then(function(t){var o=t.data;e.form.data=o.remisiones}).catch(function(e){console.error(e)})},getFolioNuevo:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.fields.folio="",t.next=3,e.getFolioConsecutivo({tipo:e.form.fields.tipo}).then(function(t){var o=t.data;"success"===o.result&&(e.form.fields.folio=o.folio)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return l()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form.$touch(),e.$v.form.$error?e.$showMessage("¡Advertencia!","Por favor revise los campos."):(e.loadingButton=!0,(o=e.form.fields).metodo_pago=e.form_fiscal.fields.metodo_pago,e.saveRemisiones(o).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}),e.editRow(o.insert)):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)}));case 2:case"end":return t.stop()}},t,e)}))()},update:function(){var e=this;if(this.$v.form.$touch(),this.$v.form.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form.fields;this.updateRemisiones(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}},editRow:function(e){var t=this;return l()(s.a.mark(function o(){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.form.fields.id=e.id,t.form_productos.fields.remision_id=e.id,t.form.fields.empresa_id=e.empresa_id,t.form.fields.cliente_id=e.cliente_id,t.form.fields.fecha=e.created,t.form.fields.fecha_venta=e.fecha_venta,t.form.fields.status=e.status,t.form.fields.status_timbrado=e.status_timbrado,t.form.fields.message=e.message,t.form.fields.id_request=e.id_request,t.form.fields.uuid=e.uuid,t.form.fields.tipo=e.tipo,t.form.fields.folio=e.folio,t.form.fields.folio_interno=e.folio_interno,t.form.fields.folio_fiscal=e.folio_fiscal,"HISTÓRICO"===t.form.fields.tipo&&(t.tabPrincipal="facturas"),t.limpiarDetalles(),4!==t.form.fields.status_timbrado&&3!==t.form.fields.status_timbrado&&5!==t.form.fields.status_timbrado||null!==t.interval||(t.interval=setInterval(function(){t.revisarTimbrado()},1e4)),o.next=20,t.cargarFacturas();case 20:t.setView("update");case 21:case"end":return o.stop()}},o,t)}))()},deleteSingleRow:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta remision?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.delete(e)}).catch(function(){})},delete:function(e){var t=this,o={id:e};this.deleteRemisiones(o).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"delete",position:"top-right"}),t.loadAll(),t.setView("grid")):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},deleteSingleRowDetalle:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar el concepto?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.borrarDetalle(e)}).catch(function(){})},borrarDetalle:function(e){var t=this,o={id:e};this.deleteProduct(o).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"delete",position:"top-right"}),t.limpiarDetalles()):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},addProduct:function(){var e=this;return l()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_productos.$touch(),e.$v.form_productos.$error?e.$showMessage("¡Advertencia!","Por favor revise los campos."):(e.loadingButton=!0,o=e.form_productos.fields,e.saveProduct(o).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):e.$showMessage(o.message.title,o.message.content),e.limpiarDetalles()}).catch(function(e){console.error(e)}));case 2:case"end":return t.stop()}},t,e)}))()},actualizarProducto:function(){var e=this;if(this.$v.form_productos.$touch(),this.$v.form_productos.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_productos.fields;this.updateProduct(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):e.$showMessage(o.message.title,o.message.content),e.limpiarDetalles()}).catch(function(e){console.error(e)})}},actualizarFiscal:function(){var e=this;this.loadingButton=!0;var t=this.form_fiscal.fields;t.id=this.form.fields.id,this.updateFiscal(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):e.$showMessage(o.message.title,o.message.content),e.limpiarDetalles()}).catch(function(e){console.error(e)})},cambiarStatus:function(e){var t=this;this.loadingButton=!0,this.$q.dialog({title:"Confirmar",message:"¿Desea cambiar el status a "+e+"?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={status:e,remision_id:t.form.fields.id,tipo:t.form.fields.tipo};t.changeStatus(o).then(function(o){var r=o.data;"success"===r.result?(t.$q.notify({message:r.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}),t.form.fields.status=e,t.limpiarDetalles()):(t.$showMessage(r.message.title,r.message.content),t.form.fields.status="NUEVO")}).catch(function(e){console.error(e)})}).catch(function(){}),this.loadingButton=!1},revisarTimbrado:function(){var e=this;this.loadingButton=!0;var t={id:this.form.fields.id};this.checkInvoice(t).then(function(t){var o=t.data;"done"!==o.response.status&&"error"!==o.response.status&&!0!==o.response.status||e.limpiarDetalles()}).catch(function(e){console.error(e)}),this.loadingButton=!1},revisarPagos:function(){var e=this;this.loadingButton=!0;var t={remision_id:this.form.fields.id};this.checkPagos(t).then(function(t){t.data;e.limpiarPagos()}).catch(function(e){console.error(e)}),this.loadingButton=!1},editRowDetalle:function(e){var t=this;return l()(s.a.mark(function o(){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t.form_productos.fields.id=e.id,t.form_productos.fields.remision_id=e.remision_id,t.form_productos.fields.producto_id=e.producto_id,t.form_productos.fields.cantidad=e.cantidad,t.form_productos.fields.descripcion=e.descripcion,t.form_productos.fields.impuesto=e.impuesto,t.form_productos.typeButton="update";case 7:case"end":return o.stop()}},o,t)}))()},newRow:function(){this.limpiar(),this.setView("create")},atras:function(){this.loadAll(),this.setView("grid")},limpiar:function(){this.$v.form.$reset(),this.form.fields.id=0,this.form.fields.cliente_id=0,this.form.fields.empresa_id=0,this.form.fields.status="NUEVO",this.form.fields.fecha_venta="",this.form.fields.tipo="VENTA",this.getFolioNuevo()},limpiarDetalles:function(){var e=this;this.$v.form_productos.$reset(),this.$v.form_fiscal.$reset(),this.form_productos.fields.producto_id=0,this.form_productos.fields.cantidad=1,this.form_productos.fields.descripcion="",this.form_productos.fields.impuesto=!1,this.form_productos.typeButton="save",this.form_productos.loading=!0,this.getRemision({id:this.form.fields.id}).then(function(t){var o=t.data;if("success"===o.result){var r=o.remision[0];e.form.fields.id=r.id,e.form_productos.fields.remision_id=r.id,e.form.fields.empresa_id=r.empresa_id,e.form.fields.cliente_id=r.cliente_id,e.form.fields.fecha=r.created,e.form.fields.fecha_venta=r.fecha_venta,e.form.fields.status=r.status,e.form.fields.status_timbrado=r.status_timbrado,e.form.fields.message=r.message,e.form.fields.id_request=r.id_request,e.form.fields.uuid=r.uuid,e.form.fields.tipo=r.tipo,e.form.fields.folio=r.folio,e.getDetalles({remision_id:e.form_productos.fields.remision_id}).then(function(){"REMISIONADO"===e.form.fields.status&&e.getDatosFiscales({remision_id:e.form_productos.fields.remision_id}).then(function(t){var o=t.data.remision[0];e.form_fiscal.fields.razon_social=o.razon_social,e.form_fiscal.fields.rfc=o.rfc,e.form_fiscal.fields.folio_fiscal=o.folio_fiscal,e.form_fiscal.fields.serie=o.serie,e.form_fiscal.fields.fecha_factura=o.fecha_factura,e.form_fiscal.fields.lugar_expedicion=o.lugar_expedicion,e.form_fiscal.fields.tipo_comprobante=o.tipo_comprobante,e.form_fiscal.fields.metodo_pago=o.metodo_pago,e.form_fiscal.fields.forma_pago=o.forma_pago,e.form_fiscal.fields.uso_cfdi=o.uso_cfdi,3!==e.form.fields.status_timbrado&&4!==e.form.fields.status_timbrado&&5!==e.form.fields.status_timbrado&&null!==e.interval&&clearInterval(e.interval),"PPD"===e.form_fiscal.fields.metodo_pago&&1===e.form.fields.status_timbrado&&(e.form_pagos.fields.serie=e.form_fiscal.fields.serie,e.form_pagos.fields.folio_fiscal=e.form_fiscal.fields.folio_fiscal,e.getPagos({remision_id:e.form.fields.id}).then(function(){e.keepChecking({remision_id:e.form.fields.id}).then(function(t){t.data.result?null===e.interval&&(e.interval=setInterval(function(){e.revisarPagos()},1e4)):clearInterval(e.interval)})}))})})}}),this.form_productos.loading=!1},getRemisionData:function(){var e=this;this.getRemision({id:this.form.fields.id}).then(function(t){var o=t.data;if("success"===o.result){var r=o.remision[0];e.form.fields.id=r.id,e.form_productos.fields.remision_id=r.id,e.form.fields.empresa_id=r.empresa_id,e.form.fields.cliente_id=r.cliente_id,e.form.fields.fecha=r.created,e.form.fields.fecha_venta=r.fecha_venta,e.form.fields.status=r.status,e.form.fields.status_timbrado=r.status_timbrado,e.form.fields.message=r.message,e.form.fields.id_request=r.id_request,e.form.fields.uuid=r.uuid,e.form.fields.tipo=r.tipo,e.form.fields.folio=r.folio}}).catch(function(e){console.error(e)})},timbrarRemision:function(){var e=this;this.$v.form_fiscal.$touch(),this.$v.form_fiscal.$error?this.$showMessage("Error","Por favor revise los campos."):this.$q.dialog({title:"Confirmar",message:"¿Desea timbrar la factura?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.loadingButton=!0;var t=e.form_fiscal.fields;t.remision_id=e.form.fields.id,e.timbrar(t).then(function(t){var o=t.data;e.loadingButton=!1,"error"===o.result?e.$showMessage(o.message.title,o.message.content):e.interval=setInterval(function(){e.revisarTimbrado()},1e4),e.getRemisionData()}).catch(function(e){console.error(e)})}).catch(function(){})},cancelarFactura:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea cancelar la factura?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.loadingButton=!0;var t={id:e.form.fields.id};e.cancelInvoice(t).then(function(t){var o=t.data;e.loadingButton=!1,"error"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):e.interval=setInterval(function(){e.revisarTimbrado()},1e4),e.getRemisionData()}).catch(function(e){console.error(e)})}).catch(function(){})},cancelarPago:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea cancelar la factura?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.loadingButton=!0;var o={id:e};t.cancelPago(o).then(function(e){var o=e.data;t.loadingButton=!1,"error"===o.result?t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):null===t.interval&&(t.interval=setInterval(function(){t.revisarPagos()},1e4)),t.limpiarPagos()}).catch(function(e){console.error(e)})}).catch(function(){})},agregarPago:function(){var e=this;return l()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_pagos.$touch(),e.$v.form_pagos.$error?e.$showMessage("¡Advertencia!","Por favor revise los campos."):(e.loadingButton=!0,(o=e.form_pagos.fields).remision_id=e.form.fields.id,e.savePago(o).then(function(t){var o=t.data;e.loadingButton=!1,console.log(o),"success"===o.result?(e.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}),e.limpiarPagos()):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)}));case 2:case"end":return t.stop()}},t,e)}))()},deleteSingleRowPago:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar el pago?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.borrarPago(e)}).catch(function(){})},borrarPago:function(e){var t=this,o={id:e};this.deletePayment(o).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"delete",position:"top-right"}),t.limpiarPagos()):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},limpiarPagos:function(){var e=this;this.$v.form_pagos.$reset(),this.form_pagos.fields.fecha_pago="",this.form_pagos.fields.total="",this.form_pagos.fields.forma_pago=0,this.getPagos({remision_id:this.form.fields.id}).then(function(){e.keepChecking({remision_id:e.form.fields.id}).then(function(t){t.data.result?null===e.interval&&(e.interval=setInterval(function(){e.revisarPagos()},1e4)):clearInterval(e.interval)})})},timbrarPago:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea timbrar el pago?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.loadingButton=!0;var o={id:e.id};t.timbrarPayment(o).then(function(e){var o=e.data;t.loadingButton=!1,"error"===o.result?t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):null===t.interval&&(t.interval=setInterval(function(){t.revisarPagos()},1e4)),console.log(t.interval),t.limpiarPagos()}).catch(function(e){console.error(e)})}).catch(function(){})},siguienteFolio:function(){var e=this;this.getNextFolio({remision_id:this.form.fields.id,serie:this.form_fiscal.fields.serie}).then(function(t){var o=t.data;e.form_fiscal.fields.folio_fiscal=o.folio_fiscal})},onSelectedProduct:function(){var e=this;this.form_productos.fields.descripcion=this.productosOptions.find(function(t){return t.value===e.form_productos.fields.producto_id}).label},getCFDIInvoice:function(e){window.open("http://batuta.beta.antfarm.mx/api/download_xml/"+e,"_blank")},getPdfInvoice:function(e){window.open("http://batuta.beta.antfarm.mx/api/get_pdf/"+e+"/0","_blank")},uploadFormato:function(){var e=this;if(this.$v.form_facturas.file.$touch(),this.$v.form_facturas.file.$error)this.$showMessage("Error","llene los campos obligatorios");else if(this.form_facturas.file.fecha_vencimiento>=this.form_facturas.file.fecha_factura)try{this.loadingButton=!0;var t=this.$refs.fileInputFormato.files[0],o=new FormData;o.append("file",t),o.append("nombre",this.form_facturas.file.nombre),o.append("nombre_archivo",t.name),o.append("remision_id",this.form.fields.id),o.append("folio_fiscal",this.form_facturas.file.folio_fiscal),o.append("fecha_factura",m()(String(this.form_facturas.file.fecha_factura)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),o.append("fecha_pago",m()(String(this.form_facturas.file.fecha_pago)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),o.append("fecha_vencimiento",m()(String(this.form_facturas.file.fecha_vencimiento)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),console.log("aquillega"),null===t||void 0===t||""===t?this.$showMessage("Error","Seleccione un archivo"):t.name?"jpg"===t.type.split("/")[1].toLowerCase()||"jpeg"===t.type.split("/")[1].toLowerCase()||"png"===t.type.split("/")[1].toLowerCase()||"pdf"===t.type.split("/")[1].toLowerCase()||"xml"===t.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),_.a.post("remisionesFacturas/uploadArchivo",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"success"===t.data.result?(e.$showMessage(t.data.message.title,t.data.message.content),e.cargarFacturas(),e.limpiarFactura()):""!==t.data.err&&e.$showMessage(t.data.message.title,t.data.message.content),e.loadingButton=!1,e.$q.loading.hide()}).catch(function(t){e.loadingButton=!1,console.error(t),e.$q.loading.hide()})):(this.loadingButton=!1,this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito.")):(this.loadingButton=!1,this.$showMessage("Error","No ha seleccionado un archivo con las extensión .docx o .pdf"))}catch(e){this.loadingButton=!1,this.$showMessage("Error","Seleccione un archivo")}else this.$showMessage("Error","La fecha de vencimiento debe ser igual o posterior a la fecha de emisión")},checkContrato:function(){null!==this.$refs.fileInputFormato.files&&(this.show_file_contrato=!0)},cargarFacturas:function(){var e=this;return l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_facturas.data=[],t.next=3,e.getFacturasByRemision({remision:e.form.fields.id}).then(function(t){var o=t.data;"success"===o.result&&(e.form_facturas.data=o.facturas)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},currencyFormat:function(e){return a()(e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},limpiarFactura:function(){this.$v.form_facturas.file.$reset(),this.form_facturas.file.nombre="",this.form_facturas.file.fecha_pago="",this.form_facturas.file.fecha_factura="",this.form_facturas.file.fecha_vencimiento="",this.form_facturas.file.folio_fiscal="",this.show_file_contrato=!1},abrirDocumento:function(e,t){var o="http://api.impact.beta.wasp.mx/remisionesFacturas/getFile/"+e+"/"+t;window.open(o,"_blank")},deleteDoc:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este archivo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deleteDocID(e)}).catch(function(){})},deleteDocID:function(e){var t=this;return l()(s.a.mark(function o(){var r;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r={id:e},t.deleteDocFacturas(r).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.cargarFacturas()}).catch(function(e){console.error(e)});case 2:case"end":return o.stop()}},o,t)}))()},borrar:function(){this.form_filtros.fields.empresa_id=0,this.form_filtros.fields.cliente_id=0,this.form_filtros.fields.status="all"},cancelRemision:function(e){var t=this;this.loadingButton=!0;var o=e;this.cancelarRemision(o).then(function(e){var o=e.data;t.loadingButton=!1,"success"===o.result?t.$q.notify({message:o.message.content,timeout:3e3,color:"green",textColor:"white",icon:"check",position:"top-right"}):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}}),validations:{form:{fields:{empresa_id:{required:g.required,minValue:Object(g.minValue)(1)},cliente_id:{required:g.required,minValue:Object(g.minValue)(1)},fecha_venta:{required:g.required}}},form_productos:{fields:{producto_id:{required:g.required,minValue:Object(g.minValue)(1)},cantidad:{required:g.required}}},form_fiscal:{fields:{razon_social:{required:g.required},rfc:{required:g.required},folio_fiscal:{required:g.required},serie:{required:g.required},fecha_factura:{required:g.required},lugar_expedicion:{required:g.required},tipo_comprobante:{required:g.required},metodo_pago:{required:g.required},forma_pago:{required:g.required},uso_cfdi:{required:g.required}}},form_pagos:{fields:{fecha_pago:{required:g.required},forma_pago:{required:g.required},total:{required:g.required}}},form_facturas:{file:{nombre:{required:g.required,minLength:Object(g.minLength)(3)},fecha_pago:{required:g.required},fecha_factura:{required:g.required},fecha_vencimiento:{required:g.required}}}}},h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[e.views.grid?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{staticClass:"q-ml-sm grey-8 fs28 page-title",attrs:{label:"Remisiones"}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right",staticStyle:{"margin-top":"10px"}},[o("q-btn",{staticClass:"btn_pagar",attrs:{icon:"add"},on:{click:function(t){e.newRow()}}},[e._v("Nueva")])],1)])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md",staticStyle:{padding:"0"}},[o("div",{staticClass:"row q-mt-sm q-pa-md"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form_filtros.fields.empresa_id,callback:function(t){e.$set(e.form_filtros.fields,"empresa_id",t)},expression:"form_filtros.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form_filtros.fields.cliente_id,callback:function(t){e.$set(e.form_filtros.fields,"cliente_id",t)},expression:"form_filtros.fields.cliente_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Status",options:e.statusCobranzaOptions,filter:""},model:{value:e.form_filtros.fields.status,callback:function(t){e.$set(e.form_filtros.fields,"status",t)},expression:"form_filtros.fields.status"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3 pull-right"},[o("q-btn",{attrs:{inverted:"",color:"orange","icon-right":"fas fa-filter",loading:e.loadingButton},on:{click:function(t){e.filtrar()}}},[e._v("Filtrar")]),e._v(" "),o("q-btn",{attrs:{color:"red",icon:"loop"},on:{click:function(t){e.borrar()}}},[o("q-tooltip",[e._v("Limpiar")])],1)],1)]),e._v(" "),o("div",{staticClass:"col q-pa-md ",staticStyle:{padding:"0"}},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"col-sm-12"},[o("q-search",{attrs:{color:"primary"},model:{value:e.form.filter,callback:function(t){e.$set(e.form,"filter",t)},expression:"form.filter"}})],1),e._v(" "),o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form.data,columns:e.form.columns,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(t){e.$set(e.form,"selected",t)},"update:pagination":function(t){e.$set(e.form,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"folio",attrs:{props:t}},[e._v(e._s(t.row.folio))]),e._v(" "),o("q-td",{key:"folio_interno",attrs:{props:t}},[e._v(e._s(t.row.folio_interno))]),e._v(" "),o("q-td",{key:"folio_fiscal",attrs:{props:t}},[e._v(e._s(t.row.folio_fiscal))]),e._v(" "),o("q-td",{key:"empresa",attrs:{props:t}},[e._v(e._s(t.row.empresa))]),e._v(" "),o("q-td",{key:"cliente",attrs:{props:t}},[e._v(e._s(t.row.cliente))]),e._v(" "),o("q-td",{key:"created",attrs:{props:t}},[e._v(e._s(t.row.created))]),e._v(" "),o("q-td",{key:"fecha_venta",attrs:{props:t}},[e._v(e._s(t.row.fecha_venta))]),e._v(" "),o("q-td",{key:"status_cobranza",attrs:{props:t}},[o("q-chip",{staticStyle:{"border-radius":"0.25rem"},attrs:{dense:"",icon:t.row.icon,color:t.row.color,"text-color":"white"}},[e._v(e._s(t.row.status_cobranza))])],1),e._v(" "),o("q-td",{key:"status",attrs:{props:t}},[o("q-chip",{staticStyle:{"border-radius":"0.25rem"},attrs:{dense:"",icon:e.statusIcon[t.row.status],color:e.statusColor[t.row.status],"text-color":"white"}},[e._v(e._s(t.row.status.toUpperCase()))])],1),e._v(" "),o("q-td",{key:"status_timbrado",attrs:{props:t}},[o("q-chip",{staticStyle:{"border-radius":"0.25rem"},attrs:{dense:"",icon:e.iconTimbrado[t.row.status_timbrado],color:e.colorTimbrado[t.row.status_timbrado],"text-color":"white"}},[e._v(e._s(e.statusTimbrado[t.row.status_timbrado].toUpperCase()))])],1),e._v(" "),o("q-td",{key:"tipo",attrs:{props:t}},[e._v(e._s(t.row.tipo))]),e._v(" "),o("q-td",{key:"monto_total",staticStyle:{"text-align":"right"},attrs:{props:t}},[e._v("$"+e._s(t.row.monto_total))]),e._v(" "),o("q-td",{key:"cancelado",attrs:{props:t}},[o("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(o){e.cancelRemision(t.row)}},model:{value:t.row.cancelado,callback:function(o){e.$set(t.row,"cancelado",o)},expression:"props.row.cancelado"}})],1),e._v(" "),o("q-td",{key:"acciones",staticStyle:{"text-align":"left"},attrs:{props:t}},[o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(o){e.editRow(t.row)}}},[o("q-tooltip",[e._v("Editar")])],1),e._v(" "),o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRow(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])])])]):e._e(),e._v(" "),e.views.create?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Remisiones",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Nueva remisión"}}),o("label",{staticStyle:{"padding-top":"10px"}},[e._v(": "+e._s(e.form.fields.folio)+" ")])],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.save()}}},[e._v("Guardar")])],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fields.empresa_id.$error,"error-label":"Elija una empresa"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fields.cliente_id.$error,"error-label":"Elija un cliente"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form.fields.cliente_id,callback:function(t){e.$set(e.form.fields,"cliente_id",t)},expression:"form.fields.cliente_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha_venta.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de venta",align:"center"},model:{value:e.form.fields.fecha_venta,callback:function(t){e.$set(e.form.fields,"fecha_venta",t)},expression:"form.fields.fecha_venta"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.tipoOptions,filter:""},on:{input:function(t){e.getFolioNuevo()}},model:{value:e.form.fields.tipo,callback:function(t){e.$set(e.form.fields,"tipo",t)},expression:"form.fields.tipo"}})],1)],1),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.metodo_pago.$error,"error-label":"Por favor seleccione un método de pago"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoOptions,filter:""},model:{value:e.form_fiscal.fields.metodo_pago,callback:function(t){e.$set(e.form_fiscal.fields,"metodo_pago",t)},expression:"form_fiscal.fields.metodo_pago"}})],1)],1):e._e()])])])])]):e._e(),e._v(" "),e.views.update?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Remisiones",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Modificar remisión"}}),o("label",{staticStyle:{"padding-top":"10px"}},[e._v(": "+e._s(e.form.fields.folio)+" ")])],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),e.detalles.length>0&&"NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_guardar pull-right",attrs:{"icon-right":"fas fa-truck",loading:e.loadingButton},on:{click:function(t){e.cambiarStatus("REMISIONADO")}}},[e._v("Remisionar")]):e._e(),e._v(" "),e.isDone||e.isChecking?e._e():o("q-btn",{staticClass:"btn_actualizar pull-right",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.update()}}},[e._v("Actualizar")])],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fields.empresa_id.$error,"error-label":"Elija una empresa"}},[o("q-select",{attrs:{readonly:e.isRemisionado,inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fields.cliente_id.$error,"error-label":"Elija un cliente"}},[o("q-select",{attrs:{readonly:e.isRemisionado,inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form.fields.cliente_id,callback:function(t){e.$set(e.form.fields,"cliente_id",t)},expression:"form.fields.cliente_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha_venta.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{readonly:e.isRemisionado,type:"date",inverted:"",color:"dark","float-label":"Fecha de venta",align:"center"},model:{value:e.form.fields.fecha_venta,callback:function(t){e.$set(e.form.fields,"fecha_venta",t)},expression:"form.fields.fecha_venta"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}},[7===e.form.fields.status_timbrado?o("q-tooltip",[e._v(e._s(e.form.fields.message_cancelacion))]):e._e()],1)],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.tipoOptions,filter:""},on:{input:function(t){e.getFolioNuevo()}},model:{value:e.form.fields.tipo,callback:function(t){e.$set(e.form.fields,"tipo",t)},expression:"form.fields.tipo"}})],1)],1),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.metodo_pago.$error,"error-label":"Por favor seleccione un método de pago"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoOptions,filter:""},model:{value:e.form_fiscal.fields.metodo_pago,callback:function(t){e.$set(e.form_fiscal.fields,"metodo_pago",t)},expression:"form_fiscal.fields.metodo_pago"}})],1)],1):e._e(),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("div",{staticClass:"col-sm-5"},[o("q-field",{attrs:{icon:"description","icon-color":"dark"}},[o("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Folio fiscal",readonly:""},model:{value:e.form.fields.folio_fiscal,callback:function(t){e.$set(e.form.fields,"folio_fiscal",t)},expression:"form.fields.folio_fiscal"}})],1)],1):e._e(),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"description","icon-color":"dark"}},[o("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Folio interno",readonly:""},model:{value:e.form.fields.folio_interno,callback:function(t){e.$set(e.form.fields,"folio_interno",t)},expression:"form.fields.folio_interno"}})],1)],1):e._e()]),e._v(" "),o("br"),o("br"),o("br"),e._v(" "),o("q-tabs",{staticClass:"shadow-1",attrs:{inverted:"",animated:"",swipeable:"",color:"teal",align:"justify"},model:{value:e.tabPrincipal,callback:function(t){e.tabPrincipal=t},expression:"tabPrincipal"}},["VENTA"===e.form.fields.tipo?o("q-tab",{attrs:{slot:"title",default:"",name:"generales",icon:"fas fa-box",label:"Detalles generales"},slot:"title"}):e._e(),e._v(" "),"REMISIONADO"===e.form.fields.status&&"VENTA"===e.form.fields.tipo?o("q-tab",{attrs:{slot:"title",name:"fiscales",icon:"fas fa-file",label:"Detalles fiscales"},slot:"title"}):e._e(),e._v(" "),e.isDone&&"PPD"===e.form_fiscal.fields.metodo_pago&&"VENTA"===e.form.fields.tipo?o("q-tab",{attrs:{slot:"title",name:"pagos",icon:"fas fa-file",label:"Pagos"},slot:"title"}):e._e(),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("q-tab",{attrs:{slot:"title",name:"facturas",icon:"fas fa-donate",label:"Facturas"},slot:"title"}):e._e(),e._v(" "),"VENTA"===e.form.fields.tipo?o("q-tab-pane",{attrs:{name:"generales"}},[e.isDone||e.isChecking?e._e():o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-8 pull-left"},[o("h6",{staticStyle:{margin:"0","font-weight":"bold"}},[e._v("Agregar productos")])]),e._v(" "),"save"===e.form_productos.typeButton?o("div",{staticClass:"col-sm-4 pull-right"},[o("q-btn",{staticClass:"btn_guardar pull-right",attrs:{"icon-right":"add",loading:e.loadingButton},on:{click:function(t){e.addProduct()}}},[e._v("Agregar")])],1):e._e(),e._v(" "),"update"===e.form_productos.typeButton?o("div",{staticClass:"col-sm-4 pull-right"},[o("q-btn",{staticClass:"btn_actualizar pull-right",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.actualizarProducto()}}},[e._v("Actualizar")])],1):e._e()]),e._v(" "),e.isDone||e.isChecking?e._e():o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark",error:e.$v.form_productos.fields.producto_id.$error,"error-label":"Elija un producto"}},[o("q-select",{ref:"select_product",attrs:{readonly:"update"===e.form_productos.typeButton,inverted:"",color:"dark","float-label":"Producto",options:e.productosOptions,filter:""},on:{input:function(t){e.onSelectedProduct()}},model:{value:e.form_productos.fields.producto_id,callback:function(t){e.$set(e.form_productos.fields,"producto_id",t)},expression:"form_productos.fields.producto_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-hashtag","icon-color":"dark",error:e.$v.form_productos.fields.cantidad.$error,"error-label":"Ingrese una cantidad"}},[o("q-input",{attrs:{inverted:"",color:"dark","float-label":"Cantidad",maxlength:"100"},on:{keyup:function(t){e.isNumber(t,"cantidad")}},model:{value:e.form_productos.fields.cantidad,callback:function(t){e.$set(e.form_productos.fields,"cantidad",t)},expression:"form_productos.fields.cantidad"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{inverted:"",color:"dark","float-label":"Descripcion",maxlength:"100"},model:{value:e.form_productos.fields.descripcion,callback:function(t){e.$set(e.form_productos.fields,"descripcion",t)},expression:"form_productos.fields.descripcion"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-1 pull-right"},[o("q-checkbox",{model:{value:e.form_productos.fields.impuesto,callback:function(t){e.$set(e.form_productos.fields,"impuesto",t)},expression:"form_productos.fields.impuesto"}}),e._v(" Agregar IVA\n                ")],1)]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.detalles,columns:e.form_detalles.columns,selected:e.form_detalles.selected,filter:e.form_detalles.filter,color:"positive",title:"",dense:!0,pagination:e.form_detalles.pagination,loading:e.form_detalles.loading,"rows-per-page-options":e.form_detalles.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_detalles,"selected",t)},"update:pagination":function(t){e.$set(e.form_detalles,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"producto_nombre",attrs:{props:t}},[e._v(e._s(t.row.producto_nombre))]),e._v(" "),o("q-td",{key:"descripcion",attrs:{props:t}},[e._v(e._s(t.row.descripcion))]),e._v(" "),o("q-td",{key:"tipo_unidad",attrs:{props:t}},[e._v(e._s(t.row.tipo_unidad))]),e._v(" "),o("q-td",{key:"cantidad",attrs:{props:t}},[e._v(e._s(t.row.cantidad))]),e._v(" "),o("q-td",{key:"precio_unitario",attrs:{props:t}},[e._v(e._s(t.row.precio_unitario))]),e._v(" "),o("q-td",{key:"subtotal",attrs:{props:t}},[e._v(e._s(t.row.subtotal))]),e._v(" "),o("q-td",{key:"impuesto_importe",attrs:{props:t}},[e._v(e._s(t.row.impuesto_importe))]),e._v(" "),o("q-td",{key:"total",attrs:{props:t}},[e._v(e._s(t.row.total))]),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},[e.isDone||e.isChecking?e._e():o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRowDetalle(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_productos.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e(),e._v(" "),"VENTA"===e.form.fields.tipo?o("q-tab-pane",{attrs:{name:"fiscales"}},[o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-8 offset-sm-4 pull-right"},[e.detalles.length>0&&"REMISIONADO"===e.form.fields.status&&!e.isChecking&&!e.isDone?o("q-btn",{staticClass:"btn_guardar pull-right",attrs:{"icon-right":"fas fa-certificate",loading:e.loadingButton},on:{click:function(t){e.timbrarRemision()}}},[e._v("Timbrar")]):e._e(),e._v(" "),1===e.form.fields.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{disabled:"",color:"orange"}},[e._v(e._s(this.form.fields.uuid))]):e._e(),e._v(" "),1===e.form.fields.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{color:"green-8","icon-right":"fas fa-file-excel",loading:e.loadingButton},on:{click:function(t){e.getCFDIInvoice(e.form.fields.id_request)}}},[e._v("XML")]):e._e(),e._v(" "),1===e.form.fields.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{color:"brown","icon-right":"fas fa-file-pdf",loading:e.loadingButton},on:{click:function(t){e.getPdfInvoice(e.form.fields.id_request)}}},[e._v("PDF")]):e._e(),e._v(" "),1===e.form.fields.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{color:"red-9","icon-right":"cancel",loading:e.loadingButton},on:{click:function(t){e.cancelarFactura()}}},[e._v("Cancelar")]):e._e(),e._v(" "),e.isDone||e.isChecking?e._e():o("q-btn",{staticClass:"btn_actualizar pull-right",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.actualizarFiscal()}}},[e._v("Actualizar")])],1)]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.razon_social.$error,"error-label":"El cliente debe tener una razon social registrada"}},[o("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Razon social del receptor"},model:{value:e.form_fiscal.fields.razon_social,callback:function(t){e.$set(e.form_fiscal.fields,"razon_social",t)},expression:"form_fiscal.fields.razon_social"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.rfc.$error,"error-label":"El cliente debe tener un RFC registrado"}},[o("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"RFC del receptor"},model:{value:e.form_fiscal.fields.rfc,callback:function(t){e.$set(e.form_fiscal.fields,"rfc",t)},expression:"form_fiscal.fields.rfc"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.serie.$error,"error-label":"Por favor registre una serie"}},[o("q-input",{attrs:{readonly:e.isDone||e.isChecking,"upper-case":"",inverted:"",color:"dark","float-label":"Serie"},on:{blur:function(t){e.siguienteFolio()}},model:{value:e.form_fiscal.fields.serie,callback:function(t){e.$set(e.form_fiscal.fields,"serie",t)},expression:"form_fiscal.fields.serie"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.folio_fiscal.$error,"error-label":"Por favor registre un folio fiscal"}},[o("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Folio fiscal"},model:{value:e.form_fiscal.fields.folio_fiscal,callback:function(t){e.$set(e.form_fiscal.fields,"folio_fiscal",t)},expression:"form_fiscal.fields.folio_fiscal"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_fiscal.fields.fecha_factura.$error,"error-label":"Por favor registre una fecha"}},[o("q-datetime",{attrs:{readonly:e.isDone||e.isChecking,type:"datetime",inverted:"",color:"dark","float-label":"Fecha de emisión",align:"center"},model:{value:e.form_fiscal.fields.fecha_factura,callback:function(t){e.$set(e.form_fiscal.fields,"fecha_factura",t)},expression:"form_fiscal.fields.fecha_factura"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.lugar_expedicion.$error,"error-label":"Por favor registre un código postal"}},[o("q-input",{attrs:{readonly:e.isDone||e.isChecking,inverted:"",color:"dark","float-label":"Lugar de expedición",maxlength:"5"},on:{keyup:function(t){e.isNumber(t,"codigo_postal")}},model:{value:e.form_fiscal.fields.lugar_expedicion,callback:function(t){e.$set(e.form_fiscal.fields,"lugar_expedicion",t)},expression:"form_fiscal.fields.lugar_expedicion"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.tipo_comprobante.$error,"error-label":"Por favor seleccione un tipo de comprobante"}},[o("q-select",{attrs:{readonly:e.isDone||e.isChecking,inverted:"",color:"dark","float-label":"Tipo de comprobante",options:e.tiposComprobanteOptions,filter:""},model:{value:e.form_fiscal.fields.tipo_comprobante,callback:function(t){e.$set(e.form_fiscal.fields,"tipo_comprobante",t)},expression:"form_fiscal.fields.tipo_comprobante"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.metodo_pago.$error,"error-label":"Por favor seleccione un método de pago"}},[o("q-select",{attrs:{readonly:e.isDone||e.isChecking,inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoOptions,filter:""},model:{value:e.form_fiscal.fields.metodo_pago,callback:function(t){e.$set(e.form_fiscal.fields,"metodo_pago",t)},expression:"form_fiscal.fields.metodo_pago"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.forma_pago.$error,"error-label":"Por favor seleccione una forma de pago"}},[o("q-select",{attrs:{readonly:e.isDone||e.isChecking,inverted:"",color:"dark","float-label":"Forma de pago",options:e.formaPagoOptions,filter:""},model:{value:e.form_fiscal.fields.forma_pago,callback:function(t){e.$set(e.form_fiscal.fields,"forma_pago",t)},expression:"form_fiscal.fields.forma_pago"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_fiscal.fields.uso_cfdi.$error,"error-label":"Por favor seleccione un uso CFDI"}},[o("q-select",{attrs:{readonly:e.isDone||e.isChecking,inverted:"",color:"dark","float-label":"Uso CFDI",options:e.usoCFDIOptions,filter:""},model:{value:e.form_fiscal.fields.uso_cfdi,callback:function(t){e.$set(e.form_fiscal.fields,"uso_cfdi",t)},expression:"form_fiscal.fields.uso_cfdi"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"})])]):e._e(),e._v(" "),"VENTA"===e.form.fields.tipo?o("q-tab-pane",{attrs:{name:"pagos"}},[o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-8 offset-sm-4 pull-right"},[o("q-btn",{staticClass:"btn_guardar pull-right",attrs:{"icon-right":"add",loading:e.loadingButton},on:{click:function(t){e.agregarPago()}}},[e._v("Agregar")])],1)]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_pagos.fields.fecha_pago.$error,"error-label":"Por favor registre una fecha"}},[o("q-datetime",{attrs:{type:"datetime",inverted:"",color:"dark","float-label":"Fecha del pago",align:"center"},model:{value:e.form_pagos.fields.fecha_pago,callback:function(t){e.$set(e.form_pagos.fields,"fecha_pago",t)},expression:"form_pagos.fields.fecha_pago"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_pagos.fields.total.$error,"error-label":"Por favor introduzca un total"}},[o("q-input",{attrs:{inverted:"",color:"dark","float-label":"Total del pago"},on:{keyup:function(t){e.isNumber(t,"total")}},model:{value:e.form_pagos.fields.total,callback:function(t){e.$set(e.form_pagos.fields,"total",t)},expression:"form_pagos.fields.total"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_pagos.fields.forma_pago.$error,"error-label":"Por favor seleccione una forma de pago"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Forma de pago",options:e.formaPagoOptions,filter:""},model:{value:e.form_pagos.fields.forma_pago,callback:function(t){e.$set(e.form_pagos.fields,"forma_pago",t)},expression:"form_pagos.fields.forma_pago"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"})]),e._v(" "),o("div",{staticClass:"row q-mt-lg"},[o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[o("q-table",{attrs:{id:"sticky-table",data:e.pagos,columns:e.form_pagos.columns,selected:e.form_pagos.selected,filter:e.form_pagos.filter,color:"positive",title:"",dense:!0,pagination:e.form_pagos.pagination,loading:e.form_pagos.loading,"rows-per-page-options":e.form_pagos.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_pagos,"selected",t)},"update:pagination":function(t){e.$set(e.form_pagos,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"num_parcialidad",attrs:{props:t}},[e._v(e._s(t.row.num_parcialidad))]),e._v(" "),o("q-td",{key:"fecha_pago",attrs:{props:t}},[e._v(e._s(t.row.fecha_pago))]),e._v(" "),o("q-td",{key:"total",attrs:{props:t}},[e._v(e._s(t.row.total))]),e._v(" "),o("q-td",{key:"status_timbrado",attrs:{props:t}},[o("q-chip",{attrs:{dense:"",icon:e.iconTimbrado[t.row.status_timbrado],color:e.colorTimbrado[t.row.status_timbrado],"text-color":"white"}},[e._v(e._s(e.statusTimbrado[t.row.status_timbrado])),6===t.row.status_timbrado?o("q-tooltip",[e._v(e._s(t.row.message))]):e._e(),7===t.row.status_timbrado?o("q-tooltip",[e._v(e._s(t.row.message_cancelacion))]):e._e()],1)],1),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},[0===t.row.status_timbrado||6===t.row.status_timbrado?o("q-btn",{attrs:{small:"",flat:"",color:"green-6",icon:"fas fa-certificate"},on:{click:function(o){e.timbrarPago(t.row)}}},[o("q-tooltip",[e._v("Timbrar")])],1):e._e(),e._v(" "),0===t.row.status_timbrado||6===t.row.status_timbrado?o("q-btn",{attrs:{small:"",flat:"",color:"red-6",icon:"delete"},on:{click:function(o){e.deleteSingleRowPago(t.row)}}},[o("q-tooltip",[e._v("Eliminar")])],1):e._e(),e._v(" "),1===t.row.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"green-8","icon-right":"fas fa-file-excel",loading:e.loadingButton},on:{click:function(o){e.getCFDIInvoice(t.row.id_request)}}},[o("q-tooltip",[e._v("XML")])],1):e._e(),e._v(" "),1===t.row.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"brown","icon-right":"fas fa-file-pdf",loading:e.loadingButton},on:{click:function(o){e.getPdfInvoice(t.row.id_request)}}},[o("q-tooltip",[e._v("PDF")])],1):e._e(),e._v(" "),1===t.row.status_timbrado?o("q-btn",{staticClass:"pull-right",attrs:{small:"",flat:"",color:"red-9","icon-right":"cancel",loading:e.loadingButton},on:{click:function(o){e.cancelarPago(t.row.id)}}},[o("q-tooltip",[e._v("Cancelar")])],1):e._e()],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_productos.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e(),e._v(" "),"HISTÓRICO"===e.form.fields.tipo?o("q-tab-pane",{attrs:{name:"facturas"}},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark",error:e.$v.form_facturas.file.nombre.$error,"error-label":"Ingrese el concepto de la factura"}},[o("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Concepto factura"},model:{value:e.form_facturas.file.nombre,callback:function(t){e.$set(e.form_facturas.file,"nombre",t)},expression:"form_facturas.file.nombre"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_facturas.file.fecha_factura.$error,"error-label":"Ingrese la fecha de factura"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de emisión",align:"center"},model:{value:e.form_facturas.file.fecha_factura,callback:function(t){e.$set(e.form_facturas.file,"fecha_factura",t)},expression:"form_facturas.file.fecha_factura"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_facturas.file.fecha_pago.$error,"error-label":"Ingrese la fecha de pago"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de pago",align:"center"},model:{value:e.form_facturas.file.fecha_pago,callback:function(t){e.$set(e.form_facturas.file,"fecha_pago",t)},expression:"form_facturas.file.fecha_pago"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_facturas.file.fecha_vencimiento.$error,"error-label":"Ingrese la fecha de vencimiento"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de vencimiento",align:"center"},model:{value:e.form_facturas.file.fecha_vencimiento,callback:function(t){e.$set(e.form_facturas.file,"fecha_vencimiento",t)},expression:"form_facturas.file.fecha_vencimiento"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"description","icon-color":"dark"}},[o("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Folio fiscal"},model:{value:e.form_facturas.file.folio_fiscal,callback:function(t){e.$set(e.form_facturas.file,"folio_fiscal",t)},expression:"form_facturas.file.folio_fiscal"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"attach_file","icon-color":"dark"}},[o("input",{ref:"fileInputFormato",staticStyle:{display:"none"},attrs:{inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf, .PNG, .JPG, .JPEG, .XML, .DOCX, .00, .PDF"},on:{input:function(t){e.checkContrato()}}}),e._v(" "),!0!==e.show_file_contrato?o("q-btn",{staticClass:"btn_atach",attrs:{loading:e.loadingButton},on:{click:function(t){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")]):o("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(t){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")])],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(t){e.uploadFormato()}}},[e._v("Guardar Factura")])],1)]),e._v(" "),o("div",{staticClass:"col q-pa-md border-panel"},[o("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[o("q-search",{attrs:{color:"primary"},model:{value:e.form_facturas.filter,callback:function(t){e.$set(e.form_facturas,"filter",t)},expression:"form_facturas.filter"}})],1),e._v(" "),o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_facturas.data,columns:e.form_facturas.columns,selected:e.form_facturas.selected,filter:e.form_facturas.filter,color:"positive",title:"",dense:!0,pagination:e.form_facturas.pagination,loading:e.form_facturas.loading,"rows-per-page-options":e.form_facturas.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_facturas,"selected",t)},"update:pagination":function(t){e.$set(e.form_facturas,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"id",staticStyle:{cursor:"pointer"},attrs:{props:t}},[e._v(e._s(t.row.id))]),e._v(" "),o("q-td",{key:"nombre",staticStyle:{cursor:"pointer"},attrs:{props:t}},[e._v(e._s(t.row.name))]),e._v(" "),o("q-td",{key:"extension",attrs:{props:t}},[e._v(e._s(t.row.doc_type))]),e._v(" "),o("q-td",{key:"fecha_factura",attrs:{props:t}},[e._v(e._s(t.row.fecha_factura))]),e._v(" "),o("q-td",{key:"fecha_pago",attrs:{props:t}},[e._v(e._s(t.row.fecha_pago))]),e._v(" "),o("q-td",{key:"fecha_vencimiento",attrs:{props:t}},[e._v(e._s(t.row.fecha_vencimiento))]),e._v(" "),o("q-td",{key:"monto_factura",attrs:{props:t}},[e._v("$"+e._s(e.currencyFormat(t.row.monto_factura)))]),e._v(" "),o("q-td",{key:"folio_fiscal",attrs:{props:t}},[e._v(e._s(t.row.folio_fiscal))]),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},[o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"get_app"},on:{click:function(o){e.abrirDocumento(t.row.id,t.row.doc_type)}}},[o("q-tooltip",[e._v("Ver")])],1),e._v(" "),o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteDoc(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_facturas.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e()],1)],1)])])]):e._e()])},b=[];h._withStripped=!0;var y=o("XyMi"),q=!1;var w=function(e){q||o("84+5")},k=Object(y.a)(v,h,b,!1,w,"data-v-3a2ff649",null);k.options.__file="src/pages/vnt/Remisiones.vue";t.default=k.exports}});
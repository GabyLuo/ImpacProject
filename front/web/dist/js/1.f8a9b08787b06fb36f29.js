webpackJsonp([1],{"+cKO":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return C.default}}),t.helpers=void 0;var r=x(o("FWhV")),i=x(o("PKmV")),a=x(o("hbkP")),s=x(o("3Ro/")),n=x(o("6rz0")),c=x(o("HSVw")),l=x(o("HM/u")),u=x(o("qHXR")),f=x(o("4ypF")),d=x(o("4oDf")),m=x(o("lEk1")),p=x(o("6+Xr")),h=x(o("L6Jx")),g=x(o("7J6f")),v=x(o("Y18q")),_=x(o("bXE/")),b=x(o("FP1U")),y=x(o("aYrh")),P=x(o("xJ3U")),w=x(o("eqrJ")),C=x(o("pO+f")),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}(o("URu4"));function x(e){return e&&e.__esModule?e:{default:e}}t.helpers=O},"3Ro/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},function(o){return!(0,r.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+e<=+o&&+t>=+o})}},"4oDf":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4"),i=(0,r.withParams)({type:"required"},r.req);t.default=i},"4ypF":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"minLength",min:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e})}},"5dBV":function(e,t,o){e.exports={default:o("quu5"),__esModule:!0}},"6+Xr":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},function(t,o){return!!(0,r.ref)(e,this,o)||(0,r.req)(t)})}},"6rz0":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/);t.default=r},"7J6f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=r},"9VIl":function(e,t,o){var r;r=function(){return function(e){function t(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=9)}([function(e,t,o){"use strict";t.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,t,o){"use strict";var r=o(2),i=o(5),a=o(0);t.a=function(e,t){if(t.value){var s=o.i(i.a)(a.a,t.value);if("INPUT"!==e.tagName.toLocaleUpperCase()){var n=e.getElementsByTagName("input");1!==n.length||(e=n[0])}e.oninput=function(){var t=e.value.length-e.selectionEnd;e.value=o.i(r.a)(e.value,s),t=Math.max(t,s.suffix.length),t=e.value.length-t,t=Math.max(t,s.prefix.length+1),o.i(r.b)(e,t),e.dispatchEvent(o.i(r.c)("change"))},e.onfocus=function(){o.i(r.b)(e,e.value.length-s.suffix.length)},e.oninput(),e.dispatchEvent(o.i(r.c)("input"))}}},function(e,t,o){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;"number"==typeof e&&(e=e.toFixed(s(t.precision)));var o=e.indexOf("-")>=0?"-":"",r=c(n(a(e),t.precision)).split("."),i=r[0],l=r[1];return i=function(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}(i,t.thousands),t.prefix+o+function(e,t,o){return t?e+o+t:e}(i,l,t.decimal)+t.suffix}function i(e,t){var o=e.indexOf("-")>=0?-1:1,r=n(a(e),t);return parseFloat(r)*o}function a(e){return c(e).replace(/\D+/g,"")||"0"}function s(e){return function(e,t,o){return Math.max(e,Math.min(t,o))}(0,e,20)}function n(e,t){var o=Math.pow(10,t);return(parseFloat(e)/o).toFixed(s(t))}function c(e){return e?e.toString():""}function l(e,t){var o=function(){e.setSelectionRange(t,t)};e===document.activeElement&&(o(),setTimeout(o,1))}function u(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var f=o(0);o.d(t,"a",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"b",function(){return l}),o.d(t,"c",function(){return u})},function(e,t,o){"use strict";function r(e,t){t&&Object.keys(t).map(function(e){n.a[e]=t[e]}),e.directive("money",s.a),e.component("money",a.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(6),a=o.n(i),s=o(1),n=o(0);o.d(t,"Money",function(){return a.a}),o.d(t,"VMoney",function(){return s.a}),o.d(t,"options",function(){return n.a}),o.d(t,"VERSION",function(){return c});var c="0.8.1";t.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),i=o(0),a=o(2);t.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return i.a.precision}},decimal:{type:String,default:function(){return i.a.decimal}},thousands:{type:String,default:function(){return i.a.thousands}},prefix:{type:String,default:function(){return i.a.prefix}},suffix:{type:String,default:function(){return i.a.suffix}}},directives:{money:r.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e,t){var r=o.i(a.a)(e,this.$props);r!==this.formattedValue&&(this.formattedValue=r)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:o.i(a.d)(e.target.value,this.precision))}}}},function(e,t,o){"use strict";t.a=function(e,t){return e=e||{},t=t||{},Object.keys(e).concat(Object.keys(t)).reduce(function(o,r){return o[r]=void 0===t[r]?e[r]:t[r],o},{})}},function(e,t,o){var r=o(7)(o(4),o(8),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,o,r){var i,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,a=e.default);var n="function"==typeof a?a.options:a;if(t&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns),o&&(n._scopeId=o),r){var c=n.computed||(n.computed={});Object.keys(r).forEach(function(e){var t=r[e];c[e]=function(){return t}})}return{esModule:i,exports:a,options:n}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,o){e.exports=o(3)}])},e.exports=r()},BO1k:function(e,t,o){e.exports={default:o("fxRn"),__esModule:!0}},CHlY:function(e,t,o){var r=o("kM2E"),i=o("bs6G");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},FP1U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"not"},function(t,o){return!(0,r.req)(t)||!e.call(this,t,o)})}},FWhV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("alpha",/^[a-zA-Z]*$/);t.default=r},Gy2W:function(e,t,o){var r=o("lRqH");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,o("rjj0").default)("2a91cf68",r,!1,{})},"HM/u":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},function(t){if(!(0,r.req)(t))return!0;if("string"!=typeof t)return!1;var o="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==o&&(6===o.length||8===o.length)&&o.every(i)})};var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},HSVw:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4"),i=(0,r.withParams)({type:"ipAddress"},function(e){if(!(0,r.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)});t.default=i;var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},L6Jx:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"sameAs",eq:e},function(t,o){return t===(0,r.ref)(e,this,o)})}},PKmV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},SldL:function(e,t){!function(t){"use strict";var o,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",n=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",m="executing",p="completed",h={},g={};g[s]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(q([])));_&&_!==r&&i.call(_,s)&&(g=_);var b=O.prototype=w.prototype=Object.create(g);C.prototype=b.constructor=O,O.constructor=C,O[c]=C.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},x($.prototype),$.prototype[n]=function(){return this},u.AsyncIterator=$,u.async=function(e,t,o,r){var i=new $(y(e,t,o,r));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var r=t.pop();if(r in e)return o.value=r,o.done=!1,o}return o.done=!0,o}},u.values=q,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return n.type="throw",n.arg=e,t.next=r,i&&(t.method="next",t.arg=o),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],n=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),j(o),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var r=o.completion;if("throw"===r.type){var i=r.arg;j(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:q(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=o),h}}}function y(e,t,o,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),s=new M(r||[]);return a._invoke=function(e,t,o){var r=f;return function(i,a){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return L()}for(o.method=i,o.arg=a;;){var s=o.delegate;if(s){var n=D(s,o);if(n){if(n===h)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===f)throw r=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=m;var c=P(e,t,o);if("normal"===c.type){if(r=o.done?p:d,c.arg===h)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=p,o.method="throw",o.arg=c.arg)}}}(e,o,s),a}function P(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function w(){}function C(){}function O(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function $(e){var t;this._invoke=function(o,r){function a(){return new Promise(function(t,a){!function t(o,r,a,s){var n=P(e[o],e,r);if("throw"!==n.type){var c=n.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,a,s)},function(e){t("throw",e,a,s)}):Promise.resolve(l).then(function(e){c.value=e,a(c)},s)}s(n.arg)}(o,r,t,a)})}return t=t?t.then(a,a):a()}}function D(e,t){var r=e.iterator[t.method];if(r===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=o,D(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=P(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=o),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function q(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=o,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:o,done:!0}}}(function(){return this}()||Function("return this")())},URu4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return i.default}}),t.regex=t.ref=t.len=t.req=void 0;var r,i=(r=o("mpcv"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;t.len=function(e){return Array.isArray(e)?e.length:"object"===a(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,o){return"function"==typeof e?e.call(t,o):o[e]};t.regex=function(e,t){return(0,i.default)({type:e},function(e){return!s(e)||t.test(e)})}},Xxa5:function(e,t,o){e.exports=o("jyFz")},Y18q:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,r.withParams)({type:"or"},function(){for(var e=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t.length>0&&t.reduce(function(t,o){return t||o.apply(e,r)},!1)})}},"Y6+l":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("BO1k"),i=o.n(r),a=o("5dBV"),s=o.n(a),n=o("Xxa5"),c=o.n(n),l=o("exGp"),u=o.n(l),f=o("Dd8w"),d=o.n(f),m=o("NYxO"),p=o("+cKO"),h=o("PJh5"),g=o.n(h),v=o("9VIl"),_=o("mtWM"),b=o.n(_),y=p.helpers.regex("nombreRep",/^[A-ZÁÉÍÓÚÑ]+(\s{1}[A-ZÁÉÍÓÚÑ]+)*$/),P={beforeRouteEnter:function(e,t,o){o(function(e){for(var r=!1,i=e.$store.getters["user/role"],a=0;a<i.length;a++)i[a].toUpperCase()!=="admin".toUpperCase()&&i[a].toUpperCase()!=="ROOT".toUpperCase()&&i[a].toUpperCase()!=="CLIENTE".toUpperCase()&&i[a].toUpperCase()!=="LIDER".toUpperCase()&&i[a].toUpperCase()!=="COORDINADOR".toUpperCase()&&i[a].toUpperCase()!=="GERENTE DE OPERACIONES".toUpperCase()&&i[a].toUpperCase()!=="PMO".toUpperCase()&&i[a].toUpperCase()!=="FINANZAS".toUpperCase()&&i[a].toUpperCase()!=="LICITACIONES - SOLICITUDES".toUpperCase()&&i[a].toUpperCase()!=="GERENTE".toUpperCase()&&i[a].toUpperCase()!=="COBRANZA".toUpperCase()&&i[a].toUpperCase()!=="PLANEACIÓN".toUpperCase()&&i[a].toUpperCase()!=="OPERACIÓN".toUpperCase()&&i[a].toUpperCase()!=="FINANZAS/COMISIONES".toUpperCase()||(r=!0);r?o():o("/"===t.path?"/dashboard":t.path)})},data:function(){return{registro_comision:"",selectYear:[{label:""+((new Date).getFullYear()-2),value:""+((new Date).getFullYear()-2)},{label:""+((new Date).getFullYear()-1),value:""+((new Date).getFullYear()-1)},{label:""+(new Date).getFullYear(),value:""+(new Date).getFullYear()},{label:""+((new Date).getFullYear()+1),value:""+((new Date).getFullYear()+1)}],adjudicacionOptions:[{label:"LICITACIÓN",value:"LICITACIÓN"},{label:"ADJUDICACIÓN DIRECTA",value:"ADJUDICACIÓN DIRECTA"},{label:"INVITACIÓN A 3",value:"INVITACIÓN A 3"},{label:"VENTA DIRECTA",value:"VENTA DIRECTA"}],year:""+(new Date).getFullYear(),busquedaOptions:[{label:"PROYECTO",value:"PROYECTO"},{label:"PRESUPUESTO",value:"PRESUPUESTO"}],modal_ver_contrato:!1,show_file_contrato:!1,tabPrincipal:"contratos",tab:"colaborador_pane",role:"",user_id:0,loadingButton:!1,informacion:!1,objetoInformacion:null,open_contratos:!1,open_presupuestos:!1,open_organismos:!1,open_perfiles:!1,InformacionContrato:!1,objetoInformacionContrato:null,licitacionesOptions:[],empresas2Options:[],contratosOptions:[],isExpanded:!0,selectedRowID:{},itemId:null,actividades:[],open_colaboradores:!1,open_solicitantes:!1,open_autorizadores:!1,open_responsables:!1,alterar_presupuesto:!1,objetoInformacionPresupuesto:null,informacionPresupuestos:!1,data_projects:[],tiposFacturaOptions:[{label:"GDP",value:"GDP"},{label:"Retail",value:"retail"}],tiposComprobanteOptions:[{label:"Ingreso",value:"I"},{label:"Egreso",value:"E"},{label:"Pago",value:"P"}],metodoPagoOptions:[{label:"Pago en una sola exhibición",value:"PUE"},{label:"Pago en parcialidades",value:"PPD"}],tipoComision:[{label:"PORCENTAJE",value:"PORCENTAJE"},{label:"CANTIDAD FIJA",value:"CANTIDAD FIJA"},{label:"--Seleccione--",value:"all"}],metodoPagoComisionOptions:[{label:"EFECTIVO",value:"EFECTIVO"},{label:"TRANSFERENCIA",value:"TRANSFERENCIA"},{label:"CHEQUE",value:"CHEQUE"},{label:"--Seleccione--",value:"all"}],ivaOptions:[{label:"SUBTOTAL",value:"SUBTOTAL"},{label:"NETO",value:"NETO"},{label:"--Seleccione--",value:"all"}],aplicadoOptions:[{label:"AL CONTRATO",value:"AL CONTRATO"},{label:"A LA UTILIDAD",value:"A LA UTILIDAD"},{label:"--Seleccione--",value:"all"}],tiempoOptions:[{label:"FIRMA DE CONTRATO",value:"FIRMA DE CONTRATO"},{label:"COBRO DE FACTURA",value:"COBRO DE FACTURA"},{label:"--Seleccione--",value:"all"}],asignadoComision:[{label:"ALIADO",value:"ALIADO"},{label:"VENDEDOR",value:"VENDEDOR"}],money:{decimal:".",thousands:",",precision:2,masked:!1},factura:!1,viewsContrato:{grid:!0,create:!1,update:!1},viewsPresupuestos:{grid:!0,create:!1,update:!1},viewsOrganismos:{grid:!0,create:!1,update:!1},viewsComisiones:{grid:!0,create:!1,update:!1},views:{grid:!0,create:!1,update:!1,info:!1},form_presupuestos:{data_projects:[],data_contratos:[],data_comisiones:[],data_organismos:[],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form:{data_recursos:[],tipo_factura:"",file:{nombre:"",fecha_pago:"",fecha_factura:"",fecha_vencimiento:"",folio_fiscal:""},retail:{nombre:"",fecha_pago:"",fecha_factura:"",fecha_vencimiento:"",folio_fiscal:""},fieldsContrato:{id:0,recurso_id:0,empresa_id:0,licitacion_id:0,fecha_inicio:"",fecha_fin:"",monto_total:0,monto_total_validar:0,rep_legal_contrato:"",num_contrato:0,nombre:"",organismo_id:0,porcentaje:0,filter:"",documento_pdf:"",doc_type_pdf:"",nombre_pdf:"",observaciones:""},fields:{id:0,codigo:"",cliente_id:0,subprograma_id:0,programa_id:0,fuente_financiamiento:"",monto:0,montovalidar:0,total_recursos:0,monto_licitado:0,monto_adjudicado:0,rubro:"",nombre:"",aliado:"",aliado1:"",aliado2:"",aliado3:"",suma_contratos:0,adjudicacion:"",sucursal_id:0},fieldsPresupuesto:{id:0,nombre_proyecto:"",recurso_id:0,inicio:"",fin:"",dias:0,presupuesto:0,presupuesto_actual:0,presupuestovalidar:0,monto_bolsa:0,lider_proyecto:"",lider_usuario:"",licitacion_id:0,empresa_id:0,status:"ACTIVO",sucursal_id:0},rowsOptions:[3,5,7,10,15,20,25,50],columnsPresupuesto:[{name:"nombre_proyecto",label:"Nombre",field:"nombre_proyecto",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"inicio",label:"Fecha de inicio",field:"inicio",sortable:!0,type:"string",align:"center"},{name:"fin",label:"Fecha de término",field:"fin",sortable:!0,type:"string",align:"center"},{name:"lider",label:"Lider",field:"lider",sortable:!0,type:"string",align:"center"},{name:"status",label:"Status",field:"status",sortable:!0,type:"string",align:"center"},{name:"finalizado",label:"Finalizado",field:"finalizado",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"center"}],columns:[{name:"codigo",label:"Código",field:"codigo",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Cliente",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"programa",label:"Programa",field:"programa_nombre",sortable:!0,type:"string",align:"left"},{name:"subprograma",label:"Subprograma",field:"subprograma_nombre",sortable:!0,type:"string",align:"center"},{name:"creador",label:"Creador",field:"creador",sortable:!0,type:"string",align:"left"},{name:"fecha_creacion",label:"Fecha creado",field:"fecha_creacion",sortable:!0,type:"string",align:"center"},{name:"rubro",label:"Rubro",field:"rubro",sortable:!0,type:"string",align:"center"},{name:"year",label:"Año",field:"year",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],columnsContrato:[{name:"num_contrato",label:"Contrato",field:"num_contrato",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"monto_total",label:"Importe",field:"monto_total",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"licitacion",label:"Licitación",field:"licitacion",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Empresa",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"fecha_inicio",label:"Fecha firma",field:"fecha_inicio",sortable:!0,type:"string",align:"center"},{name:"fecha_fin",label:"Fecha fin",field:"fecha_fin",sortable:!0,type:"string",align:"center"},{name:"documento_final",label:"Documento final",field:"documento_final",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],columnsContratoSoloLectura:[{name:"num_contrato",label:"Contrato",field:"num_contrato",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"licitacion",label:"Licitación",field:"licitacion",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Empresa",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"fecha_inicio",label:"Fecha firma",field:"fecha_inicio",sortable:!0,type:"string",align:"center"},{name:"fecha_fin",label:"Fecha fin",field:"fecha_fin",sortable:!0,type:"string",align:"center"}],fileColumnContrato:[{name:"id",label:"Factura",field:"factura",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre Factura",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"extension",label:"Extensión",field:"extension",sortable:!0,type:"string",align:"center"},{name:"fecha_factura",label:"Fecha de Factura",field:"fecha_factura",sortable:!0,type:"string",align:"center"},{name:"fecha_pago",label:"Fecha de pago",field:"fecha_pago",sortable:!0,type:"string",align:"center"},{name:"fecha_vencimiento",label:"Fecha de vencimiento",field:"fecha_vencimiento",sortable:!0,type:"string",align:"center"},{name:"monto_factura",label:"Monto",field:"monto_factura",sortable:!0,type:"string",align:"center"},{name:"folio_fiscal",label:"Folio fiscal",field:"folio_fiscal",sortable:!0,type:"string",align:"center"},{name:"cancelada",label:"Cancelada",field:"cancelada",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"center"}],pagination:{rowsPerPage:50},selected:[],filter:"",busqueda:"PROYECTO",filter_presupuesto:"",presupuesto:"",loading:!1},form_actividades:{loading:!1,modal_editar:!1,modal_crear:!1,modal_documentos:!1,fieldsPresupuesto:{id:0,proyecto_id:0,nombre:"",avance:0,inicio:"",fin:"",costo:0,costovalidar:0,fin_real:"",indice:"",nivel:0,resumen:!1,duracion:0,duracion_restante:0,padre_id:0,children_cantidad:0,presupuesto_inicial:0}},form_solicitantes:{solicitantesOptions:[],solicitantes_proyecto:!1,editar_solicitantes_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsSolicitantesLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_autorizadores:{autorizadoresOptions:[],autorizadores_proyecto:!1,editar_autorizadores_proyecto:!1,selectNivel:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10}],columns:[{name:"orden",label:"Nivel",field:"orden",sortable:!0,type:"string",align:"left"},{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"alteracion",label:"Ajustar presupuesto",field:"alteracion",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsAutorizadoresLectura:[{name:"orden",label:"Nivel",field:"orden",sortable:!0,type:"string",align:"left"},{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"alteracion",label:"Ajustar presupuesto",field:"alteracion",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:"",orden:0,alteracion:"NO"}},form_responsables:{responsablesOptions:[],responsables_proyecto:!1,editar_responsables_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsResponsablesLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_colaboradores:{colaboradoresOptions:[],colaboradores_proyecto:!1,editar_colaboradores_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsColaboradoresLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_archivos:{columns:[{name:"name",label:"Archivo",field:"name",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fields:{id:0,name:"",descripcion:"",usuario_destino:0}},form_organismos:{columns:[{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fields:{id:0,nombre:""}},form_comisiones:{columns:[{name:"asignado",label:"Asignado",field:"asignado",sortable:!0,type:"string",align:"left"},{name:"aliado",label:"Aliado/Vendedor",field:"aliado",sortable:!0,type:"string",align:"left"},{name:"tipo",label:"Tipo",field:"tipo",sortable:!0,type:"string",align:"left"},{name:"cantidad_com",label:"Cantidad / porcentaje",field:"cantidad_com",sortable:!0,type:"string",align:"right"},{name:"contrato",label:"Contrato",field:"contrato",sortable:!0,type:"string",align:"right"},{name:"monto_total_comision",label:"Total comisión",field:"monto_total_comision",sortable:!0,type:"string",align:"right"},{name:"nombre_proyecto",label:"Proyecto",field:"nombre_proyecto",sortable:!0,type:"string",align:"left"},{name:"documentos",label:"Archivos",field:"documentos",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,monto_bolsa:0,monto_base:0,monto_comision:0,fields:{id:0,proyecto_id:0,aliado_id:0,tipo:"",porcentaje:0,monto:0,monto_base:0,metodo_pago:"",contrato_id:0,iva:"si",aplicado:"",tiempo_pago:"",observaciones:"",vendedor_id:0,asignado:"ALIADO"}},form_perfiles:{perfilesOptions:[],perfiles_proyecto:!1,columns:[{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"participacion",label:"Participación",field:"participacion",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,data:[],fieldsPresupuesto:{id:0,proyecto_id:0,perfil_id:0,participacion:""}},modal:{x:0,y:0,transition:null}}},directives:{money:v.VMoney},computed:d()({},Object(m.c)({programasOptions:"vnt/programa/selectOptions",clientesOptions:"ventas/clientes/selectOptions",recursos:"vnt/recurso/recursos",recursosOptions:"vnt/recurso/selectOtherOptions",empresasOptions:"vnt/empresa/selectOptions",contratos:"vnt/contrato/contratos",facturas:"vnt/contratoFactura/facturas",usuariosOptions:"sys/users/selectOptionsName",proyectos:"pmo/proyecto/proyectos",organismos:"vnt/organismo/organismos",comisiones:"com/comisiones/comisiones",organismosOptions:"vnt/organismo/selectOptions",formaPagoOptions:"vnt/contratoFactura/selectPaymentFormsOptions",vendedoresOptions:"crm/vendedores/selectOptions",sucursalesOptions:"pmo/pmosucursales/selectOptions"}),{subprogramasOptions:function(){var e=this,t=this.$store.getters["vnt/subprograma/selectOtherOptions"].filter(function(t){return t.programa_id===e.form.fields.programa_id});return t.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),t},arrayTreeObj:function(){var e=[];return this.recursive(this.actividades,e,0,this.itemId,this.isExpanded),e},cliente:function(){var e=this,t="";return parseInt(this.form.fieldsContrato.recurso_id)>0&&this.recursosOptions.forEach(function(o){parseInt(o.value)===parseInt(e.form.fieldsContrato.recurso_id)&&(t=o.cliente)}),t},Datofactura:function(){return this.form.fieldsContrato.id>0},aliadosOptions:function(){var e=this.$store.getters["com/aliados/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e}}),created:function(){this.loadAll()},watch:{informacion:function(e,t){!1===e&&(this.objetoInformacion=null)},informacionPresupuestos:function(e,t){!1===e&&(this.objetoInformacionPresupuesto=null)},alterar_presupuesto:function(e,t){this.form_autorizadores.fieldsPresupuesto.alteracion=!0===e?"SI":"NO"},open_autorizadores:function(e,t){!0===e&&this.cargarAutorizadores()},open_perfiles:function(e,t){!0===e&&this.getPerfiles()},"form_actividades.fieldsPresupuesto.avance":function(e,t){null===e&&(this.form_actividades.fieldsPresupuesto.avance=0)},"form.fieldsPresupuesto.inicio":function(e,t){""!==this.form.fieldsPresupuesto.fin&&""!==e&&(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)?this.form.fieldsPresupuesto.dias=this.getDiasLaborables(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin):(this.form.fieldsPresupuesto.dias=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")))},"form.fieldsPresupuesto.fin":function(e,t){""!==this.form.fieldsPresupuesto.inicio&&""!==e&&(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)?this.form.fieldsPresupuesto.dias=this.getDiasLaborables(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin):(this.form.fieldsPresupuesto.dias=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")))},"form_actividades.fieldsPresupuesto.inicio":function(e,t){if(null===e&&(e="",this.form_actividades.fieldsPresupuesto.inicio="",this.form_actividades.fieldsPresupuesto.duracion=0),""!==this.form_actividades.fieldsPresupuesto.fin&&""!==e)if(this.validarFechasPresupuestos(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin)){var o=this.getDiasLaborables(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin);this.form_actividades.fieldsPresupuesto.duracion=o}else this.form_actividades.fieldsPresupuesto.duracion=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},"form_actividades.fieldsPresupuesto.fin":function(e,t){if(null===e&&(e="",this.form_actividades.fieldsPresupuesto.fin="",this.form_actividades.fieldsPresupuesto.duracion=0),""!==this.form_actividades.fieldsPresupuesto.inicio&&""!==e)if(this.validarFechasPresupuestos(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin)){var o=this.getDiasLaborables(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin);this.form_actividades.fieldsPresupuesto.duracion=o}else this.form_actividades.fieldsPresupuesto.duracion=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},check_perfiles:function(e,t){this.form_actividades.actividades_proyecto=!0===e},tabPrincipal:function(e,t){var o=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("projects"===e&&o.cargarDataProject(),"comisiones"!==e){t.next=10;break}return t.next=4,o.getContratosOpt();case 4:return t.next=6,o.getAliados();case 6:return t.next=8,o.cargarDataComisiones();case 8:return t.next=10,o.getVendedores();case 10:if("organismos"!==e){t.next=13;break}return t.next=13,o.cargarDataOrganismos();case 13:if("contratos"!==e){t.next=17;break}return o.modal_ver_contrato=!1,t.next=17,o.cargarDataContratos();case 17:case"end":return t.stop()}},t,o)}))()}},methods:d()({},Object(m.b)({getUser:"user/refresh",getRecursos:"vnt/recurso/refresh",getRecursosByYear:"vnt/recurso/getByYear",saveRecurso:"vnt/recurso/save",updateRecurso:"vnt/recurso/update",deleteRecurso:"vnt/recurso/delete",getSubprogramas:"vnt/subprograma/refresh",getProgramas:"vnt/programa/refresh",getClientes:"ventas/clientes/refresh",getContratos:"vnt/contrato/refresh",getContratosbyID:"vnt/contrato/getByID",saveContrato:"vnt/contrato/save",updateContrato:"vnt/contrato/update",deleteContrato:"vnt/contrato/delete",getEmpresas:"vnt/empresa/refresh",getLicitacionesByRecurso:"lic/licitacion/getByRecurso",getFacturas:"vnt/contratoFactura/getFacturas",deleteDocFacturas:"vnt/contratoFactura/delete",getProyectos:"pmo/proyecto/refresh",getProyectosbyID:"pmo/proyecto/getByID",saveProyecto:"pmo/proyecto/save",updateProyecto:"pmo/proyecto/update",updateProyectoStatus:"pmo/proyecto/updateStatus",updateFinalizado:"pmo/proyecto/updateFinalizado",deleteProyecto:"pmo/proyecto/delete",getUsuarios:"sys/users/refresh",getActividadesByProyecto:"pmo/carga/getByProyecto",getSolicitantesByProyecto:"pmo/solicitantes/getByProyecto",getAutorizadoresByProyecto:"pmo/autorizadores/getByProyecto",getResponsablesByProyecto:"pmo/responsable_pagos/getByProyecto",getColaboradoresByProyecto:"pmo/colaboradores/getByProyecto",saveActividad:"pmo/carga/save",updateActividad:"pmo/carga/update",deleteActividad:"pmo/carga/delete",saveSolicitante:"pmo/solicitantes/save",deleteSolicitante:"pmo/solicitantes/delete",saveAutorizador:"pmo/autorizadores/save",deleteAutorizador:"pmo/autorizadores/delete",saveResponsable:"pmo/responsable_pagos/save",deleteResponsable:"pmo/responsable_pagos/delete",saveColaborador:"pmo/colaboradores/save",deleteColaborador:"pmo/colaboradores/delete",updateColaborador:"pmo/colaboradores/update",updateSolicitante:"pmo/solicitantes/update",updateAutorizador:"pmo/autorizadores/update",updateResponsable:"pmo/responsable_pagos/update",deleteFormatoAct:"pmo/carga/deleteFormatoActividad",getEmpresaConcursante:"lic/licitacion/getEmpresaConcursanteByIdLicitacion",saveOrganismo:"vnt/organismo/save",updateOrganismo:"vnt/organismo/update",getOrganismos:"vnt/organismo/refresh",getOrganismosbyID:"vnt/organismo/getByProyecto",deleteOrganismo:"vnt/organismo/delete",eliminarDocumento:"vnt/contrato/deleteFile",getPerfilesByProject:"per/proyectos_perfiles/getByProject",savePerfil:"per/proyectos_perfiles/save",getAllPerfiles:"per/perfiles/refresh",deletePerfil:"per/proyectos_perfiles/delete",getFormasDePago:"vnt/contratoFactura/getFormasDePago",saveComision:"com/comisiones/save",updateComision:"com/comisiones/update",getComisionesbyID:"com/comisiones/getByProyecto",deleteComision:"com/comisiones/delete",getAliados:"com/aliados/refresh",getComisiones:"com/comisiones/refresh",getContratosOptions:"vnt/contrato/getOptions",cancelarFactura:"vnt/contratoFactura/cancelarFactura",getVendedores:"crm/vendedores/refresh",deleteActividadSingle:"pmo/carga/delete_single",deleteDocumentoComision:"com/documentos_comisiones/deleteFormato",getSucursales:"pmo/pmosucursales/refresh"}),{filterByYear:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.loading=!0,e.form.presupuesto="all",""!==e.form.filter_presupuesto&&(e.form.presupuesto=e.form.filter_presupuesto),t.next=5,e.getRecursosByYear({year:e.year,presupuesto:e.form.presupuesto}).then(function(t){var o=t.data;o.recursos.length>0?e.form.data_recursos=o.recursos:e.form.data_recursos=[]}).catch(function(e){console.error(e)});case 5:e.form.loading=!1;case 6:case"end":return t.stop()}},t,e)}))()},getRole:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUser().then(function(t){var o=t.data;e.role=o.role[0],e.user_id=o.user.id,console.log(o.user.id)}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},returnToView:function(e,t){var o=this;return u()(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("contrato"!==e){r.next=7;break}return o.modal_ver_contrato=!1,o.setViewContrato(t),r.next=5,o.cargarDataContratos();case 5:return r.next=7,o.getContratosOpt();case 7:if("presupuesto"!==e){r.next=11;break}return o.setViewPresupuestos(t),r.next=11,o.cargarDataProject();case 11:if("organismo"!==e){r.next=15;break}return o.setViewOrganismos(t),r.next=15,o.cargarDataOrganismos();case 15:if("comision"!==e){r.next=19;break}return o.setViewComisiones(t),r.next=19,o.cargarDataComisiones();case 19:case"end":return r.stop()}},r,o)}))()},recursive:function(e,t,o,r,i){var a=this;e.forEach(function(e){if(!e.children||0===e.children.length)return e.level=o,t.push(e),!1;e.level=o,t.push(e),e.id===r&&(e.expend=i),!0===e.expend&&a.recursive(e.children,t,e.level+1,r,i)})},iconName:function(e){return!0===e.expend?"fas fa-minus-circle":e.children&&e.children.length>0?"fas fa-plus-circle":"fas fa-check"},toggle:function(e,t){this.itemId=e.id,void 0===e.expend&&void 0!==e.children&&0!==e.children.length&&this.recursive(e.children,[],e.level+1,e.id,!0),!0===e.expend&&void 0!==e.children&&(e.children.forEach(function(e){e.expend=void 0}),this.$set(e,"expend",void 0),this.itemId=null)},setPadding:function(e){return"padding-left: "+30*e.level+"px;"},loadAll:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.busqueda="PROYECTO",e.form.loading=!0,t.next=4,e.getRole();case 4:return t.next=6,e.getProgramas();case 6:return t.next=8,e.getSubprogramas();case 8:return t.next=10,e.getClientes();case 10:return t.next=12,e.getRecursos();case 12:return t.next=14,e.getEmpresas();case 14:return t.next=16,e.getSucursales();case 16:return e.form.loading=!1,t.next=19,e.getRecursos();case 19:return t.next=21,e.getUsuarios();case 21:return t.next=23,e.filterByYear();case 23:if(!(e.$route.params.proyecto>0&&e.$route.params.project>0)){t.next=26;break}return t.next=26,e.proyectosss(e.$route.params.proyecto,e.$route.params.project);case 26:case"end":return t.stop()}},t,e)}))()},proyectosss:function(e,t){var o=this;return u()(c.a.mark(function r(){return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.get("/recursos/getBy/"+e).then(function(e){var r=e.data;o.editRow2P(r.recursos[0],t)}).catch(function(e){console.error(e)});case 2:case"end":return r.stop()}},r,o)}))()},projects:function(e){var t=this;return u()(c.a.mark(function o(){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.a.get("/proyectos/getBy2/"+e).then(function(e){var o=e.data;t.open_presupuestos=!0,t.editRowPresupuestos(o.proyectos[0])}).catch(function(e){console.error(e)});case 2:case"end":return o.stop()}},o,t)}))()},setViewPresupuestos:function(e){this.viewsPresupuestos.grid=!1,this.viewsPresupuestos.create=!1,this.viewsPresupuestos.update=!1,this.viewsPresupuestos[e]=!0},setViewOrganismos:function(e){this.viewsOrganismos.grid=!1,this.viewsOrganismos.create=!1,this.viewsOrganismos.update=!1,this.viewsOrganismos[e]=!0},setViewComisiones:function(e){this.viewsComisiones.grid=!1,this.viewsComisiones.create=!1,this.viewsComisiones.update=!1,this.viewsComisiones[e]=!0},currencyFormat:function(e){return s()(e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},validarFechasPresupuestos:function(e,t){return g()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")<=g()(String(t)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")},cargarFacturas:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFacturas({factura_id:e.form.fieldsContrato.id}).then(function(e){e.data}).catch(function(e){console.error(e)});case 2:return t.next=4,e.getFormasDePago().then(function(e){e.data}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t,e)}))()},cargarDataProject:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_presupuestos.data_projects=[],t.next=3,e.getProyectosbyID({id:e.form.fields.id,year:e.year}).then(function(t){var o=t.data;"success"===o.result&&(e.form_presupuestos.data_projects=o.proyectos)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},cargarDataContratos:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_presupuestos.data_contratos=[],t.next=3,e.getContratosbyID({id:e.form.fields.id}).then(function(t){var o=t.data;"success"===o.result&&(e.form_presupuestos.data_contratos=o.contratos,e.form.fields.suma_contratos=o.monto_contratos)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},cargarDataOrganismos:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_presupuestos.data_organismos=[],t.next=3,e.getOrganismosbyID({id:e.form.fields.id}).then(function(t){var o=t.data;"success"===o.result&&(e.form_presupuestos.data_organismos=o.organismos)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},cargarDataComisiones:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_presupuestos.data_comisiones=[],t.next=3,e.getComisionesbyID({proyecto_id:e.form.fields.id}).then(function(t){var o=t.data;"success"===o.result&&(e.form_presupuestos.data_comisiones=o.comisiones)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},setViewContrato:function(e){this.viewsContrato.grid=!1,this.viewsContrato.create=!1,this.viewsContrato.update=!1,"false"!==e&&(this.viewsContrato[e]=!0)},setView:function(e){this.modal_ver_contrato=!1,this.views.grid=!1,this.views.create=!1,this.views.update=!1,this.views[e]=!0},cargarLicitaciones:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.licitacionesOptions=[],e.form.fieldsContrato.licitacion_id=0,t.next=4,e.getLicitacionesByRecurso({recurso_id:e.form.fieldsContrato.recurso_id}).then(function(t){var o=t.data;e.licitacionesOptions.push({label:"---Ninguno---",value:0}),o.licitaciones.length>0&&o.licitaciones.forEach(function(t){e.licitacionesOptions.push({label:t.folio+" - "+t.titulo,value:t.id})})}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t,e)}))()},saveContratos:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var t=this.form.fieldsContrato;t.year=this.year,this.saveContrato(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form.fieldsContrato.id=o.message.id,e.cargarFacturas(),e.cargarDataContratos(),e.setViewContrato("create"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},updateContratosGrid:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var t=this.form.fieldsContrato;t.organismo_id=this.form.fieldsContrato.organismo_id,this.updateContrato(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&e.returnToView("contrato","grid")}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},updateContratos:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var t=this.form.fieldsContrato;t.organismo_id=this.form.fieldsContrato.organismo_id,this.updateContrato(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.setViewContrato("update"),e.cargarDataContratos())}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},editRowContrato:function(e){var t=this;return u()(c.a.mark(function o(){var r;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.licitacionesOptions=[],r=d()({},e),t.form.fieldsContrato.id=r.id,t.form.fieldsContrato.recurso_id=r.recurso_id,t.form.fieldsContrato.empresa_id=r.empresa_id,o.next=7,t.cargarLicitaciones();case 7:null===r.licitacion_id?t.form.fieldsContrato.licitacion_id=0:t.form.fieldsContrato.licitacion_id=r.licitacion_id,null===r.fecha_inicio?t.form.fieldsContrato.fecha_inicio="":t.form.fieldsContrato.fecha_inicio=g()(String(r.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.num_contrato=r.num_contrato,null===r.fecha_fin?t.form.fieldsContrato.fecha_fin="":t.form.fieldsContrato.fecha_fin=g()(String(r.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.monto_total=r.monto_total,t.form.fieldsContrato.monto_total_validar=r.monto_total,t.form.fieldsContrato.rep_legal_contrato=r.rep_legal_contrato,null===r.nombre?t.form.fieldsContrato.nombre="":t.form.fieldsContrato.nombre=r.nombre,null===r.organismo_id?t.form.fieldsContrato.organismo_id=0:t.form.fieldsContrato.organismo_id=r.organismo_id,t.form.fieldsContrato.porcentaje=r.porcentaje,t.form.fieldsContrato.documento_pdf=r.documento_pdf,t.form.fieldsContrato.doc_type_pdf=r.doc_type_pdf,t.form.fieldsContrato.nombre_pdf=r.nombre_pdf,t.form.fieldsContrato.observaciones=r.observaciones,t.cargarFacturas(),t.setViewContrato("update");case 23:case"end":return o.stop()}},o,t)}))()},seeRowContrato:function(e){var t=this;return u()(c.a.mark(function o(){var r;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.modal_ver_contrato=!1,t.licitacionesOptions=[],r=d()({},e),t.form.fieldsContrato.id=r.id,t.form.fieldsContrato.recurso_id=r.recurso_id,t.form.fieldsContrato.empresa_id=r.empresa_id,o.next=8,t.cargarLicitaciones();case 8:null===r.licitacion_id?t.form.fieldsContrato.licitacion_id=0:t.form.fieldsContrato.licitacion_id=r.licitacion_id,null===r.fecha_inicio?t.form.fieldsContrato.fecha_inicio="":t.form.fieldsContrato.fecha_inicio=g()(String(r.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.num_contrato=r.num_contrato,null===r.fecha_fin?t.form.fieldsContrato.fecha_fin="":t.form.fieldsContrato.fecha_fin=g()(String(r.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.monto_total=r.monto_total,t.form.fieldsContrato.monto_total_validar=r.monto_total,t.form.fieldsContrato.rep_legal_contrato=r.rep_legal_contrato,null===r.nombre?t.form.fieldsContrato.nombre="":t.form.fieldsContrato.nombre=r.nombre,null===r.organismo_id?t.form.fieldsContrato.organismo_id=0:t.form.fieldsContrato.organismo_id=r.organismo_id,t.form.fieldsContrato.porcentaje=r.porcentaje,t.form.fieldsContrato.observaciones=r.observaciones,t.cargarFacturas(),t.modal_ver_contrato=!0;case 21:case"end":return o.stop()}},o,t)}))()},deleteSingleContrato:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este contrato?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deleteContratos(e)}).catch(function(){})},deleteDoc:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este Archivo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deleteDocID(e)}).catch(function(){})},deleteDocID:function(e){var t=this;return u()(c.a.mark(function o(){var r;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r={id:e},t.deleteDocFacturas(r).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.cargarFacturas()}).catch(function(e){console.error(e)});case 2:case"end":return o.stop()}},o,t)}))()},deleteContratos:function(e){var t=this,o={id:e};this.deleteContrato(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.getContratosbyID({id:t.form.fields.id}),t.setViewContrato("grid"))}).catch(function(e){console.error(e)})},newRowContrato:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.licitacionesOptions=[],e.$v.form.$reset(),e.form.fieldsContrato.id=0,e.form.fieldsContrato.recurso_id=e.form.fields.id,e.form.fieldsContrato.empresa_id=0,e.form.fieldsContrato.licitacion_id=0,e.form.fieldsContrato.fecha_inicio="",e.form.fieldsContrato.num_contrato="",e.form.fieldsContrato.fecha_fin="",e.form.fieldsContrato.monto_total=0,e.form.fieldsContrato.monto_total_validar=0,e.form.fieldsContrato.rep_legal_contrato="",e.form.fieldsContrato.nombre="",e.form.fieldsContrato.organismo_id=0,e.form.fieldsContrato.porcentaje=0,e.form.fieldsContrato.observaciones="",t.next=18,e.cargarLicitaciones();case 18:e.setViewContrato("create");case 19:case"end":return t.stop()}},t,e)}))()},clicFilaContrato:function(e){var t=this;return u()(c.a.mark(function o(){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.form.fieldsContrato.id=e.id,t.form.fieldsContrato.recurso_id=e.recurso_id,t.form.fieldsContrato.empresa_id=e.empresa_id,o.next=5,t.cargarLicitaciones();case 5:t.form.fieldsContrato.id>0&&t.cargarFacturas(),null===e.licitacion_id?t.form.fieldsContrato.licitacion_id=0:t.form.fieldsContrato.licitacion_id=e.licitacion_id,null===e.fecha_inicio?t.form.fieldsContrato.fecha_inicio="":t.form.fieldsContrato.fecha_inicio=g()(String(e.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.num_contrato=parseInt(e.num_contrato),null===e.fecha_fin?t.form.fieldsContrato.fecha_fin="":t.form.fieldsContrato.fecha_fin=g()(String(e.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form.fieldsContrato.monto_total=e.monto_total,t.form.fieldsContrato.monto_total_validar=e.monto_total,t.form.fieldsContrato.rep_legal_contrato=e.rep_legal_contrato,null===e.nombre?t.form.fieldsContrato.nombre="":t.form.fieldsContrato.nombre=e.contrato,null===e.organismo_id?t.form.fieldsContrato.organismo_id=0:t.form.fieldsContrato.organismo_id=e.organismo_id,t.form.fieldsContrato.porcentaje=e.porcentaje,t.form.fieldsContrato.observaciones=e.observaciones,t.InformacionContrato=!0;case 18:case"end":return o.stop()}},o,t)}))()},validarFechas:function(e,t){return g()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")<=g()(String(t)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")},uploadFormato:function(){var e=this;if(this.$v.form.file.$touch(),this.$v.form.file.$error)this.$showMessage("Error","llene los campos obligatorios");else if(this.form.file.fecha_vencimiento>=this.form.file.fecha_factura)try{this.loadingButton=!0;var t=this.$refs.fileInputFormato.files[0],o=new FormData;o.append("file",t),o.append("nombre",t.name),o.append("nombre_archivo",t.name),o.append("contrato_id",this.form.fieldsContrato.id),o.append("folio_fiscal",this.form.file.folio_fiscal),o.append("fecha_factura",g()(String(this.form.file.fecha_factura)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),o.append("fecha_pago",g()(String(this.form.file.fecha_pago)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),o.append("fecha_vencimiento",g()(String(this.form.file.fecha_vencimiento)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),null===t||void 0===t||""===t?this.$showMessage("Error","Seleccione un archivo"):t.name?"jpg"===t.type.split("/")[1].toLowerCase()||"jpeg"===t.type.split("/")[1].toLowerCase()||"png"===t.type.split("/")[1].toLowerCase()||"pdf"===t.type.split("/")[1].toLowerCase()||"xml"===t.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),b.a.post("facturasContratos/uploadArchivo",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"success"===t.data.result?(e.$showMessage(t.data.message.title,t.data.message.content),e.cargarFacturas(),e.$v.form.$reset(),e.form.file.nombre="",e.form.file.fecha_pago="",e.form.file.fecha_factura="",e.form.file.fecha_vencimiento="",e.form.file.folio_fiscal="",e.show_file_contrato=!1,e.viewsContrato.create?e.setViewContrato("create"):e.setViewContrato("update")):""!==t.data.err&&e.$showMessage(t.data.message.title,t.data.message.content),e.loadingButton=!1,e.$q.loading.hide()}).catch(function(t){e.loadingButton=!1,console.error(t),e.$q.loading.hide()})):(this.loadingButton=!1,this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito.")):(this.loadingButton=!1,this.$showMessage("Error","No ha seleccionado un archivo con las extensión .docx o .pdf"))}catch(e){this.loadingButton=!1,this.$showMessage("Error","Seleccione un archivo")}else this.$showMessage("Error","La fecha de vencimiento debe ser igual o posterior a la fecha de emisión")},abrirDocumento:function(e,t){console.log(e);var o="http://api.impact.beta.wasp.mx/facturasContratos/getFile/"+e+"/"+t;window.open(o,"_blank")},mensajeNotify:function(e,t,o,r,i){this.$q.notify({message:e,timeout:0,color:t,icon:o,detail:r,position:i,closeBtn:!0})},save:function(){var e=this;if(this.form.fields.monto=this.evaluaMonto(this.form.fields.montovalidar),this.form.fields.fuente_financiamiento=this.form.fields.fuente_financiamiento.trim(),this.$v.form.fields.$touch(),this.$v.form.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form.fields;t.year=this.year,this.saveRecurso(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.mensajeNotify("Éxito","green","fas fa-check",o.codigo,"top"),e.loadAll(),e.setView("grid")):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}},update:function(){var e=this;if(this.form.fields.monto=this.evaluaMonto(this.form.fields.montovalidar),this.form.fields.fuente_financiamiento=this.form.fields.fuente_financiamiento.trim(),this.$v.form.fields.$touch(),this.$v.form.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form.fields;t.year=this.year,this.updateRecurso(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.mensajeNotify("Éxito","blue","fas fa-check",o.codigo,"top"),e.loadAll(),e.setView("grid")):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}},editRow:function(e){var t=this;return u()(c.a.mark(function o(){var r;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.loadingMessage("Cargando ..."),r=d()({},e),t.form.fields.id=e.id,t.form.fields.cliente_id=r.cliente_id,t.form.fields.subprograma_id=r.subprograma_id,t.form.fields.monto=r.monto,t.form.fields.montovalidar=r.monto,t.form.fields.monto_licitado=r.monto_licitado,t.form.fields.monto_adjudicado=r.monto_adjudicado,t.form.fields.codigo=r.codigo,t.form.fields.fuente_financiamiento=r.fuente_financiamiento,t.form.fields.total_recursos=r.total_recursos,t.form.fields.programa_id=r.programa_id,t.form.fields.rubro=r.rubro,t.form.fields.nombre=r.nombre,t.form.fields.aliado=r.aliado,t.form.fields.aliado1=r.aliado1,t.form.fields.aliado2=r.aliado2,t.form.fields.aliado3=r.aliado3,t.form.fields.suma_contratos=r.suma_contratos,t.form.fields.adjudicacion=r.adjudicacion,t.form.fields.sucursal_id=r.sucursal_id,o.next=24,t.cargarDataContratos();case 24:return o.next=26,t.cargarDataProject();case 26:return o.next=28,t.cargarDataOrganismos();case 28:return o.next=30,t.cargarDataComisiones();case 30:t.setView("update"),t.setViewPresupuestos("grid"),t.tabPrincipal="contratos",t.setViewContrato("grid"),t.$q.loading.hide();case 35:case"end":return o.stop()}},o,t)}))()},editRow2P:function(e,t){var o=this;return u()(c.a.mark(function r(){var i;return c.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=d()({},e),o.form.fields.id=e.id,o.form.fields.cliente_id=i.cliente_id,o.form.fields.subprograma_id=i.subprograma_id,o.form.fields.monto=i.monto,o.form.fields.montovalidar=i.monto,o.form.fields.monto_licitado=i.monto_licitado,o.form.fields.monto_adjudicado=i.monto_adjudicado,o.form.fields.codigo=i.codigo,o.form.fields.fuente_financiamiento=i.fuente_financiamiento,o.form.fields.total_recursos=i.total_recursos,o.form.fields.programa_id=i.programa_id,o.form.fields.rubro=i.rubro,o.form.fields.nombre=i.nombre,o.form.fields.aliado=i.aliado,o.form.fields.aliado1=i.aliado1,o.form.fields.aliado2=i.aliado2,o.form.fields.aliado3=i.aliado3,o.form.fields.suma_contratos=i.suma_contratos,o.form.fields.adjudicacion=i.adjudicacion,o.form.fields.sucursal_id=i.sucursal_id,r.next=23,o.cargarDataContratos();case 23:return r.next=25,o.cargarDataProject();case 25:return r.next=27,o.cargarDataOrganismos();case 27:return r.next=29,o.cargarDataComisiones();case 29:return o.setView("update"),r.next=32,o.projects(t);case 32:case"end":return r.stop()}},r,o)}))()},deleteSingleRow:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este recurso?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.delete(e)}).catch(function(){})},verContratos:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Sera redireccionado a contratos...",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.redirContratos(e)}).catch(function(){})},redirContratos:function(e){this.$router.push({path:"/contratos/"+e})},verPresupuestos:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"Sera redireccionado a presupuestos...",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.redirPresupuestos(e)}).catch(function(){})},redirPresupuestos:function(e){this.$router.push({path:"/presupuestos/"+e})},delete:function(e){var t=this,o={id:e};this.deleteRecurso(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.loadAll(),t.setView("grid"))}).catch(function(e){console.error(e)})},verTodo:function(e){var t=d()({},e);this.form.fields.id=e.id,this.form.fields.cliente_id=t.cliente_id,this.form.fields.subprograma_id=t.subprograma_id,this.form.fields.monto=t.monto,this.form.fields.montovalidar=t.monto,this.form.fields.monto_licitado=t.monto_licitado,this.form.fields.monto_adjudicado=t.monto_adjudicado,this.form.fields.codigo=t.codigo,this.form.fields.fuente_financiamiento=t.fuente_financiamiento,this.form.fields.total_recursos=t.total_recursos,this.form.fields.programa_id=t.programa_id,this.form.fields.rubro=t.rubro,this.form.fields.nombre=t.nombre,this.form.fields.aliado=t.aliado,this.form.fields.aliado1=t.aliado1,this.form.fields.aliado2=t.aliado2,this.form.fields.aliado3=t.aliado3,this.form.fields.suma_contratos=t.suma_contratos,this.form.fields.adjudicacion=t.adjudicacion,this.form.fields.sucursal_id=t.sucursal_id,this.setView("info")},newRow:function(){this.$v.form.$reset(),this.form.fields.id=0,this.form.fields.cliente_id=0,this.form.fields.subprograma_id=0,this.form.fields.monto=0,this.form.fields.montovalidar=0,this.form.fields.codigo="",this.form.fields.fuente_financiamiento="",this.form.fields.total_recursos=0,this.form.fields.programa_id=0,this.form.fields.rubro="",this.form.fields.nombre="",this.form.fields.aliado="",this.form.fields.aliado1="",this.form.fields.aliado2="",this.form.fields.aliado3="",this.form.fields.suma_contratos=0,this.form.fields.adjudicacion="",this.form.fields.sucursal_id=0,this.setView("create")},clickFila:function(e){var t=this;return u()(c.a.mark(function o(){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.form.fields.id=e.id,t.form.fields.cliente_id=e.cliente_id,t.form.fields.subprograma_id=e.subprograma_id,t.form.fields.monto=e.monto,t.form.fields.montovalidar=e.monto,t.form.fields.monto_licitado=e.monto_licitado,t.form.fields.monto_adjudicado=e.monto_adjudicado,t.form.fields.codigo=e.codigo,t.form.fields.fuente_financiamiento=e.fuente_financiamiento,t.form.fields.total_recursos=e.total_recursos,t.form.fields.programa_id=e.programa_id,t.form.fields.rubro=e.rubro,t.form.fields.nombre=e.nombre,t.form.fields.aliado=e.aliado,t.form.fields.aliado1=e.aliado1,t.form.fields.aliado2=e.aliado2,t.form.fields.aliado3=e.aliado3,t.form.fields.suma_contratos=e.suma_contratos,t.form.fields.adjudicacion=e.adjudicacion,t.form.fields.sucursal_id=e.sucursal_id,o.next=22,t.cargarDataContratos();case 22:return o.next=24,t.cargarDataProject();case 24:return o.next=26,t.cargarDataOrganismos();case 26:return o.next=28,t.cargarDataComisiones();case 28:t.informacion=!0;case 29:case"end":return o.stop()}},o,t)}))()},borrarMonto:function(){this.form.fields.monto=0},selectSubprograma:function(){this.form.fields.subprograma_id=0},newContrato:function(){this.licitacionesOptions=[],this.$v.form.$reset(),this.form.fieldsContrato.recurso_id=0,this.form.fieldsContrato.empresa_id=0,this.form.fieldsContrato.licitacion_id=0,this.form.fieldsContrato.fecha_inicio="",this.form.fieldsContrato.num_contrato="",this.form.fieldsContrato.fecha_fin="",this.form.fieldsContrato.monto_total=0,this.form.fieldsContrato.monto_total_validar=0,this.form.fieldsContrato.rep_legal_contrato="",this.form.fieldsContrato.nombre="",this.form.fieldsContrato.observaciones="",this.setView("createContrato")},savePresupuestos:function(){var e=this;if(this.form.fieldsPresupuesto.presupuesto=this.evaluaMonto(this.form.fieldsPresupuesto.presupuestovalidar),this.$v.form.fieldsPresupuesto.$touch(),this.$v.form.fieldsPresupuesto.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else if(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)){this.loadingButton=!0;var t=this.form.fieldsPresupuesto;t.year=this.year,t.monto_bolsa_validado=this.evaluaMonto(this.form.fieldsPresupuesto.monto_bolsa),this.saveProyecto(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarDataProject(),e.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")},updatePresupuestos:function(){var e=this;if(this.form.fieldsPresupuesto.presupuesto=this.evaluaMonto(this.form.fieldsPresupuesto.presupuestovalidar),this.$v.form.fieldsPresupuesto.$touch(),this.$v.form.fieldsPresupuesto.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)){this.loadingButton=!0;var t=this.form.fieldsPresupuesto;t.monto_bolsa_validado=this.evaluaMonto(this.form.fieldsPresupuesto.monto_bolsa),this.updateProyecto(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarDataProject(),e.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")},editRowPresupuestos:function(e){var t=this;return u()(c.a.mark(function o(){var r;return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.setViewPresupuestos("update"),t.loadingMessage("Cargando ..."),r=d()({},e),t.form.fieldsPresupuesto.status=r.status,t.form.fieldsPresupuesto.id=r.id,t.form.fieldsPresupuesto.nombre_proyecto=r.nombre_proyecto,t.form.fieldsPresupuesto.recurso_id=e.recurso_id,t.form.fieldsPresupuesto.dias=r.dias,t.form.fieldsPresupuesto.presupuesto=r.presupuesto,t.form.fieldsPresupuesto.presupuesto_actual=t.currencyFormat(r.presupuesto_actual),t.form.fieldsPresupuesto.presupuestovalidar=r.presupuesto,t.form.fieldsPresupuesto.presupuestoActual=r.presupuesto,t.form.fieldsPresupuesto.monto_bolsa=r.monto_bolsa,t.form.fieldsPresupuesto.lider_proyecto=r.lider_proyecto,t.form.fieldsPresupuesto.lider_usuario=r.nickname,t.form.fieldsPresupuesto.sucursal_id=t.form.fields.sucursal_id,null===r.licitacion_id?(t.form.fieldsPresupuesto.licitacion_id=0,t.empresasOptions.push({label:"---Seleccione---",value:0})):(t.form.fieldsPresupuesto.licitacion_id=r.licitacion_id,t.obtenerEmpresa()),null===r.empresa_id?t.form.fieldsPresupuesto.empresa_id=0:t.form.fieldsPresupuesto.empresa_id=r.empresa_id,null===r.sucursal_id?t.form.fieldsPresupuesto.sucursal_id=0:t.form.fieldsPresupuesto.sucursal_id=r.sucursal_id,null===r.inicio?t.form.fieldsPresupuesto.inicio="":t.form.fieldsPresupuesto.inicio=g()(String(r.inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),null===r.fin?t.form.fieldsPresupuesto.fin="":t.form.fieldsPresupuesto.fin=g()(String(r.fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),t.form_solicitantes.fieldsPresupuesto.proyecto_id=r.id,t.form_autorizadores.fieldsPresupuesto.proyecto_id=r.id,t.form_responsables.fieldsPresupuesto.proyecto_id=r.id,t.form_colaboradores.fieldsPresupuesto.proyecto_id=r.id,t.form_perfiles.fieldsPresupuesto.proyecto_id=r.id,t.form.fieldsContrato.recurso_id=e.recurso_id,o.next=29,t.cargarLicitaciones();case 29:return o.next=31,t.cargarDetalles();case 31:return o.next=33,t.cargarColaboradores();case 33:return o.next=35,t.getUsuarios();case 35:t.$q.loading.hide();case 36:case"end":return o.stop()}},o,t)}))()},deleteSingleRowPresupuestos:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este proyecto?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deletePresupuesto(e)}).catch(function(){})},deletePresupuesto:function(e){var t=this,o={id:e};this.deleteProyecto(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarDataProject(),t.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})},newRowPresupuestos:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$v.form.$reset(),e.form.fieldsPresupuesto.recurso_id=e.form.fields.id,e.form.fieldsPresupuesto.inicio="",e.form.fieldsPresupuesto.fin="",e.form.fieldsPresupuesto.dias=0,e.form.fieldsPresupuesto.presupuesto=0,e.form.fieldsPresupuesto.presupuestovalidar=0,e.form.fieldsPresupuesto.monto_bolsa=0,e.form.fieldsPresupuesto.nombre_proyecto="",e.form.fieldsPresupuesto.lider_proyecto="",e.form.fieldsPresupuesto.licitacion_id=0,e.form.fieldsPresupuesto.empresa_id=0,e.form.fieldsPresupuesto.sucursal_id=e.form.fields.sucursal_id,e.form.fieldsContrato.recurso_id=e.form.fields.id,t.next=16,e.cargarLicitaciones();case 16:e.setViewPresupuestos("create");case 17:case"end":return t.stop()}},t,e)}))()},clicFilaPresupuesto:function(e){this.objetoInformacionPresupuesto={dias:e.dias,fin:e.fin,id:e.id,inicio:e.inicio,nombre_proyecto:e.nombre_proyecto,presupuesto:e.presupuesto,recurso:e.recurso,recurso_id:e.recurso_id,presupuestoCopia:e.presupuesto},this.objetoInformacionPresupuesto.presupuesto=function(e,t){(t=t||{}).simbolo=t.simbolo||"$",t.separadorDecimal=t.separadorDecimal||".",t.separadorMiles=t.separadorMiles||",",t.numeroDeDecimales=t.numeroDeDecimales>=0?t.numeroDeDecimales:2,t.posicionSimbolo=t.posicionSimbolo||"i";var o=e.toFixed(t.numeroDeDecimales),r=o.indexOf(t.separadorDecimal);-1===r&&(r=o.length);for(var i="",a=r;a>=0;){var s=a-3;i=(s>0?t.separadorMiles:"")+o.substring(s,a)+i,a-=3}var n=""+i+o.substr(r,t.numeroDeDecimales+1);return"i"===t.posicionSimbolo?t.simbolo+n:n+t.simbolo}(parseFloat(this.objetoInformacionPresupuesto.presupuesto),{numeroDeDecimales:2,separadorDecimal:".",separadorMiles:",",simbolo:"$",posicionSimbolo:"i"}),this.informacionPresupuestos=!0},getDiasLaborables:function(e,t){var o=g()(g()(String(t)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD")),r=g()(g()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD")),i=1+(5*o.diff(r,"days")-2*(r.day()-o.day()))/7;return 6===o.day()&&i--,0===r.day()&&i--,i},loadingMessage:function(e){this.$q.loading.show({message:e})},exportCSVActividades:function(){var e="http://api.impact.beta.wasp.mx/carga_csv/exportCSV_actividades/"+this.form.fieldsPresupuesto.id;window.open(e,"_blank")},uploadCsvFile:function(){var e=this;this.loadingMessage("Cargando los datos del csv ...");var t=this.$refs.fileInputCSV.files[0],o=new FormData;o.append("file",t),o.append("proyecto_id",this.form.fieldsPresupuesto.id),b.a.post("/carga_csv/uploadCsv",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){"success"===t.data.result?(e.$showMessage("Exito",t.data.message),e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(t.data.presupuesto),e.form_actividades.actividades_proyecto=!0,e.cargarDetalles(),e.$q.loading.hide()):(e.$q.loading.hide(),""!==t.data.err?e.$showMessage("Errores en archivo",t.data.err):e.$showMessage("Error","No puede cargar nuevas actividades, porque las actuales ya tienen movimientos de gastos."))}).catch(function(t){e.$q.loading.hide(),console.error(t)})},cargarDetalles:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_actividades.loading=!0,e.actividades=[],t.next=4,e.getActividadesByProyecto({proyecto_id:e.form.fieldsPresupuesto.id}).then(function(t){var o=t.data;o.actividades.length>0&&(e.actividades=o.actividades),e.form_actividades.loading=!1}).catch(function(t){console.error(t),e.form_actividades.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},cargarSolicitantes:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_solicitantes.loading=!0,e.form_solicitantes.data=[],t.next=4,e.getSolicitantesByProyecto({proyecto_id:e.form_solicitantes.fieldsPresupuesto.proyecto_id}).then(function(t){var o=t.data;o.solicitantes.length>0&&(e.form_solicitantes.data=o.solicitantes),e.form_solicitantes.loading=!1}).catch(function(t){console.error(t),e.form_solicitantes.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},cargarColaboradores:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_colaboradores.loading=!0,e.form_colaboradores.data=[],t.next=4,e.getColaboradoresByProyecto({proyecto_id:e.form_colaboradores.fieldsPresupuesto.proyecto_id}).then(function(t){var o=t.data;o.colaboradores.length>0&&(e.form_colaboradores.data=o.colaboradores),e.form_colaboradores.loading=!1}).catch(function(t){console.error(t),e.form_colaboradores.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},cargarAutorizadores:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_autorizadores.loading=!0,e.form_autorizadores.data=[],t.next=4,e.getAutorizadoresByProyecto({proyecto_id:e.form_autorizadores.fieldsPresupuesto.proyecto_id}).then(function(t){var o=t.data;o.autorizadores.length>0&&(e.form_autorizadores.data=o.autorizadores),e.form_autorizadores.loading=!1}).catch(function(t){console.error(t),e.form_autorizadores.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},cargarResponsables:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_responsables.loading=!0,e.form_responsables.data=[],t.next=4,e.getResponsablesByProyecto({proyecto_id:e.form_responsables.fieldsPresupuesto.proyecto_id}).then(function(t){var o=t.data;o.responsable_pagos.length>0&&(e.form_responsables.data=o.responsable_pagos),e.form_responsables.loading=!1}).catch(function(t){console.error(t),e.form_responsables.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},editActividad:function(e,t){this.form_actividades.modal_editar=!0,this.form_actividades.fieldsPresupuesto.id=e.id,this.form_actividades.fieldsPresupuesto.proyecto_id=e.proyecto_id,this.form_actividades.fieldsPresupuesto.nombre=e.nombre,this.form_actividades.fieldsPresupuesto.avance=e.avance,this.form_actividades.fieldsPresupuesto.presupuesto_inicial=e.presupuesto_inicial,null===e.inicio?this.form_actividades.fieldsPresupuesto.inicio="":this.form_actividades.fieldsPresupuesto.inicio=g()(String(e.inicio)).format("YYYY-MM-DD HH:mm:ss"),null===e.fin?this.form_actividades.fieldsPresupuesto.fin="":this.form_actividades.fieldsPresupuesto.fin=g()(String(e.fin)).format("YYYY-MM-DD HH:mm:ss"),this.form_actividades.fieldsPresupuesto.costo=e.costo,null===e.fin_real?this.form_actividades.fieldsPresupuesto.fin_real="":this.form_actividades.fieldsPresupuesto.fin_real=g()(String(e.fin_real)).format("YYYY-MM-DD HH:mm:ss"),this.form_actividades.fieldsPresupuesto.indice=e.indice,this.form_actividades.fieldsPresupuesto.nivel=e.nivel,"SI"===e.resumen?this.form_actividades.fieldsPresupuesto.resumen=!0:this.form_actividades.fieldsPresupuesto.resumen=!1,this.form_actividades.fieldsPresupuesto.duracion=e.duracion,this.form_actividades.fieldsPresupuesto.duracion_restante=e.duracion_restante,this.form_actividades.fieldsPresupuesto.padre_id=e.padre_id,this.form_actividades.fieldsPresupuesto.children_cantidad=e.children.length},createActividad:function(e,t){this.$v.form_actividades.$reset(),this.form_actividades.modal_crear=!0,this.form_actividades.fieldsPresupuesto.proyecto_id=e.proyecto_id,this.form_actividades.fieldsPresupuesto.nombre="",this.form_actividades.fieldsPresupuesto.avance=0,this.form_actividades.fieldsPresupuesto.presupuesto_inicial=0,this.form_actividades.fieldsPresupuesto.inicio="",this.form_actividades.fieldsPresupuesto.fin="",this.form_actividades.fieldsPresupuesto.costo=0,this.form_actividades.fieldsPresupuesto.fin_real="",this.form_actividades.fieldsPresupuesto.indice="Generado automáticamente",this.form_actividades.fieldsPresupuesto.nivel=3,this.form_actividades.fieldsPresupuesto.resumen=!1,this.form_actividades.fieldsPresupuesto.duracion=0,this.form_actividades.fieldsPresupuesto.duracion_restante=0,this.form_actividades.fieldsPresupuesto.padre_id=e.id,this.form_actividades.fieldsPresupuesto.children_cantidad=0},uploadFiles:function(e,t){var o=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.form_actividades.modal_documentos=!0,o.form_actividades.fieldsPresupuesto.nombre=e.nombre,o.form_actividades.fieldsPresupuesto.id=e.id,t.next=5,o.getFiles();case 5:case"end":return t.stop()}},t,o)}))()},updateActividadDetalle:function(){var e=this;if(this.$v.form_actividades.$touch(),this.$v.form_actividades.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechasActividades(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin,this.form_actividades.fieldsPresupuesto.fin_real)){this.loadingButton=!0;var t=this.form_actividades.fieldsPresupuesto;t.costo_validado=this.evaluaMonto(this.form_actividades.fieldsPresupuesto.costo),this.updateActividad(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_actividades.modal_editar=!1,e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(o.monto_actual),e.cargarDetalles())}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de fin real no debe ser menor a la fecha fin ni a la fecha inicio.","top-right")},crearActividadDetalle:function(){var e=this;this.costo_actividad=this.evaluaMonto(this.form_actividades.fieldsPresupuesto.costo),this.$v.form_actividades.$touch(),this.$v.form_actividades.$error?this.$showMessage("Error","Por favor revise los campos."):this.validarFechasActividades(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin,this.form_actividades.fieldsPresupuesto.fin_real)?this.$v.form_actividades.$error?this.$showMessage("Error","Por favor revise los campos."):this.$q.dialog({title:"Confirmar",message:"Al crear esta actividad se modificará el costo de las actividades principales y del project",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.loadingButton=!0;var t=e.form_actividades.fieldsPresupuesto;t.costo_actividad=e.costo_actividad,e.saveActividad(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_actividades.modal_crear=!1,e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(o.monto_actual),e.cargarDetalles())}).catch(function(e){console.error(e)})}).catch(function(){}):this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de fin real no debe ser menor a la fecha fin ni a la fecha inicio.","top-right")},validarFechasActividades:function(e,t,o){if(""!==e&&(e=g()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==t&&(t=g()(String(t)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==o&&(o=g()(String(o)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==e&&""===t&&""!==o){if(e>o)return!1}else if(""!==t&&""!==o&&t>o)return!1;return!0},borrarPresupuesto:function(){this.form.fieldsPresupuesto.presupuesto=0},delete_Actividad:function(e,t){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta actividad?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.form_actividades.loading=!0;var t={arrayActividades:o.ids_actividades(e)};o.deleteActividad(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarDetalles(),o.form_actividades.loading=!1,o.setViewPresupuestos("update"))}).catch(function(e){console.error(e),o.form_actividades.loading=!1})}).catch(function(){})},ids_actividades:function(e){var t=[];return t.push(e.id),e.children.length>0&&(t=this.buscarHijos(e.children,t)),t.reverse()},buscarHijos:function(e,t){for(var o=0;o<e.length;o++)t.push(e[o].id),e[o].children.length>0&&this.buscarHijos(e[o].children,t);return t},eliminarNivel:function(e){for(var t=0;t<e.length;t++)for(var o=0;o<this.form_autorizadores.selectNivel.length;o++)if(parseInt(this.form_autorizadores.selectNivel[o].value)===parseInt(e[t])){this.form_autorizadores.selectNivel.splice(o,1);break}},newNivel:function(){var e=[],t=!0,o=!1,r=void 0;try{for(var a,s=i()(this.form_autorizadores.data);!(t=(a=s.next()).done);t=!0){var n=a.value;e.push(n.orden)}}catch(e){o=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw r}}this.eliminarNivel(e)},eliminarSolicitante:function(e){for(var t=0;t<e.length;t++)for(var o=0;o<this.form_solicitantes.solicitantesOptions.length;o++)if(parseInt(this.form_solicitantes.solicitantesOptions[o].value)===parseInt(e[t])){this.form_solicitantes.solicitantesOptions.splice(o,1);break}},newSolicitante:function(){this.$v.form_solicitantes.$reset(),this.form_solicitantes.solicitantesOptions=[];var e=[];e.push(this.form_solicitantes.fieldsPresupuesto.usuario_id),this.form_solicitantes.fieldsPresupuesto.usuario_id=0,this.form_solicitantes.fieldsPresupuesto.perfil="",this.form_solicitantes.solicitantes_proyecto=!0;var t=!0,o=!1,r=void 0;try{for(var a,s=i()(this.usuariosOptions);!(t=(a=s.next()).done);t=!0){var n=a.value;this.form_solicitantes.solicitantesOptions.push(n)}}catch(e){o=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw r}}var c=!0,l=!1,u=void 0;try{for(var f,d=i()(this.form_solicitantes.data);!(c=(f=d.next()).done);c=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){l=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}this.eliminarSolicitante(e)},saveSolicitantes:function(){var e=this;if(this.$v.form_solicitantes.$touch(),this.$v.form_solicitantes.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_solicitantes.fieldsPresupuesto;this.saveSolicitante(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarSolicitantes(),e.form_solicitantes.solicitantes_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteSolicitantes:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este solicitante?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteSolicitante(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarSolicitantes(),t.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarAutorizador:function(e){for(var t=0;t<e.length;t++)for(var o=0;o<this.form_autorizadores.autorizadoresOptions.length;o++)if(parseInt(this.form_autorizadores.autorizadoresOptions[o].value)===parseInt(e[t])){this.form_autorizadores.autorizadoresOptions.splice(o,1);break}},newAutorizador:function(){this.$v.form_autorizadores.$reset(),this.form_autorizadores.autorizadoresOptions=[];var e=[];this.form_autorizadores.fieldsPresupuesto.usuario_id=0,this.form_autorizadores.fieldsPresupuesto.perfil="",this.form_autorizadores.fieldsPresupuesto.orden=0,this.form_autorizadores.fieldsPresupuesto.alteracion="NO",this.form_autorizadores.autorizadores_proyecto=!0;var t=!0,o=!1,r=void 0;try{for(var a,s=i()(this.usuariosOptions);!(t=(a=s.next()).done);t=!0){var n=a.value;this.form_autorizadores.autorizadoresOptions.push(n)}}catch(e){o=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw r}}var c=!0,l=!1,u=void 0;try{for(var f,d=i()(this.form_autorizadores.data);!(c=(f=d.next()).done);c=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){l=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}this.eliminarAutorizador(e)},ejecutaAutorizador:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.newAutorizador();case 2:case"end":return t.stop()}},t,e)}))()},saveAutorizadores:function(){var e=this;if(this.$v.form_autorizadores.$touch(),this.$v.form_autorizadores.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_autorizadores.fieldsPresupuesto;this.saveAutorizador(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarAutorizadores(),e.form_autorizadores.autorizadores_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteAutorizadores:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este autorizador?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteAutorizador(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarAutorizadores(),t.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarResponsable:function(e){for(var t=0;t<e.length;t++)for(var o=0;o<this.form_responsables.responsablesOptions.length;o++)if(parseInt(this.form_responsables.responsablesOptions[o].value)===parseInt(e[t])){this.form_responsables.responsablesOptions.splice(o,1);break}},newResponsable:function(){this.$v.form_responsables.$reset(),this.form_responsables.responsablesOptions=[];var e=[];e.push(this.form_responsables.fieldsPresupuesto.usuario_id),this.form_responsables.fieldsPresupuesto.usuario_id=0,this.form_responsables.fieldsPresupuesto.perfil="",this.form_responsables.responsables_proyecto=!0;var t=!0,o=!1,r=void 0;try{for(var a,s=i()(this.usuariosOptions);!(t=(a=s.next()).done);t=!0){var n=a.value;this.form_responsables.responsablesOptions.push(n)}}catch(e){o=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw r}}var c=!0,l=!1,u=void 0;try{for(var f,d=i()(this.form_responsables.data);!(c=(f=d.next()).done);c=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){l=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}this.eliminarResponsable(e)},saveResponsables:function(){var e=this;if(this.$v.form_responsables.$touch(),this.$v.form_responsables.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_responsables.fieldsPresupuesto;this.saveResponsable(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarResponsables(),e.form_responsables.responsables_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteResponsables:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este responsable?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteResponsable(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarResponsables(),t.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarColaborador:function(e){for(var t=0;t<e.length;t++)for(var o=0;o<this.form_colaboradores.colaboradoresOptions.length;o++)if(parseInt(this.form_colaboradores.colaboradoresOptions[o].value)===parseInt(e[t])){this.form_colaboradores.colaboradoresOptions.splice(o,1);break}},newColaborador:function(){this.$v.form_colaboradores.$reset(),this.form_colaboradores.colaboradoresOptions=[];var e=[];e.push(this.form_colaboradores.fieldsPresupuesto.usuario_id),this.form_colaboradores.fieldsPresupuesto.usuario_id=0,this.form_colaboradores.fieldsPresupuesto.perfil="",this.form_colaboradores.colaboradores_proyecto=!0;var t=!0,o=!1,r=void 0;try{for(var a,s=i()(this.usuariosOptions);!(t=(a=s.next()).done);t=!0){var n=a.value;this.form_colaboradores.colaboradoresOptions.push(n)}}catch(e){o=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw r}}var c=!0,l=!1,u=void 0;try{for(var f,d=i()(this.form_colaboradores.data);!(c=(f=d.next()).done);c=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){l=!0,u=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw u}}this.eliminarColaborador(e)},saveColaboradores:function(){var e=this;if(this.$v.form_colaboradores.$touch(),this.$v.form_colaboradores.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_colaboradores.fieldsPresupuesto;this.saveColaborador(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.cargarColaboradores(),e.form_colaboradores.colaboradores_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteColaboradores:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este solicitante?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteColaborador(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarColaboradores(),t.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},activarPerifles:function(){this.form_actividades.actividades_proyecto=!0},evaluaMonto:function(e){this.cadena2=""+e,this.cadena=this.cadena2.split(","),this.monto_a_pagar="";for(var t=0;t<this.cadena.length;t++)this.monto_a_pagar=this.monto_a_pagar+this.cadena[t];return parseFloat(this.monto_a_pagar)},selectedFileActividad:function(e){this.$refs.actividadInput.value="",this.registro_actividad=e,this.$refs.actividadInput.click()},getFiles:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_archivos.loading=!0,e.form_archivos.data=[],t.next=4,b.a.get("/carga_csv/getFilesByActividad/"+e.form_actividades.fieldsPresupuesto.id).then(function(t){var o=t.data;o.files.length>0&&(e.form_archivos.data=o.files),e.form_archivos.loading=!1}).catch(function(t){console.error(t),e.form_archivos.loading=!1});case 4:case"end":return t.stop()}},t,e)}))()},uploadFormatoActividad:function(){var e=this;try{var t=this.$refs.fileInputFormato.files[0],o=new FormData;o.append("file",t),o.append("nombre",t.name),o.append("actividad_id",this.form_actividades.fieldsPresupuesto.id),o.append("formato_requisito_id",0),null===t||void 0===t||(t.type?"jpg"===t.type.split("/")[1].toLowerCase()||"jpeg"===t.type.split("/")[1].toLowerCase()||"png"===t.type.split("/")[1].toLowerCase()||"pdf"===t.type.split("/")[1].toLowerCase()||"xml"===t.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),b.a.post("carga_csv/uploadArchivo",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){console.log(o),"success"===o.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.getFiles()):""!==o.data.err&&(console.log(t.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",o.data.err)),e.$q.loading.hide()}).catch(function(t){console.error(t),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(t.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},descargarFormatoActividad:function(e,t){var o="http://api.impact.beta.wasp.mx/carga_csv/getFile/"+e;window.open(o,"_blank")},deleteFormatoActividad:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este archivo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteFormatoAct(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.getFiles()}).catch(function(e){console.error(e)})}).catch(function(){})},editColaborador:function(e){this.form_colaboradores.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_colaboradores.fieldsPresupuesto.perfil=e.perfil,this.form_colaboradores.fieldsPresupuesto.id=e.id,this.$v.form_colaboradores.$reset(),this.form_colaboradores.colaboradoresOptions=[];var t=[];t.push(this.form_colaboradores.fieldsPresupuesto.usuario_id);var o=!0,r=!1,a=void 0;try{for(var s,n=i()(this.usuariosOptions);!(o=(s=n.next()).done);o=!0){var c=s.value;this.form_colaboradores.colaboradoresOptions.push(c)}}catch(e){r=!0,a=e}finally{try{!o&&n.return&&n.return()}finally{if(r)throw a}}var l=!0,u=!1,f=void 0;try{for(var d,m=i()(this.form_colaboradores.data);!(l=(d=m.next()).done);l=!0){var p=d.value;t.push(p.usuario_id)}}catch(e){u=!0,f=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw f}}this.eliminarColaborador(t),this.form_colaboradores.colaboradoresOptions.push({label:e.nombre,value:e.usuario_id}),this.form_colaboradores.editar_colaboradores_proyecto=!0},editarColaborador:function(){var e=this,t=this.form_colaboradores.fieldsPresupuesto;this.updateColaborador(t).then(function(t){var o=t.data;e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_colaboradores.editar_colaboradores_proyecto=!1,e.cargarColaboradores(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editSolicitante:function(e){this.form_solicitantes.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_solicitantes.fieldsPresupuesto.perfil=e.perfil,this.form_solicitantes.fieldsPresupuesto.id=e.id,this.$v.form_solicitantes.$reset(),this.form_solicitantes.solicitantesOptions=[];var t=[];t.push(this.form_solicitantes.fieldsPresupuesto.usuario_id);var o=!0,r=!1,a=void 0;try{for(var s,n=i()(this.usuariosOptions);!(o=(s=n.next()).done);o=!0){var c=s.value;this.form_solicitantes.solicitantesOptions.push(c)}}catch(e){r=!0,a=e}finally{try{!o&&n.return&&n.return()}finally{if(r)throw a}}var l=!0,u=!1,f=void 0;try{for(var d,m=i()(this.form_solicitantes.data);!(l=(d=m.next()).done);l=!0){var p=d.value;t.push(p.usuario_id)}}catch(e){u=!0,f=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw f}}this.eliminarSolicitante(t),this.form_solicitantes.solicitantesOptions.push({label:e.nombre,value:e.usuario_id}),this.form_solicitantes.editar_solicitantes_proyecto=!0},editarSolicitante:function(){var e=this,t=this.form_solicitantes.fieldsPresupuesto;this.updateSolicitante(t).then(function(t){var o=t.data;e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_solicitantes.editar_solicitantes_proyecto=!1,e.cargarSolicitantes(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editAutorizador:function(e){this.form_autorizadores.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_autorizadores.fieldsPresupuesto.perfil=e.perfil,this.form_autorizadores.fieldsPresupuesto.id=e.id,this.form_autorizadores.fieldsPresupuesto.orden=e.orden,"SI"===e.alteracion?this.alterar_presupuesto=!0:this.alterar_presupuesto=!1,this.form_autorizadores.fieldsPresupuesto.alteracion=e.alteracion,this.$v.form_autorizadores.$reset(),this.form_autorizadores.autorizadoresOptions=[];var t=[],o=!0,r=!1,a=void 0;try{for(var s,n=i()(this.usuariosOptions);!(o=(s=n.next()).done);o=!0){var c=s.value;this.form_autorizadores.autorizadoresOptions.push(c)}}catch(e){r=!0,a=e}finally{try{!o&&n.return&&n.return()}finally{if(r)throw a}}var l=!0,u=!1,f=void 0;try{for(var d,m=i()(this.form_autorizadores.data);!(l=(d=m.next()).done);l=!0){var p=d.value;t.push(p.usuario_id)}}catch(e){u=!0,f=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw f}}this.eliminarAutorizador(t),this.form_autorizadores.autorizadoresOptions.push({label:e.nombre,value:e.usuario_id}),this.form_autorizadores.selectNivel.push({label:e.orden,value:parseInt(e.orden)}),this.form_autorizadores.editar_autorizadores_proyecto=!0},editarAutorizador:function(){var e=this,t=this.form_autorizadores.fieldsPresupuesto;this.updateAutorizador(t).then(function(t){var o=t.data;e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_autorizadores.editar_autorizadores_proyecto=!1,e.cargarAutorizadores(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editResponsable:function(e){this.form_responsables.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_responsables.fieldsPresupuesto.perfil=e.perfil,this.form_responsables.fieldsPresupuesto.id=e.id,this.$v.form_responsables.$reset(),this.form_responsables.responsablesOptions=[];var t=[],o=!0,r=!1,a=void 0;try{for(var s,n=i()(this.usuariosOptions);!(o=(s=n.next()).done);o=!0){var c=s.value;this.form_responsables.responsablesOptions.push(c)}}catch(e){r=!0,a=e}finally{try{!o&&n.return&&n.return()}finally{if(r)throw a}}var l=!0,u=!1,f=void 0;try{for(var d,m=i()(this.form_responsables.data);!(l=(d=m.next()).done);l=!0){var p=d.value;t.push(p.usuario_id)}}catch(e){u=!0,f=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw f}}this.eliminarResponsable(t),this.form_responsables.responsablesOptions.push({label:e.nombre,value:e.usuario_id}),this.form_responsables.editar_responsables_proyecto=!0},editarResponsable:function(){var e=this,t=this.form_responsables.fieldsPresupuesto;this.updateResponsable(t).then(function(t){var o=t.data;e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_responsables.editar_responsables_proyecto=!1,e.cargarResponsables(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},obtenerEmpresa:function(){var e=this;this.form.fieldsPresupuesto.licitacion_id>0?this.getEmpresaConcursante({id:this.form.fieldsPresupuesto.licitacion_id}).then(function(t){var o=t.data;"success"===o.result&&(e.form.fieldsPresupuesto.empresa_id=parseInt(o.empresa[0].empresa_id))}).catch(function(e){console.error(e)}):(this.form.fieldsPresupuesto.empresa_id=0,this.empresasOptions.push({label:"---Seleccione---",value:0}))},borrarActividades:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea eliminar las actividades de este project?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e.form.fieldsPresupuesto.id};e.deleteActividad(t).then(function(t){var o=t.data;e.$showMessage(o.message.title,o.message.content),"success"===o.result&&e.cargarDetalles()}).catch(function(e){console.error(e)})}).catch(function(){})},editOrganismo:function(e){this.form_organismos.fields.id=e.id,this.form_organismos.fields.nombre=e.nombre,this.setViewOrganismos("update")},newRowOrganismos:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_organismos.$reset(),e.form_organismos.fields.id=0,e.form_organismos.fields.nombre="",e.setViewOrganismos("create");case 4:case"end":return t.stop()}},t,e)}))()},saveOrganismos:function(){var e=this;if(this.$v.form_organismos.fields.$touch(),this.$v.form_organismos.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_organismos.fields;t.recurso_id=this.form.fields.id,t.year=this.year,this.saveOrganismo(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.mensajeNotify("Éxito","green","fas fa-check",o.message.content,"top"),e.cargarDataOrganismos(),e.setViewOrganismos("grid")):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}},updateOrganismos:function(){var e=this;if(this.$v.form_organismos.fields.$touch(),this.$v.form_organismos.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_organismos.fields;this.updateOrganismo(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_organismos.loading=!0,e.cargarDataOrganismos(),e.setViewOrganismos("grid"),e.form_organismos.loading=!1)}).catch(function(e){console.error(e)})}},deleteOrganismos:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este organismo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteOrganismo(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarDataOrganismos(),t.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}).catch(function(){})},selectedRowContrato:function(e){this.$refs.contratoInput.value="",this.registro_contrato=e,this.$refs.contratoInput.click()},uploadContratoFile:function(){var e=this;try{var t=this.$refs.contratoInput.files[0],o=new FormData;o.append("file",t),o.append("nombre",t.name),o.append("contrato_id",this.registro_contrato.id),null===t||void 0===t||(t.type?"jpg"===t.type.split("/")[1].toLowerCase()||"jpeg"===t.type.split("/")[1].toLowerCase()||"png"===t.type.split("/")[1].toLowerCase()||"pdf"===t.type.split("/")[1].toLowerCase()||"xml"===t.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),b.a.post("contratos/uploadArchivoFinal",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){console.log(o),"success"===o.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.setViewContrato("grid"),e.cargarDataContratos()):""!==o.data.err&&(console.log(t.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",o.data.err)),e.$q.loading.hide()}).catch(function(t){console.error(t),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(t.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},verDocumentoContrato:function(e,t){var o="http://api.impact.beta.wasp.mx//public/assets/contratos_documentos_finales/"+e+"."+t;window.open(o,"_blank")},descargarDocumentoContrato:function(e,t){var o="http://api.impact.beta.wasp.mx/contratos/getFile/"+e+"/"+t;window.open(o,"_blank")},eliminarDocumentoContrato:function(e){var t=this;this.$q.dialog({title:"Confirmar acción",message:"¿Desea eliminar el archivo?",ok:"Eliminar",cancel:"Cancelar",preventClose:!0}).then(function(){t.borrarDocumento(e)}).catch(function(){})},borrarDocumento:function(e){var t=this;this.eliminarDocumento({id:e}).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),t.cargarDataContratos(),t.setViewContrato("grid")):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},newPerfil:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$v.form_perfiles.$reset(),e.form_perfiles.perfilesOptions=[],e.form_perfiles.fieldsPresupuesto.perfil_id=0,e.form_perfiles.fieldsPresupuesto.participacion="",t.next=6,e.getAllPerfiles();case 6:e.form_perfiles.perfiles_proyecto=!0;case 7:case"end":return t.stop()}},t,e)}))()},savePerfiles:function(){var e=this;if(this.$v.form_perfiles.$touch(),this.$v.form_perfiles.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_perfiles.fieldsPresupuesto;this.savePerfil(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.getPerfiles(),e.form_perfiles.perfiles_proyecto=!1)}).catch(function(e){console.error(e)})}},getPerfiles:function(){var e=this,t=this.form_perfiles.fieldsPresupuesto;this.getPerfilesByProject(t).then(function(t){var o=t.data;"success"===o.result&&(e.form_perfiles.data=o.proyectos_perfiles)}).catch(function(e){console.error(e)})},deletePerfiles:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea eliminar el perfil del project?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deletePerfil(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.getPerfiles()}).catch(function(e){console.error(e)})}).catch(function(){})},updateStatusBloqueado:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea bloquear el project? No podrán realizarse solicitudes.",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.form.fieldsPresupuesto.status="BLOQUEADO";var t=e.form.fieldsPresupuesto;e.updateProyectoStatus(t).then(function(t){var o=t.data;"success"===o.result&&e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})}).catch(function(){})},updateStatusActivo:function(){var e=this;this.form.fieldsPresupuesto.status="ACTIVO";var t=this.form.fieldsPresupuesto;this.updateProyectoStatus(t).then(function(t){var o=t.data;"success"===o.result&&e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})},finalizarProyecto:function(e){var t=this,o=e;this.updateFinalizado(o).then(function(e){var o=e.data;"success"===o.result&&t.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})},checkContrato:function(){null!==this.$refs.fileInputFormato.files&&(this.show_file_contrato=!0)},backProjects:function(){this.setViewPresupuestos("grid"),this.cargarDataProject()},editComisiones:function(e){var t=this;return u()(c.a.mark(function o(){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.$v.form_comisiones.$reset(),t.form_comisiones.fields.id=e.id,t.form_comisiones.fields.proyecto_id=e.proyecto_id,t.form_comisiones.fields.aliado_id=e.aliado_id,t.form_comisiones.fields.tipo=e.tipo,t.form_comisiones.fields.porcentaje=e.porcentaje,t.form_comisiones.fields.monto=e.monto,t.form_comisiones.fields.monto_total=e.monto_total,t.form_comisiones.fields.metodo_pago=e.metodo_pago,t.form_comisiones.fields.contrato_id=e.contrato_id,t.form_comisiones.fields.iva=e.iva,t.form_comisiones.fields.aplicado=e.aplicado,t.form_comisiones.fields.tiempo_pago=e.tiempo_pago,t.form_comisiones.fields.observaciones=e.observaciones,t.form_comisiones.monto_bolsa=0,t.form_comisiones.monto_base=0,t.form_comisiones.monto_comision=0,o.next=19,t.contrato_utilidad();case 19:t.setViewComisiones("update");case 20:case"end":return o.stop()}},o,t)}))()},newRowComisiones:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_comisiones.$reset(),e.form_comisiones.fields.id=0,e.form_comisiones.fields.proyecto_id=e.form.fields.id,e.form_comisiones.fields.aliado_id=0,e.form_comisiones.fields.tipo="all",e.form_comisiones.fields.porcentaje=0,e.form_comisiones.fields.monto=0,e.form_comisiones.fields.monto_total=0,e.form_comisiones.fields.metodo_pago="all",e.form_comisiones.fields.contrato_id=0,e.form_comisiones.fields.iva="all",e.form_comisiones.fields.aplicado="all",e.form_comisiones.fields.tiempo_pago="all",e.form_comisiones.fields.observaciones="",e.form_comisiones.monto_bolsa=0,e.form_comisiones.monto_base=0,e.form_comisiones.monto_comision=0,e.setViewComisiones("create");case 18:case"end":return t.stop()}},t,e)}))()},saveComisiones:function(){var e=this;if("A LA UTILIDAD"===this.form_comisiones.fields.aplicado&&(this.form_comisiones.fields.contrato_id=1),this.$v.form_comisiones.fields.$touch(),this.$v.form_comisiones.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_comisiones.fields;t.monto_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto),t.monto_total_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto_total),t.year=this.year,this.saveComision(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.mensajeNotify("Éxito","green","fas fa-check",o.message.content,"top"),e.cargarDataComisiones(),e.setViewComisiones("grid")):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}},updateComisiones:function(){var e=this;if("A LA UTILIDAD"===this.form_comisiones.fields.aplicado&&(this.form_comisiones.fields.contrato_id=1),this.$v.form_comisiones.fields.$touch(),this.$v.form_comisiones.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var t=this.form_comisiones.fields;t.monto_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto),t.monto_total_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto_total),this.updateComision(t).then(function(t){var o=t.data;e.loadingButton=!1,e.$showMessage(o.message.title,o.message.content),"success"===o.result&&(e.form_comisiones.loading=!0,e.cargarDataComisiones(),e.setViewComisiones("grid"),e.form_comisiones.loading=!1)}).catch(function(e){console.error(e)})}},deleteComisiones:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta comisión?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e};t.deleteComision(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarDataComisiones(),t.setViewComisiones("grid"))}).catch(function(e){console.error(e)})}).catch(function(){})},isNumber:function(e,t){switch(t){case"cantidad":this.form_comisiones.fields.porcentaje=this.form_comisiones.fields.porcentaje.replace(/[^0-9.]/g,"")}},getContratosOpt:function(){var e=this;this.getContratosOptions({id:this.form.fields.id}).then(function(t){var o=t.data;"success"===o.result&&(o.contratosOptions.length>0?(e.contratosOptions.push({label:"---Seleccione---",value:0}),e.contratosOptions=o.contratosOptions,e.form_comisiones.fields.contrato_id=0):(e.contratosOptions.push({label:"---No hay contratos---",value:0}),e.contratosOptions=[],e.form_comisiones.fields.contrato_id=0))}).catch(function(e){console.error(e)})},contrato_utilidad:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("A LA UTILIDAD"===e.form_comisiones.fields.aplicado&&(e.form_comisiones.fields.contrato_id=1,"A LA UTILIDAD"===e.form_comisiones.fields.aplicado?e.aplicado="UTILIDAD":e.aplicado="CONTRATO"),"all"===e.form_comisiones.fields.tipo||0===e.form_comisiones.fields.porcentaje||"all"===e.form_comisiones.fields.aplicado||0===e.form_comisiones.fields.contrato_id||null===e.form_comisiones.fields.contrato_id||"all"===e.form_comisiones.fields.iva){t.next=4;break}return t.next=4,b.a.get("/recursos/getMontoComision/"+e.form_comisiones.fields.tipo+"/"+e.form_comisiones.fields.porcentaje+"/"+e.form_comisiones.fields.aplicado+"/"+e.form_comisiones.fields.contrato_id+"/"+e.form_comisiones.fields.iva+"/"+e.form.fields.id).then(function(t){var o=t.data;e.form_comisiones.monto_bolsa=o.monto_bolsa,e.form_comisiones.monto_base=o.monto_base,"CANTIDAD FIJA"===e.form_comisiones.fields.tipo?e.form_comisiones.monto_comision=e.form_comisiones.fields.monto:e.form_comisiones.monto_comision=o.monto_comision,"A LA UTILIDAD"===e.form_comisiones.fields.aplicado&&(e.form_comisiones.monto_base=o.utility)}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t,e)}))()},busca:function(){this.form.filter="",this.form.filter_presupuesto="",this.filterByYear()},cancelFactura:function(e){var t=this,o=e;this.cancelarFactura(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.cargarFacturas()}).catch(function(e){console.error(e)})},downloadContrato:function(){var e="http://api.impact.beta.wasp.mx//public/assets/licitaciones/bases/"+this.form.fieldsContrato.documento_pdf+"."+this.form.fieldsContrato.doc_type_pdf;window.open(e,"_blank")},delete_single:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta actividad? El monto del project será actualizado.",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deleteActSingle(e)}).catch(function(){})},deleteActSingle:function(e){var t=this,o={id:e.id};this.deleteActividadSingle(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.form.fieldsPresupuesto.presupuesto_actual=t.currencyFormat(o.monto_actual),t.cargarDetalles())}).catch(function(e){console.error(e)})},getcom:function(){var e=this;return u()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cargarDataComisiones();case 2:case"end":return t.stop()}},t,e)}))()},selectedCom:function(e){this.$refs.comisionInput.value="",this.registro_comision=e,this.$refs.comisionInput.click()},uploadComisionFile:function(){var e=this;try{var t=this.$refs.comisionInput.files[0],o=new FormData;o.append("file",t),o.append("nombre",t.name),o.append("comision_id",this.registro_comision.id),null===t||void 0===t||(t.type?"jpg"===t.type.split("/")[1].toLowerCase()||"jpeg"===t.type.split("/")[1].toLowerCase()||"png"===t.type.split("/")[1].toLowerCase()||"pdf"===t.type.split("/")[1].toLowerCase()||"xml"===t.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===t.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),b.a.post("documentos_comisiones/uploadDocumento",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){console.log(o),"success"===o.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.cargarDataComisiones()):""!==o.data.err&&(console.log(t.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",o.data.err)),e.$q.loading.hide()}).catch(function(t){console.error(t),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(t.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},verDocumentosCom:function(e,t){var o="http://api.impact.beta.wasp.mx//public/assets/documentos_comisiones/"+e+"."+t;window.open(o,"_blank")},descargarDocumentoCom:function(e,t){var o="http://api.impact.beta.wasp.mx/documentos_comisiones/getFile/"+e+"/"+t;window.open(o,"_blank")},deleteDocumentoCom:function(e){var t=this;this.$q.dialog({title:"Confirmar acción",message:"¿Desea eliminar el archivo?",ok:"Eliminar",cancel:"Cancelar",preventClose:!0}).then(function(){t.delete_documento_com(e)}).catch(function(){})},delete_documento_com:function(e){var t=this;this.deleteDocumentoComision({id:e}).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),t.cargarDataComisiones()):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})}}),validations:{form:{fields:{cliente_id:{required:p.required,minValue:Object(p.minValue)(1)},subprograma_id:{required:p.required,minValue:Object(p.minValue)(1)},programa_id:{required:p.required,minValue:Object(p.minValue)(1)},fuente_financiamiento:{required:p.required,maxLength:Object(p.maxLength)(100)},nombre:{required:p.required,minLength:Object(p.minLength)(1)}},fieldsContrato:{recurso_id:{required:p.required,minValue:Object(p.minValue)(1)},empresa_id:{required:p.required,minValue:Object(p.minValue)(1)},fecha_inicio:{required:p.required},fecha_fin:{required:p.required},num_contrato:{required:p.required},monto_total:{required:p.required,minValue:Object(p.minValue)(1),maxValue:Object(p.maxValue)(1e9)},rep_legal_contrato:{required:p.required,nombreRep:y}},file:{fecha_pago:{required:p.required},fecha_vencimiento:{required:p.required}},retail:{nombre:{required:p.required,minLength:Object(p.minLength)(3)},fecha_pago:{required:p.required},fecha_factura:{required:p.required},fecha_vencimiento:{required:p.required}},fieldsPresupuesto:{recurso_id:{required:p.required,minValue:Object(p.minValue)(1)},inicio:{required:p.required},fin:{required:p.required},presupuesto:{required:p.required,minValue:Object(p.minValue)(1),maxValue:Object(p.maxValue)(1e9)},nombre_proyecto:{required:p.required,maxLength:Object(p.maxLength)(100)},lider_proyecto:{required:p.required}}},form_actividades:{fieldsPresupuesto:{nombre:{required:p.required,maxLength:Object(p.maxLength)(100)},duracion:{required:p.required,minValue:Object(p.minValue)(0)},duracion_restante:{required:p.required,minValue:Object(p.minValue)(0)},inicio:{required:p.required},fin:{required:p.required}}},form_solicitantes:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_colaboradores:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_autorizadores:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)},orden:{required:p.required,minValue:Object(p.minValue)(1)}}},form_responsables:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_organismos:{fields:{nombre:{required:p.required,maxLength:Object(p.maxLength)(100)}}},form_perfiles:{fieldsPresupuesto:{perfil_id:{required:p.required,minValue:Object(p.minValue)(1)},participacion:{maxLength:Object(p.maxLength)(50)}}},form_comisiones:{fields:{tipo:{required:p.required,minLength:Object(p.minLength)(4)},metodo_pago:{required:p.required,minLength:Object(p.minLength)(4)},contrato_id:{required:p.required,minValue:Object(p.minValue)(1)},iva:{required:p.required,minLength:Object(p.minLength)(4)},aplicado:{required:p.required,minLength:Object(p.minLength)(4)}}}}},w=function(){},C=[];var O=o("XyMi"),x=!1;var $=function(e){x||o("Gy2W")},D=Object(O.a)(P,w,C,!1,$,"data-v-882c113e",null);D.options.__file="src/pages/vnt/Recursos.vue";t.default=D.exports},aYrh:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"minValue",min:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},"bXE/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,r.withParams)({type:"and"},function(){for(var e=this,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t.length>0&&t.reduce(function(t,o){return t&&o.apply(e,r)},!0)})}},bs6G:function(e,t,o){var r=o("7KvD").parseFloat,i=o("mnVu").trim;e.exports=1/r(o("hyta")+"-0")!=-1/0?function(e){var t=i(String(e),3),o=r(t);return 0===o&&"-"==t.charAt(0)?-0:o}:r},eqrJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("integer",/^-?[0-9]*$/);t.default=r},exGp:function(e,t,o){"use strict";t.__esModule=!0;var r,i=o("//Fk"),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,o){return function r(i,s){try{var n=t[i](s),c=n.value}catch(e){return void o(e)}if(!n.done)return a.default.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}},fxRn:function(e,t,o){o("+tPU"),o("zQR9"),e.exports=o("g8Ux")},g8Ux:function(e,t,o){var r=o("77Pl"),i=o("3fs2");e.exports=o("FeBl").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},hbkP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("numeric",/^[0-9]*$/);t.default=r},hyta:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},jyFz:function(e,t,o){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=o("SldL"),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},lEk1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},function(t,o){return!(0,r.ref)(e,this,o)||(0,r.req)(t)})}},lRqH:function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},mnVu:function(e,t,o){var r=o("kM2E"),i=o("52gC"),a=o("S82l"),s=o("hyta"),n="["+s+"]",c=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),u=function(e,t,o){var i={},n=a(function(){return!!s[e]()||"​"!="​"[e]()}),c=i[e]=n?t(f):s[e];o&&(i[o]=c),r(r.P+r.F*n,"String",i)},f=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},mpcv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",API:"http://api.impact.beta.wasp.mx/",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).BUILD?o("tL8V").withParams:o("JVqD").withParams;t.default=r},"pO+f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,o("URu4").regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},qHXR:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"maxLength",max:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e})}},quu5:function(e,t,o){o("CHlY"),e.exports=o("FeBl").Number.parseFloat},tL8V:function(e,t,o){"use strict";(function(e){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!=typeof window?window:void 0!==e?e:{},i=r.vuelidate?r.vuelidate.withParams:function(e,t){return"object"===o(e)&&void 0!==t?t:e(function(){})};t.withParams=i}).call(t,o("DuR2"))},xJ3U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o("URu4");t.default=function(e){return(0,r.withParams)({type:"maxValue",max:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}}});
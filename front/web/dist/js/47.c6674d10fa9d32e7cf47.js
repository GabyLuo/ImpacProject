webpackJsonp([47],{"+cKO":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return x.default}}),t.helpers=void 0;var i=C(o("FWhV")),r=C(o("PKmV")),s=C(o("hbkP")),a=C(o("3Ro/")),l=C(o("6rz0")),n=C(o("HSVw")),c=C(o("HM/u")),d=C(o("qHXR")),f=C(o("4ypF")),m=C(o("4oDf")),u=C(o("lEk1")),p=C(o("6+Xr")),v=C(o("L6Jx")),_=C(o("7J6f")),b=C(o("Y18q")),g=C(o("bXE/")),h=C(o("FP1U")),y=C(o("aYrh")),q=C(o("xJ3U")),k=C(o("eqrJ")),x=C(o("pO+f")),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};i.get||i.set?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,t}(o("URu4"));function C(e){return e&&e.__esModule?e:{default:e}}t.helpers=w},"3Ro/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e,t){return(0,i.withParams)({type:"between",min:e,max:t},function(o){return!(0,i.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+e<=+o&&+t>=+o})}},"4oDf":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4"),r=(0,i.withParams)({type:"required"},i.req);t.default=r},"4ypF":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"minLength",min:e},function(t){return!(0,i.req)(t)||(0,i.len)(t)>=e})}},"6+Xr":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"requiredUnless",prop:e},function(t,o){return!!(0,i.ref)(e,this,o)||(0,i.req)(t)})}},"6rz0":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/);t.default=i},"7J6f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=i},"A3/p":function(e,t,o){(e.exports=o("FZ+f")(!1)).push([e.i,"",""])},FP1U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"not"},function(t,o){return!(0,i.req)(t)||!e.call(this,t,o)})}},FWhV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("alpha",/^[a-zA-Z]*$/);t.default=i},"HM/u":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,i.withParams)({type:"macAddress"},function(t){if(!(0,i.req)(t))return!0;if("string"!=typeof t)return!1;var o="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==o&&(6===o.length||8===o.length)&&o.every(r)})};var r=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},HSVw:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4"),r=(0,i.withParams)({type:"ipAddress"},function(e){if(!(0,i.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(s)});t.default=r;var s=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},L6Jx:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"sameAs",eq:e},function(t,o){return t===(0,i.ref)(e,this,o)})}},PKmV:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=i},SldL:function(e,t){!function(t){"use strict";var o,i=Object.prototype,r=i.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",n=s.toStringTag||"@@toStringTag",c="object"==typeof e,d=t.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=t.regeneratorRuntime=c?e.exports:{}).wrap=y;var f="suspendedStart",m="suspendedYield",u="executing",p="completed",v={},_={};_[a]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(D([])));g&&g!==i&&r.call(g,a)&&(_=g);var h=w.prototype=k.prototype=Object.create(_);x.prototype=h.constructor=w,w.constructor=x,w[n]=x.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(h),e},d.awrap=function(e){return{__await:e}},C($.prototype),$.prototype[l]=function(){return this},d.AsyncIterator=$,d.async=function(e,t,o,i){var r=new $(y(e,t,o,i));return d.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},C(h),h[n]="Generator",h[a]=function(){return this},h.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var i=t.pop();if(i in e)return o.value=i,o.done=!1,o}return o.done=!0,o}},d.values=D,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=o)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return l.type="throw",l.arg=e,t.next=i,r&&(t.method="next",t.arg=o),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var n=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(n&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(n){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),S(o),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var i=o.completion;if("throw"===i.type){var r=i.arg;S(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:D(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=o),v}}}function y(e,t,o,i){var r=t&&t.prototype instanceof k?t:k,s=Object.create(r.prototype),a=new P(i||[]);return s._invoke=function(e,t,o){var i=f;return function(r,s){if(i===u)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw s;return A()}for(o.method=r,o.arg=s;;){var a=o.delegate;if(a){var l=O(a,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===f)throw i=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=u;var n=q(e,t,o);if("normal"===n.type){if(i=o.done?p:m,n.arg===v)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(i=p,o.method="throw",o.arg=n.arg)}}}(e,o,a),s}function q(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function k(){}function x(){}function w(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function $(e){var t;this._invoke=function(o,i){function s(){return new Promise(function(t,s){!function t(o,i,s,a){var l=q(e[o],e,i);if("throw"!==l.type){var n=l.arg,c=n.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,s,a)},function(e){t("throw",e,s,a)}):Promise.resolve(c).then(function(e){n.value=e,s(n)},a)}a(l.arg)}(o,i,t,s)})}return t=t?t.then(s,s):s()}}function O(e,t){var i=e.iterator[t.method];if(i===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=o,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=q(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var s=r.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=o),t.delegate=null,v):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=o,t.done=!0,t};return s.next=s}}return{next:A}}function A(){return{value:o,done:!0}}}(function(){return this}()||Function("return this")())},U43T:function(e,t,o){var i=o("A3/p");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o("rjj0").default)("002fa3a6",i,!1,{})},URu4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}}),t.regex=t.ref=t.len=t.req=void 0;var i,r=(i=o("mpcv"))&&i.__esModule?i:{default:i};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===s(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=a;t.len=function(e){return Array.isArray(e)?e.length:"object"===s(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,o){return"function"==typeof e?e.call(t,o):o[e]};t.regex=function(e,t){return(0,r.default)({type:e},function(e){return!a(e)||t.test(e)})}},Xxa5:function(e,t,o){e.exports=o("jyFz")},Y18q:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,i.withParams)({type:"or"},function(){for(var e=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t.length>0&&t.reduce(function(t,o){return t||o.apply(e,i)},!1)})}},aYrh:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"minValue",min:e},function(t){return!(0,i.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},"bXE/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,i.withParams)({type:"and"},function(){for(var e=this,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t.length>0&&t.reduce(function(t,o){return t&&o.apply(e,i)},!0)})}},eqrJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("integer",/^-?[0-9]*$/);t.default=i},exGp:function(e,t,o){"use strict";t.__esModule=!0;var i,r=o("//Fk"),s=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){return function(){var t=e.apply(this,arguments);return new s.default(function(e,o){return function i(r,a){try{var l=t[r](a),n=l.value}catch(e){return void o(e)}if(!l.done)return s.default.resolve(n).then(function(e){i("next",e)},function(e){i("throw",e)});e(n)}("next")})}}},hbkP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("numeric",/^[0-9]*$/);t.default=i},jyFz:function(e,t,o){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,s=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=o("SldL"),r)i.regeneratorRuntime=s;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},lEk1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"requiredIf",prop:e},function(t,o){return!(0,i.ref)(e,this,o)||(0,i.req)(t)})}},mpcv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="web"===Object({NODE_ENV:"production",DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",API:"http://api.impact.beta.wasp.mx/",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).BUILD?o("tL8V").withParams:o("JVqD").withParams;t.default=i},ouil:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("Xxa5"),r=o.n(i),s=o("exGp"),a=o.n(s),l=o("Dd8w"),n=o.n(l),c=o("NYxO"),d=o("+cKO"),f=o("mtWM"),m=o.n(f),u={components:{},beforeRouteEnter:function(e,t,o){o(function(e){for(var i=!1,r=e.$store.getters["user/role"],s=0;s<r.length;s++)r[s].toUpperCase()!=="admin".toUpperCase()&&r[s].toUpperCase()!=="ROOT".toUpperCase()&&r[s].toUpperCase()!=="CLIENTE".toUpperCase()&&r[s].toUpperCase()!=="LIDER".toUpperCase()&&r[s].toUpperCase()!=="COORDINADOR".toUpperCase()&&r[s].toUpperCase()!=="GERENTE DE OPERACIONES".toUpperCase()&&r[s].toUpperCase()!=="PMO".toUpperCase()&&r[s].toUpperCase()!=="FINANZAS".toUpperCase()&&r[s].toUpperCase()!=="OPERACIÓN".toUpperCase()&&r[s].toUpperCase()!=="LICITACIONES".toUpperCase()&&r[s].toUpperCase()!=="LICITACIONES - SOLICITUDES".toUpperCase()&&r[s].toUpperCase()!=="INVENTARIOS".toUpperCase()&&r[s].toUpperCase()!=="COMPRAS".toUpperCase()||(i=!0);i?o():o("/"===t.path?"/dashboard":t.path)})},data:function(){return{almacenesOptions:[{label:"---Seleccione---",value:0}],almacenesOptionsDestino:[{label:"---Seleccione---",value:0}],loadingButton:!1,views:{grid:!0,create:!1,update:!1,createSalida:!1,updateSalida:!1,createTraspaso:!1,updateTraspaso:!1},form:{fields:{id:0,id2:0,tipo_id:0,empresa_id:0,almacen_id:0,tipo_id_2:0,empresa_id_2:0,almacen_id_2:0,folio:"",folio_2:"",status:"",fecha:"",observaciones:"",destino:0,proveedor_id:0},columns:[{name:"folio",label:"Folio",field:"folio",sortable:!0,type:"string",align:"left"},{name:"created",label:"Creado",field:"created",sortable:!0,type:"string",align:"left"},{name:"movimiento",label:"Movimiento",field:"movimiento",sortable:!0,type:"string",align:"left"},{name:"empresa",label:"Empresa",field:"empresa",sortable:!0,type:"string",align:"left"},{name:"almacen",label:"Almacén",field:"almacen",sortable:!0,type:"string",align:"left"},{name:"proveedor",label:"Proveedor",field:"proveedor",sortable:!0,type:"string",align:"left"},{name:"recepcion",label:"Recepción",field:"recepcion",sortable:!0,type:"string",align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form_detalles:{data:[],editar:!1,fields:{id:0,producto_id:0,presentacion_id:0,cantidad:0,costo:0,movimiento_id:0},columns:[{name:"producto",label:"Producto",field:"producto",sortable:!0,type:"string",align:"left"},{name:"cantidad",label:"Cantidad",field:"cantidad",sortable:!0,type:"string",align:"right"},{name:"costo",label:"Costo",field:"costo",sortable:!0,type:"string",align:"right"},{name:"importe",label:"Importe",field:"importe",sortable:!0,type:"string",align:"right"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],columnsSalida:[{name:"producto",label:"Producto",field:"producto",sortable:!0,type:"string",align:"left"},{name:"cantidad",label:"Cantidad",field:"cantidad",sortable:!0,type:"string",align:"right"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form_recepciones:{fields:{existe_recepcion:"",razon_social:"",folio_recepcion:"",nickname:"",folio_compra:"",subtotal:"",total:""}},modal:{x:0,y:0,transition:null}}},computed:n()({},Object(c.c)({movimientos:"inv/movimientos/movimientos"}),{movimientosOptions:function(){var e=this.$store.getters["inv/tipos_movimientos/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.nombre>t.nombre?1:e.nombre<t.nombre?-1:0}),e},empresasOptions:function(){var e=this.$store.getters["vnt/empresa/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.razon_social>t.razon_social?1:e.razon_social<t.razon_social?-1:0}),e},productosOptions:function(){var e=this.$store.getters["inv/productos/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.nombre>t.nombre?1:e.nombre<t.nombre?-1:0}),e},presentacionesOptions:function(){var e=this.$store.getters["inv/tipos_presentaciones/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.nombre>t.nombre?1:e.nombre<t.nombre?-1:0}),e},destinosOptions:function(){var e=this.$store.getters["crm/destinos/selectOptions"];return e.splice(0,0,{label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.nombre_destino>t.nombre_destino?1:e.nombre_destino<t.nombre_destino?-1:0}),e},proveedoresOptions:function(){var e=this.$store.getters["pmo/proveedor/selectOptions"];return e.splice(0,0,{label:"---Seleccione---",value:0}),e.sort(function(e,t){return e.nombre_comercial>t.nombre_comercial?1:e.nombre_comercial<t.nombre_comercial?-1:0}),e}}),created:function(){this.loadAll()},methods:n()({},Object(c.b)({getMovimientos:"inv/movimientos/refresh",saveMovimientos:"inv/movimientos/save",updateMovimientos:"inv/movimientos/update",deleteMovimientos:"inv/movimientos/delete",getEmpresas:"vnt/empresa/refresh",getProveedores:"pmo/proveedor/refresh",getTiposMovimientos:"inv/tipos_movimientos/refresh",getAlmacenesByEmpresa:"inv/almacenes/getByEmpresa",getProductos:"inv/productos/refresh",getPresentaciones:"inv/tipos_presentaciones/refresh",getDetalles:"inv/movimientos_detalles/getByMovimiento",saveDetalles:"inv/movimientos_detalles/save",updateDetalles:"inv/movimientos_detalles/update",deleteDetalles:"inv/movimientos_detalles/delete",getFolioConsecutivo:"inv/movimientos/getFolioConsecutivo",getDestinos:"crm/destinos/refresh"}),{loadAll:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.loading=!0,t.next=3,e.getEmpresas();case 3:return t.next=5,e.getProveedores();case 5:return t.next=7,e.getMovimientos();case 7:return t.next=9,e.getTiposMovimientos();case 9:return t.next=11,e.getProductos();case 11:return t.next=13,e.getPresentaciones();case 13:return t.next=15,e.cargaAlmacenesDestino();case 15:return t.next=17,e.cargaAlmacenes();case 17:return t.next=19,e.getDestinos();case 19:return t.next=21,e.cargaAlmacenesDestino();case 21:e.form.loading=!1;case 22:case"end":return t.stop()}},t,e)}))()},setView:function(e){this.views.grid=!1,this.views.create=!1,this.views.update=!1,this.views.createSalida=!1,this.views.updateSalida=!1,this.views.createTraspaso=!1,this.views.updateTraspaso=!1,this.views[e]=!0},cargaAlmacenes:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.almacenesOptions=[],e.form.fields.almacen_id=0,t.next=4,e.getAlmacenesByEmpresa({empresa_id:e.form.fields.empresa_id}).then(function(t){var o=t.data;e.almacenesOptions.push({label:"---Seleccione---",value:0}),o.almacenes.length>0&&o.almacenes.forEach(function(t){e.almacenesOptions.push({label:t.nombre,value:t.id})})}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t,e)}))()},cargaAlmacenesDestino:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.almacenesOptionsDestino=[],e.form.fields.almacen_id_2=0,t.next=4,e.getAlmacenesByEmpresa({empresa_id:e.form.fields.empresa_id_2}).then(function(t){var o=t.data;e.almacenesOptionsDestino.push({label:"---Seleccione---",value:0}),o.almacenes.length>0&&o.almacenes.forEach(function(t){e.almacenesOptionsDestino.push({label:t.nombre,value:t.id})})}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t,e)}))()},isNumber:function(e,t){switch(t){case"telefono":this.form.fields.telefono=this.form.fields.telefono.replace(/[^0-9.]/g,"");break;case"numero_exterior":this.form.fields.numero_exterior=this.form.fields.numero_exterior.replace(/[^0-9.]/g,""),this.$v.form.fields.numero_exterior.$touch();break;case"cantidad":this.form_detalles.fields.cantidad=this.form_detalles.fields.cantidad.replace(/[^0-9.]/g,""),this.$v.form_detalles.fields.cantidad.$touch();break;case"costo":this.form_detalles.fields.costo=this.form_detalles.fields.costo.replace(/[^0-9.]/g,""),this.$v.form_detalles.fields.costo.$touch()}},save:function(){var e=this;return a()(r.a.mark(function t(){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:1!==e.form.fields.tipo&&2!==e.form.fields.tipo&&3!==e.form.fields.tipo||(e.form.fields.empresa_id_2=e.form.fields.empresa_id),e.$v.form.$touch(),e.$v.form.$error?(e.$showMessage("¡Advertencia!","Por favor revise los campos."),e.loadingButton=!1):(e.loadingButton=!0,5===e.form.fields.tipo_id&&e.form.fields.almacen_id===e.form.fields.almacen_id_2&&(e.$showMessage("¡Advertencia!","Seleccione un almacén de destino diferente al de origen."),e.loadingButton=!1),10!==e.form.fields.tipo_id&&(o=e.form.fields,e.saveMovimientos(o).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"check",position:"top-right"}),1!==e.form.fields.tipo_id&&3!==e.form.fields.tipo_id||(e.form_detalles.fields.costo=0,e.setView("update"),console.log("editar")),2===e.form.fields.tipo_id&&(e.form_detalles.fields.costo=1,e.setView("updateSalida"),console.log("editarSalida")),5===e.form.fields.tipo_id&&(e.form_detalles.fields.costo=1,e.setView("updateTraspaso"),console.log("editarTraspaso")),e.form_detalles.fields.movimiento_id=o.id,e.form.fields.id=o.id,5===e.form.fields.tipo_id&&(e.form.fields.id2=o.id2,e.form.fields.folio_2=o.folio_2,e.form.fields.almacen_id_2=o.almacen_id_2,e.form.fields.tipo_id_2=o.tipo_id_2),e.getDetallesByMovimiento(),e.form.fields.folio=o.folio,e.loadingButton=!1):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})));case 3:case"end":return t.stop()}},t,e)}))()},update:function(){var e=this;if(1!==this.form.fields.tipo&&2!==this.form.fields.tipo&&3!==this.form.fields.tipo||(this.form.fields.empresa_id_2=this.form.fields.empresa_id),this.$v.form.$touch(),this.$v.form.$error)this.$showMessage("Error","Por favor revise los campos."),this.form.fields.status="NUEVO";else{this.loadingButton=!0;var t=this.form.fields;this.updateMovimientos(t).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"check",position:"top-right"}):(e.$showMessage(o.message.title,o.message.content),e.form.fields.status="NUEVO")}).catch(function(e){console.error(e)})}},editRow:function(e){var t=this;return a()(r.a.mark(function o(){return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(e),t.form.fields.id=e.id,t.form.fields.empresa_id=e.empresa_id,t.form.fields.destino=e.destino,t.form.fields.observaciones=e.observaciones,t.form.fields.folio=e.folio,t.form.fields.tipo_id=e.tipo_id,null===e.proveedor_id?t.form.fields.proveedor_id=0:t.form.fields.proveedor_id=e.proveedor_id,t.form.fields.tipo_id>0&&t.cargaAlmacenes(),t.form.fields.almacen_id=e.almacen_id,t.form.fields.status=e.status,t.form.fields.fecha=e.created,t.form_detalles.fields.id=0,t.form_detalles.fields.producto_id=0,t.form_detalles.fields.presentacion_id=0,t.form_detalles.fields.cantidad=0,t.form_detalles.fields.costo=0,t.form_detalles.fields.movimiento_id=e.id,t.form_detalles.editar=!1,t.form_recepciones.fields.existe_recepcion=e.existe_recepcion,"NO"!==e.existe_recepcion&&(t.form_recepciones.fields.existe_recepcion=e.existe_recepcion,t.form_recepciones.fields.razon_social=e.razon_social,t.form_recepciones.fields.folio_recepcion=e.folio_recepcion,t.form_recepciones.fields.nickname=e.nickname,t.form_recepciones.fields.folio_compra=e.folio_compra,t.form_recepciones.fields.subtotal=e.subtotal,t.form_recepciones.fields.total=e.total),o.next=23,t.getDetallesByMovimiento();case 23:t.$v.form_detalles.$reset(),1!==t.form.fields.tipo_id&&3!==t.form.fields.tipo_id||(t.form.fields.empresa_id_2=1,t.form.fields.tipo_id_2=1,t.form.fields.almacen_id_2=1,t.form_detalles.fields.costo=0,t.setView("update"),console.log("editar")),2===t.form.fields.tipo_id&&(t.form.fields.empresa_id_2=1,t.form.fields.tipo_id_2=1,t.form.fields.almacen_id_2=1,t.form_detalles.fields.costo=1,t.setView("updateSalida"),console.log("editarSalida")),5===t.form.fields.tipo_id&&(t.form.fields.empresa_id_2=e.empresa_id_2,t.cargaAlmacenesDestino(),t.form.fields.folio_2=e.folio_2,t.form.fields.almacen_id_2=e.almacen_id_2,t.form.fields.tipo_id_2=e.tipo_id_2,t.form.fields.id2=e.id2,t.setView("updateTraspaso"));case 27:case"end":return o.stop()}},o,t)}))()},deleteSingleRow:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este movimiento?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.delete(e)}).catch(function(){})},delete:function(e){var t=this,o={id:e};this.deleteMovimientos(o).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),t.loadAll(),t.setView("grid")):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},getFolioNuevo:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.fields.folio="",t.next=3,e.getFolioConsecutivo({tipo_movimiento:e.form.fields.tipo_id}).then(function(t){var o=t.data;"success"===o.result&&(e.form.fields.folio=o.folio)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},newRow:function(){this.limpiar(),this.form.fields.tipo_id=1,this.form_detalles.fields.costo=0,this.form.fields.empresa_id_2=1,this.form.fields.tipo_id_2=1,this.form.fields.almacen_id_2=1,this.form.fields.destino=0,this.form.fields.observaciones="",this.getFolioNuevo(),this.setView("create")},newRowSalida:function(){this.limpiar(),this.form.fields.tipo_id=2,this.form_detalles.fields.costo=1,this.form.fields.empresa_id_2=1,this.form.fields.tipo_id_2=1,this.form.fields.almacen_id_2=1,this.form.fields.destino=0,this.form.fields.observaciones="",this.getFolioNuevo(),this.setView("createSalida")},newInventario:function(){this.limpiar(),this.form.fields.tipo_id=3,this.form_detalles.fields.costo=0,this.form.fields.empresa_id_2=1,this.form.fields.tipo_id_2=1,this.form.fields.almacen_id_2=1,this.form.fields.destino=0,this.form.fields.observaciones="",this.getFolioNuevo(),this.setView("create")},newTraspaso:function(){this.limpiar(),this.form.fields.tipo_id_2=4,this.form.fields.empresa_id_2=0,this.form.fields.almacen_id_2=0,this.form.fields.tipo_id=5,this.form.fields.destino=0,this.form.fields.observaciones="",this.getFolioNuevo(),this.setView("createTraspaso")},atras:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form.fields.status="",t.next=3,e.getMovimientos();case 3:e.setView("grid");case 4:case"end":return t.stop()}},t,e)}))()},saveMovimientosDetalles:function(){var e=this;return a()(r.a.mark(function t(){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_detalles.$touch(),e.$v.form_detalles.$error?e.$showMessage("¡Advertencia!","Por favor revise los campos."):(e.loadingButton=!0,o=e.form_detalles.fields,e.saveDetalles(o).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"check",position:"top-right"}),e.limpiarDetalles(),e.getDetallesByMovimiento()):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)}));case 2:case"end":return t.stop()}},t,e)}))()},updateMovimientosDetalles:function(){var e=this;return a()(r.a.mark(function t(){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$v.form_detalles.$touch(),e.$v.form_detalles.$error?e.$showMessage("¡Advertencia!","Por favor revise los campos."):(e.loadingButton=!0,o=e.form_detalles.fields,e.updateDetalles(o).then(function(t){var o=t.data;e.loadingButton=!1,"success"===o.result?(e.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"check",position:"top-right"}),e.form_detalles.editar=!1,e.limpiarDetalles(),e.getDetallesByMovimiento()):e.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)}));case 2:case"end":return t.stop()}},t,e)}))()},getDetallesByMovimiento:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.form_detalles.data=[],t.next=3,e.getDetalles({movimiento_id:e.form_detalles.fields.movimiento_id}).then(function(t){var o=t.data;o.movimientos_detalles.length>0&&(e.form_detalles.data=o.movimientos_detalles)}).catch(function(e){console.error(e)});case 3:case"end":return t.stop()}},t,e)}))()},editRowDetalle:function(e){var t=this;return a()(r.a.mark(function o(){return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t.form_detalles.fields.id=e.id,t.form_detalles.fields.producto_id=e.producto_id,t.form_detalles.fields.presentacion_id=e.presentacion_id,t.form_detalles.fields.cantidad=e.cantidad,t.form_detalles.fields.costo=e.costo,t.form_detalles.fields.movimiento_id=t.form.fields.id,t.form_detalles.editar=!0,t.$v.form_detalles.$reset(),console.log(t.form_detalles.fields.costo);case 9:case"end":return o.stop()}},o,t)}))()},limpiar:function(){this.$v.form.$reset(),this.form.fields.id=0,this.form.fields.empresa_id=0,this.form.fields.folio="",this.form.fields.almacen_id=0,this.form.fields.status="NUEVO",this.form.fields.fecha="",this.form.fields.proveedor_id=0,this.form_detalles.fields.id=0,this.form_detalles.fields.producto_id=0,this.form_detalles.fields.presentacion_id=0,this.form_detalles.fields.cantidad=0,this.form_detalles.fields.movimiento_id=0,this.form_detalles.editar=!1},limpiarDetalles:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.form_detalles.fields.id=0,e.form_detalles.fields.producto_id=0,e.form_detalles.fields.presentacion_id=0,e.form_detalles.fields.cantidad=0,e.form_detalles.fields.costo=0,e.form_detalles.fields.movimiento_id=e.form.fields.id,e.form_detalles.editar=!1,1===e.form.fields.tipo_id?e.form_detalles.fields.costo=0:e.form_detalles.fields.costo=1,e.$v.form_detalles.$reset();case 9:case"end":return t.stop()}},t,e)}))()},deleteSingleRowDetalle:function(e){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este detalle de movimiento?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.deleteMovimientoDetalle(e)}).catch(function(){})},deleteMovimientoDetalle:function(e){var t=this,o={id:e};this.deleteDetalles(o).then(function(e){var o=e.data;"success"===o.result?(t.$q.notify({message:o.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),t.getDetallesByMovimiento()):t.$showMessage(o.message.title,o.message.content)}).catch(function(e){console.error(e)})},ejecutar:function(){this.form.fields.status="EJECUTADO",this.update()},cancelar:function(){this.form.fields.status="CANCELADO",this.update()},getPresentacion:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/productos/getPresentacionByProducto/"+e.form_detalles.fields.producto_id).then(function(t){var o=t.data;e.form_detalles.fields.presentacion_id=o.productos[0].presentacion_id}).catch(function(e){console.error(e)});case 2:case"end":return t.stop()}},t,e)}))()},exportPDF:function(){var e;e="http://api.impact.beta.wasp.mx/reportesPDF/exportPDF_movimiento/"+this.form.fields.id,window.open(e,"_blank")}}),validations:{form:{fields:{tipo_id:{required:d.required,minValue:Object(d.minValue)(1)},almacen_id:{required:d.required,minValue:Object(d.minValue)(1)},tipo_id_2:{required:d.required,minValue:Object(d.minValue)(1)},almacen_id_2:{required:d.required,minValue:Object(d.minValue)(1)},folio:{required:d.required,minLength:Object(d.minLength)(1),maxLength:Object(d.maxLength)(20)},fecha:{required:d.required}}},form_detalles:{fields:{producto_id:{required:d.required,minValue:Object(d.minValue)(1)},cantidad:{required:d.required},costo:{required:d.required,minValue:Object(d.minValue)(0)}}}}},p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[e.views.grid?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-5"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{staticClass:"q-ml-sm grey-8 fs28 page-title",attrs:{label:"Inventario"}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-7 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_pagar",attrs:{icon:"add"},on:{click:function(t){e.newRow()}}},[o("q-tooltip",{staticClass:"bg-green"},[e._v("Entrada")])],1),e._v(" "),o("q-btn",{staticClass:"btn_rechazar",staticStyle:{"margin-left":"10px"},attrs:{icon:"arrow_forward"},on:{click:function(t){e.newRowSalida()}}},[o("q-tooltip",{staticClass:"bg-deep-orange"},[e._v("Salida")])],1),e._v(" "),o("q-btn",{staticClass:"btn_solicitar",staticStyle:{"margin-left":"10px"},attrs:{icon:"add"},on:{click:function(t){e.newInventario()}}},[o("q-tooltip",{staticClass:"bg-light-blue"},[e._v("Inventario inicial")])],1),e._v(" "),o("q-btn",{staticClass:"btn_actualizar",staticStyle:{"margin-left":"10px"},attrs:{icon:"arrow_forward"},on:{click:function(t){e.newTraspaso()}}},[o("q-tooltip",{staticClass:"bg-orange-4"},[e._v("Traspaso")])],1)],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md",staticStyle:{padding:"0"}},[o("div",{staticClass:"col q-pa-md "},[o("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[o("q-search",{attrs:{color:"primary"},model:{value:e.form.filter,callback:function(t){e.$set(e.form,"filter",t)},expression:"form.filter"}})],1),e._v(" "),o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.movimientos,columns:e.form.columns,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(t){e.$set(e.form,"selected",t)},"update:pagination":function(t){e.$set(e.form,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"folio",attrs:{props:t}},[e._v(e._s(t.row.folio))]),e._v(" "),o("q-td",{key:"created",attrs:{props:t}},[e._v(e._s(t.row.created))]),e._v(" "),o("q-td",{key:"movimiento",attrs:{props:t}},[e._v(e._s(t.row.movimiento))]),e._v(" "),o("q-td",{key:"empresa",attrs:{props:t}},[e._v(e._s(t.row.empresa))]),e._v(" "),o("q-td",{key:"almacen",attrs:{props:t}},[e._v(e._s(t.row.almacen))]),e._v(" "),o("q-td",{key:"proveedor",attrs:{props:t}},[e._v(e._s(t.row.proveedor))]),e._v(" "),o("q-td",{key:"recepcion",attrs:{props:t}},[e._v(e._s(t.row.recepcion))]),e._v(" "),o("q-td",{key:"status",attrs:{props:t}},[o("q-chip",{staticStyle:{"border-radius":"0"},attrs:{dense:"",icon:t.row.icon,color:t.row.color,"text-color":"white"}},[e._v(e._s(t.row.status))])],1),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},[o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(o){e.editRow(t.row)}}},[o("q-tooltip",[e._v("Editar")])],1),e._v(" "),o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRow(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])])]):e._e(),e._v(" "),e.views.create?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Nuevo"}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.save()}}})],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenes()}},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese una folio"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"forward","icon-color":"dark","error-label":"Seleccione un destino"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Destino",options:e.destinosOptions},model:{value:e.form.fields.destino,callback:function(t){e.$set(e.form.fields,"destino",t)},expression:"form.fields.destino"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"list","icon-color":"dark","error-label":"Escriba Observacion"}},[o("q-input",{attrs:{filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fields.observaciones,callback:function(t){e.$set(e.form.fields,"observaciones",t)},expression:"form.fields.observaciones"}})],1)],1),e._v(" "),1===e.form.fields.tipo_id?o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"person","icon-color":"dark","error-label":"Seleccione un proveedor"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Proveedor",options:e.proveedoresOptions},model:{value:e.form.fields.proveedor_id,callback:function(t){e.$set(e.form.fields,"proveedor_id",t)},expression:"form.fields.proveedor_id"}})],1)],1):e._e()])])])])]):e._e(),e._v(" "),e.views.update?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:e.form.fields.folio}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"5px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),"NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_guardar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.update()}}},[e._v("Guardar")]):e._e(),e._v(" "),"NUEVO"===e.form.fields.status&&e.form_detalles.data.length>0?o("q-btn",{staticClass:"btn_solicitar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.ejecutar()}}},[e._v("Ejecutar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{staticClass:"btn_rechazar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.cancelar()}}},[e._v("Cancelar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{color:"green","icon-right":"fas fa-file-pdf"},on:{click:function(t){e.exportPDF()}}},[e._v("GENERAR PDF")]):e._e()],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md col-sm-12"},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-6 pull-left"},[o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-left"})]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-right"})])])]),e._v(" "),o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-pa-md"},[e._v("\n            Información del movimiento\n          ")]),e._v(" "),o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese una folio"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"forward","icon-color":"dark","error-label":"Seleccione un destino"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Destino",options:e.destinosOptions},model:{value:e.form.fields.destino,callback:function(t){e.$set(e.form.fields,"destino",t)},expression:"form.fields.destino"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"list","icon-color":"dark","error-label":"Escriba Observacion"}},[o("q-input",{attrs:{filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fields.observaciones,callback:function(t){e.$set(e.form.fields,"observaciones",t)},expression:"form.fields.observaciones"}})],1)],1),e._v(" "),1===e.form.fields.tipo_id?o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"person","icon-color":"dark","error-label":"Seleccione un proveedor"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Proveedor",options:e.proveedoresOptions},model:{value:e.form.fields.proveedor_id,callback:function(t){e.$set(e.form.fields,"proveedor_id",t)},expression:"form.fields.proveedor_id"}})],1)],1):e._e()]),e._v(" "),"SI"===e.form_recepciones.fields.existe_recepcion?o("div",{staticClass:"row q-pa-md"},[e._v("\n            Información de la recepción\n          ")]):e._e(),e._v(" "),"SI"===e.form_recepciones.fields.existe_recepcion?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form_recepciones.fields.razon_social,callback:function(t){e.$set(e.form_recepciones.fields,"razon_social",t)},expression:"form_recepciones.fields.razon_social"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"style","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Folio recepción"},model:{value:e.form_recepciones.fields.folio_recepcion,callback:function(t){e.$set(e.form_recepciones.fields,"folio_recepcion",t)},expression:"form_recepciones.fields.folio_recepcion"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Recibe"},model:{value:e.form_recepciones.fields.nickname,callback:function(t){e.$set(e.form_recepciones.fields,"nickname",t)},expression:"form_recepciones.fields.nickname"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"style","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Folio compra"},model:{value:e.form_recepciones.fields.folio_compra,callback:function(t){e.$set(e.form_recepciones.fields,"folio_compra",t)},expression:"form_recepciones.fields.folio_compra"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Subtotal",suffix:"MXN"},model:{value:e.form_recepciones.fields.subtotal,callback:function(t){e.$set(e.form_recepciones.fields,"subtotal",t)},expression:"form_recepciones.fields.subtotal"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"",filled:"",type:"text",inverted:"",color:"dark","float-label":"Total",suffix:"MXN"},model:{value:e.form_recepciones.fields.total,callback:function(t){e.$set(e.form_recepciones.fields,"total",t)},expression:"form_recepciones.fields.total"}})],1)],1)]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"row q-mt-lg subtitulos"},[e._v("\n              Detalles del movimiento\n            ")])]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0&&"NUEVO"===e.form.fields.status?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark",error:e.$v.form_detalles.fields.producto_id.$error,"error-label":"Seleccione un producto"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Producto",options:e.productosOptions,filter:""},on:{input:function(t){e.getPresentacion()}},model:{value:e.form_detalles.fields.producto_id,callback:function(t){e.$set(e.form_detalles.fields,"producto_id",t)},expression:"form_detalles.fields.producto_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Unidad",options:e.presentacionesOptions,filter:""},model:{value:e.form_detalles.fields.presentacion_id,callback:function(t){e.$set(e.form_detalles.fields,"presentacion_id",t)},expression:"form_detalles.fields.presentacion_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form_detalles.fields.cantidad.$error,"error-label":"Ingrese una cantidad"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Cantidad",maxlength:"50"},on:{keyup:function(t){e.isNumber(t,"cantidad")}},model:{value:e.form_detalles.fields.cantidad,callback:function(t){e.$set(e.form_detalles.fields,"cantidad",t)},expression:"form_detalles.fields.cantidad"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form_detalles.fields.costo.$error,"error-label":"Ingrese un costo"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Costo",maxlength:"50",suffix:"MXN"},on:{keyup:function(t){e.isNumber(t,"costo")}},model:{value:e.form_detalles.fields.costo,callback:function(t){e.$set(e.form_detalles.fields,"costo",t)},expression:"form_detalles.fields.costo"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2 pull-right"},[!1===this.form_detalles.editar&&"NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"add",loading:e.loadingButton},on:{click:function(t){e.saveMovimientosDetalles()}}},[e._v("Agregar")]):e._e(),e._v(" "),!0===this.form_detalles.editar&&"NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_actualizar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.updateMovimientosDetalles()}}},[e._v("Actualizar")]):e._e()],1)]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"col-sm-12"},[o("q-search",{attrs:{color:"primary"},model:{value:e.form_detalles.filter,callback:function(t){e.$set(e.form_detalles,"filter",t)},expression:"form_detalles.filter"}})],1),e._v(" "),o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_detalles.data,columns:e.form_detalles.columns,selected:e.form_detalles.selected,filter:e.form_detalles.filter,color:"positive",title:"",dense:!0,pagination:e.form_detalles.pagination,loading:e.form_detalles.loading,"rows-per-page-options":e.form_detalles.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_detalles,"selected",t)},"update:pagination":function(t){e.$set(e.form_detalles,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"producto",attrs:{props:t}},[e._v(e._s(t.row.producto))]),e._v(" "),o("q-td",{key:"cantidad",attrs:{props:t}},[e._v(e._s(t.row.cantidad))]),e._v(" "),o("q-td",{key:"costo",attrs:{props:t}},[e._v("$"+e._s(t.row.costo))]),e._v(" "),o("q-td",{key:"importe",attrs:{props:t}},[e._v("$"+e._s(t.row.importe))]),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},["NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(o){e.editRowDetalle(t.row)}}},[o("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRowDetalle(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"cyan",icon:"fas fa-check"}},[o("q-tooltip",[e._v("Ejecutado")])],1):e._e(),e._v(" "),"CANCELADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"red-10",icon:"highlight_off"}},[o("q-tooltip",[e._v("Cancelado")])],1):e._e()],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_detalles.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e()])])])]):e._e(),e._v(" "),e.views.createSalida?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Nuevo"}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.save()}}})],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-top":"20px"}},[o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenes()}},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese una folio"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"forward","icon-color":"dark","error-label":"Seleccione un destino"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Destino",options:e.destinosOptions},model:{value:e.form.fields.destino,callback:function(t){e.$set(e.form.fields,"destino",t)},expression:"form.fields.destino"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"list","icon-color":"dark","error-label":"Escriba Observacion"}},[o("q-input",{attrs:{filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fields.observaciones,callback:function(t){e.$set(e.form.fields,"observaciones",t)},expression:"form.fields.observaciones"}})],1)],1)])])])])]):e._e(),e._v(" "),e.views.updateSalida?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:e.form.fields.folio}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}})],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md col-sm-12"},[o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-6 pull-left"},[o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-left"})]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-right"},["NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_guardar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.update()}}},[e._v("Guardar")]):e._e(),e._v(" "),"NUEVO"===e.form.fields.status&&e.form_detalles.data.length>0?o("q-btn",{staticClass:"btn_solicitar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.ejecutar()}}},[e._v("Ejecutar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{staticClass:"btn_rechazar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.cancelar()}}},[e._v("Cancelar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{color:"green","icon-right":"fas fa-file-pdf"},on:{click:function(t){e.exportPDF()}}},[e._v("GENERAR PDF")]):e._e()],1)])])]),e._v(" "),o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-top":"20px"}},[o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese una folio"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"forward","icon-color":"dark","error-label":"Seleccione un destino"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Destino",options:e.destinosOptions},model:{value:e.form.fields.destino,callback:function(t){e.$set(e.form.fields,"destino",t)},expression:"form.fields.destino"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"list","icon-color":"dark","error-label":"Escriba Observacion"}},[o("q-input",{attrs:{filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fields.observaciones,callback:function(t){e.$set(e.form.fields,"observaciones",t)},expression:"form.fields.observaciones"}})],1)],1)]),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"row q-mt-lg subtitulos"},[e._v("\n              Detalles del movimiento\n            ")])]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0&&"NUEVO"===e.form.fields.status?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark",error:e.$v.form_detalles.fields.producto_id.$error,"error-label":"Seleccione un producto"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Producto",options:e.productosOptions,filter:""},on:{input:function(t){e.getPresentacion()}},model:{value:e.form_detalles.fields.producto_id,callback:function(t){e.$set(e.form_detalles.fields,"producto_id",t)},expression:"form_detalles.fields.producto_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Unidad",options:e.presentacionesOptions,filter:""},model:{value:e.form_detalles.fields.presentacion_id,callback:function(t){e.$set(e.form_detalles.fields,"presentacion_id",t)},expression:"form_detalles.fields.presentacion_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form_detalles.fields.cantidad.$error,"error-label":"Ingrese una cantidad"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Cantidad",maxlength:"50"},on:{keyup:function(t){e.isNumber(t,"cantidad")}},model:{value:e.form_detalles.fields.cantidad,callback:function(t){e.$set(e.form_detalles.fields,"cantidad",t)},expression:"form_detalles.fields.cantidad"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3 pull-right"},[!1===this.form_detalles.editar?o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"add",loading:e.loadingButton},on:{click:function(t){e.saveMovimientosDetalles()}}},[e._v("Agregar")]):e._e(),e._v(" "),!0===this.form_detalles.editar?o("q-btn",{staticClass:"btn_actualizar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.updateMovimientosDetalles()}}},[e._v("Actualizar")]):e._e()],1)]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"col-sm-12"},[o("q-search",{staticClass:"col-12",attrs:{color:"primary"},model:{value:e.form_detalles.filter,callback:function(t){e.$set(e.form_detalles,"filter",t)},expression:"form_detalles.filter"}})],1),e._v(" "),o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_detalles.data,columns:e.form_detalles.columnsSalida,selected:e.form_detalles.selected,filter:e.form_detalles.filter,color:"positive",title:"",dense:!0,pagination:e.form_detalles.pagination,loading:e.form_detalles.loading,"rows-per-page-options":e.form_detalles.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_detalles,"selected",t)},"update:pagination":function(t){e.$set(e.form_detalles,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"producto",attrs:{props:t}},[e._v(e._s(t.row.producto))]),e._v(" "),o("q-td",{key:"cantidad",attrs:{props:t}},[e._v(e._s(t.row.cantidad))]),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},["NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(o){e.editRowDetalle(t.row)}}},[o("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRowDetalle(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"cyan",icon:"fas fa-check"}},[o("q-tooltip",[e._v("Ejecutado")])],1):e._e(),e._v(" "),"CANCELADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"red-10",icon:"highlight_off"}},[o("q-tooltip",[e._v("Cancelado")])],1):e._e()],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_detalles.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e()])])])]):e._e(),e._v(" "),e.views.createTraspaso?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Nuevo"}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(t){e.atras()}}}),e._v(" "),o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.save()}}})],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-top":"20px"}},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenes()}},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén origen",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese un folio"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id_2,callback:function(t){e.$set(e.form.fields,"tipo_id_2",t)},expression:"form.fields.tipo_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenesDestino()}},model:{value:e.form.fields.empresa_id_2,callback:function(t){e.$set(e.form.fields,"empresa_id_2",t)},expression:"form.fields.empresa_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id_2.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén destino",options:e.almacenesOptionsDestino,filter:""},model:{value:e.form.fields.almacen_id_2,callback:function(t){e.$set(e.form.fields,"almacen_id_2",t)},expression:"form.fields.almacen_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese un folio"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"forward","icon-color":"dark","error-label":"Seleccione un destino"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Destino",options:e.destinosOptions},model:{value:e.form.fields.destino,callback:function(t){e.$set(e.form.fields,"destino",t)},expression:"form.fields.destino"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("q-field",{attrs:{icon:"list","icon-color":"dark","error-label":"Escriba Observacion"}},[o("q-input",{attrs:{filled:"",type:"text",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fields.observaciones,callback:function(t){e.$set(e.form.fields,"observaciones",t)},expression:"form.fields.observaciones"}})],1)],1)])])])])]):e._e(),e._v(" "),e.views.updateTraspaso?o("div",[o("div",{staticClass:"q-pa-sm panel-header"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},[o("q-breadcrumbs",{attrs:{align:"left"}},[o("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:"Inventario",to:""},nativeOn:{click:function(t){e.atras()}}}),e._v(" "),o("q-breadcrumbs-el",{attrs:{label:e.form.fields.folio}})],1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6 pull-right"},[o("div",{staticClass:"q-pa-sm q-gutter-sm"},["NUEVO"===e.form.fields.status?o("q-btn",{staticClass:"btn_guardar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.update()}}},[e._v("Guardar")]):e._e(),e._v(" "),"NUEVO"===e.form.fields.status&&e.form_detalles.data.length>0?o("q-btn",{staticClass:"btn_solicitar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.ejecutar()}}},[e._v("Ejecutar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{staticClass:"btn_rechazar",staticStyle:{"margin-right":"5px"},attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.cancelar()}}},[e._v("Cancelar")]):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{color:"green","icon-right":"fas fa-file-pdf"},on:{click:function(t){e.exportPDF()}}},[e._v("GENERAR PDF")]):e._e()],1)])])]),e._v(" "),o("div",{staticClass:"q-pa-md bg-grey-3"},[o("div",{staticClass:"row bg-white border-panel"},[o("div",{staticClass:"col q-pa-md"},[o("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-top":"20px"}},[o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fields.fecha.$error,"error-label":"Seleccione la fecha"}},[o("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha",align:"center"},model:{value:e.form.fields.fecha,callback:function(t){e.$set(e.form.fields,"fecha",t)},expression:"form.fields.fecha"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-info","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Status",maxlength:"50"},model:{value:e.form.fields.status,callback:function(t){e.$set(e.form.fields,"status",t)},expression:"form.fields.status"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark",error:e.$v.form.fields.tipo_id.$error,"error-label":"Seleccione un movimiento"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id,callback:function(t){e.$set(e.form.fields,"tipo_id",t)},expression:"form.fields.tipo_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenes()}},model:{value:e.form.fields.empresa_id,callback:function(t){e.$set(e.form.fields,"empresa_id",t)},expression:"form.fields.empresa_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén origen",options:e.almacenesOptions,filter:""},model:{value:e.form.fields.almacen_id,callback:function(t){e.$set(e.form.fields,"almacen_id",t)},expression:"form.fields.almacen_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form.fields.folio.$error,"error-label":"Ingrese un folio"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio,callback:function(t){e.$set(e.form.fields,"folio",t)},expression:"form.fields.folio"}})],1)],1)]),e._v(" "),o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"swap_horiz","icon-color":"dark"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Tipo de movimiento",options:e.movimientosOptions,filter:""},model:{value:e.form.fields.tipo_id_2,callback:function(t){e.$set(e.form.fields,"tipo_id_2",t)},expression:"form.fields.tipo_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-4"},[o("q-field",{attrs:{icon:"business","icon-color":"dark"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},on:{input:function(t){e.cargaAlmacenesDestino()}},model:{value:e.form.fields.empresa_id_2,callback:function(t){e.$set(e.form.fields,"empresa_id_2",t)},expression:"form.fields.empresa_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"store","icon-color":"dark",error:e.$v.form.fields.almacen_id_2.$error,"error-label":"Seleccione un almacén"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Almacén destino",options:e.almacenesOptionsDestino,filter:""},model:{value:e.form.fields.almacen_id_2,callback:function(t){e.$set(e.form.fields,"almacen_id_2",t)},expression:"form.fields.almacen_id_2"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark"}},[o("q-input",{attrs:{readonly:"","upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Folio",maxlength:"50"},model:{value:e.form.fields.folio_2,callback:function(t){e.$set(e.form.fields,"folio_2",t)},expression:"form.fields.folio_2"}})],1)],1)]),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"row q-mt-lg subtitulos",staticStyle:{"padding-bottom":"10px"}},[e._v("\n              Detalles del movimiento\n            ")])]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0&&"NUEVO"===e.form.fields.status?o("div",{staticClass:"row q-col-gutter-xs"},[o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark",error:e.$v.form_detalles.fields.producto_id.$error,"error-label":"Seleccione un producto"}},[o("q-select",{attrs:{inverted:"",color:"dark","float-label":"Producto",options:e.productosOptions,filter:""},on:{input:function(t){e.getPresentacion()}},model:{value:e.form_detalles.fields.producto_id,callback:function(t){e.$set(e.form_detalles.fields,"producto_id",t)},expression:"form_detalles.fields.producto_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-3"},[o("q-field",{attrs:{icon:"fas fa-box","icon-color":"dark"}},[o("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Unidad",options:e.presentacionesOptions,filter:""},model:{value:e.form_detalles.fields.presentacion_id,callback:function(t){e.$set(e.form_detalles.fields,"presentacion_id",t)},expression:"form_detalles.fields.presentacion_id"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form_detalles.fields.cantidad.$error,"error-label":"Ingrese una cantidad"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Cantidad",maxlength:"50"},on:{keyup:function(t){e.isNumber(t,"cantidad")}},model:{value:e.form_detalles.fields.cantidad,callback:function(t){e.$set(e.form_detalles.fields,"cantidad",t)},expression:"form_detalles.fields.cantidad"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2"},[o("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form_detalles.fields.costo.$error,"error-label":"Ingrese un costo"}},[o("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Costo",maxlength:"50",suffix:"MXN"},on:{keyup:function(t){e.isNumber(t,"costo")}},model:{value:e.form_detalles.fields.costo,callback:function(t){e.$set(e.form_detalles.fields,"costo",t)},expression:"form_detalles.fields.costo"}})],1)],1),e._v(" "),o("div",{staticClass:"col-sm-2 pull-right"},[!1===this.form_detalles.editar?o("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"add",loading:e.loadingButton},on:{click:function(t){e.saveMovimientosDetalles()}}},[e._v("Agregar")]):e._e(),e._v(" "),!0===this.form_detalles.editar?o("q-btn",{staticClass:"btn_actualizar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(t){e.updateMovimientosDetalles()}}},[e._v("Actualizar")]):e._e()],1)]):e._e(),e._v(" "),e.form_detalles.fields.movimiento_id>0?o("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"margin-top":"10px"}},[o("div",{staticClass:"row",staticStyle:{width:"60vw"}},[o("q-search",{staticClass:"col-12",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.form_detalles.filter,callback:function(t){e.$set(e.form_detalles,"filter",t)},expression:"form_detalles.filter"}})],1),e._v(" "),o("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[o("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_detalles.data,columns:e.form_detalles.columns,selected:e.form_detalles.selected,filter:e.form_detalles.filter,color:"positive",title:"",dense:!0,pagination:e.form_detalles.pagination,loading:e.form_detalles.loading,"rows-per-page-options":e.form_detalles.rowsOptions},on:{"update:selected":function(t){e.$set(e.form_detalles,"selected",t)},"update:pagination":function(t){e.$set(e.form_detalles,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"producto",attrs:{props:t}},[e._v(e._s(t.row.producto))]),e._v(" "),o("q-td",{key:"cantidad",attrs:{props:t}},[e._v(e._s(t.row.cantidad))]),e._v(" "),o("q-td",{key:"costo",attrs:{props:t}},[e._v(e._s(t.row.costo))]),e._v(" "),o("q-td",{key:"importe",attrs:{props:t}},[e._v(e._s(t.row.importe))]),e._v(" "),o("q-td",{key:"acciones",attrs:{props:t}},["NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(o){e.editRowDetalle(t.row)}}},[o("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"NUEVO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(o){e.deleteSingleRowDetalle(t.row.id)}}},[o("q-tooltip",[e._v("Eliminar")])],1):e._e(),e._v(" "),"EJECUTADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"cyan",icon:"fas fa-check"}},[o("q-tooltip",[e._v("Ejecutado")])],1):e._e(),e._v(" "),"CANCELADO"===e.form.fields.status?o("q-btn",{attrs:{small:"",flat:"",color:"red-10",icon:"highlight_off"}},[o("q-tooltip",[e._v("Cancelado")])],1):e._e()],1)],1)]}}])}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.form_detalles.loading}},[o("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e()])])])]):e._e()])},v=[];p._withStripped=!0;var _=o("XyMi"),b=!1;var g=function(e){b||o("U43T")},h=Object(_.a)(u,p,v,!1,g,"data-v-2f0f1bc5",null);h.options.__file="src\\pages\\inv\\Movimientos.vue";t.default=h.exports},"pO+f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,o("URu4").regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=i},qHXR:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"maxLength",max:e},function(t){return!(0,i.req)(t)||(0,i.len)(t)<=e})}},tL8V:function(e,t,o){"use strict";(function(e){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var i="undefined"!=typeof window?window:void 0!==e?e:{},r=i.vuelidate?i.vuelidate.withParams:function(e,t){return"object"===o(e)&&void 0!==t?t:e(function(){})};t.withParams=r}).call(t,o("DuR2"))},xJ3U:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("URu4");t.default=function(e){return(0,i.withParams)({type:"maxValue",max:e},function(t){return!(0,i.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}}});
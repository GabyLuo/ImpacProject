webpackJsonp([1],{"+cKO":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(o,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(o,"numeric",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(o,"between",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(o,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(o,"ipAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(o,"macAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"maxLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"minLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(o,"required",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(o,"requiredUnless",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(o,"sameAs",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(o,"url",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(o,"or",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(o,"and",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(o,"not",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(o,"maxValue",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(o,"integer",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(o,"decimal",{enumerable:!0,get:function(){return k.default}}),o.helpers=void 0;var r=x(t("FWhV")),a=x(t("PKmV")),s=x(t("hbkP")),i=x(t("3Ro/")),n=x(t("6rz0")),l=x(t("HSVw")),c=x(t("HM/u")),d=x(t("qHXR")),f=x(t("4ypF")),u=x(t("4oDf")),m=x(t("lEk1")),p=x(t("6+Xr")),v=x(t("L6Jx")),_=x(t("7J6f")),g=x(t("Y18q")),b=x(t("bXE/")),h=x(t("FP1U")),y=x(t("aYrh")),C=x(t("xJ3U")),q=x(t("eqrJ")),k=x(t("pO+f")),w=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};r.get||r.set?Object.defineProperty(o,t,r):o[t]=e[t]}return o.default=e,o}(t("URu4"));function x(e){return e&&e.__esModule?e:{default:e}}o.helpers=w},"/XMN":function(e,o,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},"3Ro/":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e,o){return(0,r.withParams)({type:"between",min:e,max:o},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+e<=+t&&+o>=+t})}},"4oDf":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4"),a=(0,r.withParams)({type:"required"},r.req);o.default=a},"4ypF":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"minLength",min:e},function(o){return!(0,r.req)(o)||(0,r.len)(o)>=e})}},"5dBV":function(e,o,t){e.exports={default:t("quu5"),__esModule:!0}},"6+Xr":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},function(o,t){return!!(0,r.ref)(e,this,t)||(0,r.req)(o)})}},"6rz0":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("email",/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/);o.default=r},"7J6f":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);o.default=r},"9VIl":function(e,o,t){var r;r=function(){return function(e){function o(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}var t={};return o.m=e,o.c=t,o.i=function(e){return e},o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p=".",o(o.s=9)}([function(e,o,t){"use strict";o.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,o,t){"use strict";var r=t(2),a=t(5),s=t(0);o.a=function(e,o){if(o.value){var i=t.i(a.a)(s.a,o.value);if("INPUT"!==e.tagName.toLocaleUpperCase()){var n=e.getElementsByTagName("input");1!==n.length||(e=n[0])}e.oninput=function(){var o=e.value.length-e.selectionEnd;e.value=t.i(r.a)(e.value,i),o=Math.max(o,i.suffix.length),o=e.value.length-o,o=Math.max(o,i.prefix.length+1),t.i(r.b)(e,o),e.dispatchEvent(t.i(r.c)("change"))},e.onfocus=function(){t.i(r.b)(e,e.value.length-i.suffix.length)},e.oninput(),e.dispatchEvent(t.i(r.c)("input"))}}},function(e,o,t){"use strict";function r(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;"number"==typeof e&&(e=e.toFixed(i(o.precision)));var t=e.indexOf("-")>=0?"-":"",r=l(n(s(e),o.precision)).split("."),a=r[0],c=r[1];return a=function(e,o){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+o)}(a,o.thousands),o.prefix+t+function(e,o,t){return o?e+t+o:e}(a,c,o.decimal)+o.suffix}function a(e,o){var t=e.indexOf("-")>=0?-1:1,r=n(s(e),o);return parseFloat(r)*t}function s(e){return l(e).replace(/\D+/g,"")||"0"}function i(e){return function(e,o,t){return Math.max(e,Math.min(o,t))}(0,e,20)}function n(e,o){var t=Math.pow(10,o);return(parseFloat(e)/t).toFixed(i(o))}function l(e){return e?e.toString():""}function c(e,o){var t=function(){e.setSelectionRange(o,o)};e===document.activeElement&&(t(),setTimeout(t,1))}function d(e){var o=document.createEvent("Event");return o.initEvent(e,!0,!0),o}var f=t(0);t.d(o,"a",function(){return r}),t.d(o,"d",function(){return a}),t.d(o,"b",function(){return c}),t.d(o,"c",function(){return d})},function(e,o,t){"use strict";function r(e,o){o&&Object.keys(o).map(function(e){n.a[e]=o[e]}),e.directive("money",i.a),e.component("money",s.a)}Object.defineProperty(o,"__esModule",{value:!0});var a=t(6),s=t.n(a),i=t(1),n=t(0);t.d(o,"Money",function(){return s.a}),t.d(o,"VMoney",function(){return i.a}),t.d(o,"options",function(){return n.a}),t.d(o,"VERSION",function(){return l});var l="0.8.1";o.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t(1),a=t(0),s=t(2);o.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return a.a.precision}},decimal:{type:String,default:function(){return a.a.decimal}},thousands:{type:String,default:function(){return a.a.thousands}},prefix:{type:String,default:function(){return a.a.prefix}},suffix:{type:String,default:function(){return a.a.suffix}}},directives:{money:r.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e,o){var r=t.i(s.a)(e,this.$props);r!==this.formattedValue&&(this.formattedValue=r)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:t.i(s.d)(e.target.value,this.precision))}}}},function(e,o,t){"use strict";o.a=function(e,o){return e=e||{},o=o||{},Object.keys(e).concat(Object.keys(o)).reduce(function(t,r){return t[r]=void 0===o[r]?e[r]:o[r],t},{})}},function(e,o,t){var r=t(7)(t(4),t(8),null,null);e.exports=r.exports},function(e,o){e.exports=function(e,o,t,r){var a,s=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,s=e.default);var n="function"==typeof s?s.options:s;if(o&&(n.render=o.render,n.staticRenderFns=o.staticRenderFns),t&&(n._scopeId=t),r){var l=n.computed||(n.computed={});Object.keys(r).forEach(function(e){var o=r[e];l[e]=function(){return o}})}return{esModule:a,exports:s,options:n}}},function(e,o){e.exports={render:function(){var e=this,o=e.$createElement;return(e._self._c||o)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,o,t){e.exports=t(3)}])},e.exports=r()},BO1k:function(e,o,t){e.exports={default:t("fxRn"),__esModule:!0}},CHlY:function(e,o,t){var r=t("kM2E"),a=t("bs6G");r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},FP1U:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"not"},function(o,t){return!(0,r.req)(o)||!e.call(this,o,t)})}},FWhV:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("alpha",/^[a-zA-Z]*$/);o.default=r},"HM/u":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},function(o){if(!(0,r.req)(o))return!0;if("string"!=typeof o)return!1;var t="string"==typeof e&&""!==e?o.split(e):12===o.length||16===o.length?o.match(/.{2}/g):null;return null!==t&&(6===t.length||8===t.length)&&t.every(a)})};var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},HSVw:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4"),a=(0,r.withParams)({type:"ipAddress"},function(e){if(!(0,r.req)(e))return!0;if("string"!=typeof e)return!1;var o=e.split(".");return 4===o.length&&o.every(s)});o.default=a;var s=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var o=0|+e;return o>=0&&o<=255}},L6Jx:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"sameAs",eq:e},function(o,t){return o===(0,r.ref)(e,this,t)})}},PKmV:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("alphaNum",/^[a-zA-Z0-9]*$/);o.default=r},SldL:function(e,o){!function(o){"use strict";var t,r=Object.prototype,a=r.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag",c="object"==typeof e,d=o.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=o.regeneratorRuntime=c?e.exports:{}).wrap=y;var f="suspendedStart",u="suspendedYield",m="executing",p="completed",v={},_={};_[i]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==r&&a.call(b,i)&&(_=b);var h=w.prototype=q.prototype=Object.create(_);k.prototype=h.constructor=w,w.constructor=k,w[l]=k.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var o="function"==typeof e&&e.constructor;return!!o&&(o===k||"GeneratorFunction"===(o.displayName||o.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(h),e},d.awrap=function(e){return{__await:e}},x(P.prototype),P.prototype[n]=function(){return this},d.AsyncIterator=P,d.async=function(e,o,t,r){var a=new P(y(e,o,t,r));return d.isGeneratorFunction(o)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(h),h[l]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},d.keys=function(e){var o=[];for(var t in e)o.push(t);return o.reverse(),function t(){for(;o.length;){var r=o.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},d.values=D,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var o in this)"t"===o.charAt(0)&&a.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var o=this;function r(r,a){return n.type="throw",n.arg=e,o.next=r,a&&(o.method="next",o.arg=t),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],n=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,o){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=o&&o<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=o,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(i)},complete:function(e,o){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&o&&(this.next=o),v},finish:function(e){for(var o=this.tryEntries.length-1;o>=0;--o){var t=this.tryEntries[o];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),v}},catch:function(e){for(var o=this.tryEntries.length-1;o>=0;--o){var t=this.tryEntries[o];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;S(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,o,r){return this.delegate={iterator:D(e),resultName:o,nextLoc:r},"next"===this.method&&(this.arg=t),v}}}function y(e,o,t,r){var a=o&&o.prototype instanceof q?o:q,s=Object.create(a.prototype),i=new j(r||[]);return s._invoke=function(e,o,t){var r=f;return function(a,s){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw s;return A()}for(t.method=a,t.arg=s;;){var i=t.delegate;if(i){var n=$(i,t);if(n){if(n===v)continue;return n}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(r===f)throw r=p,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r=m;var l=C(e,o,t);if("normal"===l.type){if(r=t.done?p:u,l.arg===v)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r=p,t.method="throw",t.arg=l.arg)}}}(e,t,i),s}function C(e,o,t){try{return{type:"normal",arg:e.call(o,t)}}catch(e){return{type:"throw",arg:e}}}function q(){}function k(){}function w(){}function x(e){["next","throw","return"].forEach(function(o){e[o]=function(e){return this._invoke(o,e)}})}function P(e){var o;this._invoke=function(t,r){function s(){return new Promise(function(o,s){!function o(t,r,s,i){var n=C(e[t],e,r);if("throw"!==n.type){var l=n.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){o("next",e,s,i)},function(e){o("throw",e,s,i)}):Promise.resolve(c).then(function(e){l.value=e,s(l)},i)}i(n.arg)}(t,r,o,s)})}return o=o?o.then(s,s):s()}}function $(e,o){var r=e.iterator[o.method];if(r===t){if(o.delegate=null,"throw"===o.method){if(e.iterator.return&&(o.method="return",o.arg=t,$(e,o),"throw"===o.method))return v;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=C(r,e.iterator,o.arg);if("throw"===a.type)return o.method="throw",o.arg=a.arg,o.delegate=null,v;var s=a.arg;return s?s.done?(o[e.resultName]=s.value,o.next=e.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,v):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,v)}function O(e){var o={tryLoc:e[0]};1 in e&&(o.catchLoc=e[1]),2 in e&&(o.finallyLoc=e[2],o.afterLoc=e[3]),this.tryEntries.push(o)}function S(e){var o=e.completion||{};o.type="normal",delete o.arg,e.completion=o}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var o=e[i];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function o(){for(;++r<e.length;)if(a.call(e,r))return o.value=e[r],o.done=!1,o;return o.value=t,o.done=!0,o};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}}(function(){return this}()||Function("return this")())},URu4:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"withParams",{enumerable:!0,get:function(){return a.default}}),o.regex=o.ref=o.len=o.req=void 0;var r,a=(r=t("mpcv"))&&r.__esModule?r:{default:r};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===s(e)){for(var o in e)return!0;return!1}return!!String(e).length};o.req=i;o.len=function(e){return Array.isArray(e)?e.length:"object"===s(e)?Object.keys(e).length:String(e).length};o.ref=function(e,o,t){return"function"==typeof e?e.call(o,t):t[e]};o.regex=function(e,o){return(0,a.default)({type:e},function(e){return!i(e)||o.test(e)})}},Xxa5:function(e,o,t){e.exports=t("jyFz")},Y18q:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return(0,r.withParams)({type:"or"},function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o.length>0&&o.reduce(function(o,t){return o||t.apply(e,r)},!1)})}},"Y6+l":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("BO1k"),a=t.n(r),s=t("5dBV"),i=t.n(s),n=t("Xxa5"),l=t.n(n),c=t("exGp"),d=t.n(c),f=t("Dd8w"),u=t.n(f),m=t("NYxO"),p=t("+cKO"),v=t("PJh5"),_=t.n(v),g=t("9VIl"),b=t("mtWM"),h=t.n(b),y=p.helpers.regex("nombreRep",/^[A-ZÁÉÍÓÚÑ]+(\s{1}[A-ZÁÉÍÓÚÑ]+)*$/),C={beforeRouteEnter:function(e,o,t){t(function(e){for(var r=!1,a=e.$store.getters["user/role"],s=0;s<a.length;s++)a[s].toUpperCase()!=="admin".toUpperCase()&&a[s].toUpperCase()!=="ROOT".toUpperCase()&&a[s].toUpperCase()!=="CLIENTE".toUpperCase()&&a[s].toUpperCase()!=="LIDER".toUpperCase()&&a[s].toUpperCase()!=="COORDINADOR".toUpperCase()&&a[s].toUpperCase()!=="GERENTE DE OPERACIONES".toUpperCase()&&a[s].toUpperCase()!=="PMO".toUpperCase()&&a[s].toUpperCase()!=="FINANZAS".toUpperCase()&&a[s].toUpperCase()!=="LICITACIONES - SOLICITUDES".toUpperCase()&&a[s].toUpperCase()!=="GERENTE".toUpperCase()&&a[s].toUpperCase()!=="COBRANZA".toUpperCase()&&a[s].toUpperCase()!=="PLANEACIÓN".toUpperCase()&&a[s].toUpperCase()!=="OPERACIÓN".toUpperCase()&&a[s].toUpperCase()!=="FINANZAS/COMISIONES".toUpperCase()&&a[s].toUpperCase()!=="AUXILIAR TESORERIA".toUpperCase()||(r=!0);r?t():t("/"===o.path?"/dashboard":o.path)})},data:function(){return{registro_comision:"",selectYear:[{label:""+((new Date).getFullYear()-3),value:""+((new Date).getFullYear()-3)},{label:""+((new Date).getFullYear()-2),value:""+((new Date).getFullYear()-2)},{label:""+((new Date).getFullYear()-1),value:""+((new Date).getFullYear()-1)},{label:""+(new Date).getFullYear(),value:""+(new Date).getFullYear()},{label:""+((new Date).getFullYear()+1),value:""+((new Date).getFullYear()+1)}],adjudicacionOptions:[{label:"LICITACIÓN",value:"LICITACIÓN"},{label:"ADJUDICACIÓN DIRECTA",value:"ADJUDICACIÓN DIRECTA"},{label:"INVITACIÓN A 3",value:"INVITACIÓN A 3"},{label:"VENTA DIRECTA",value:"VENTA DIRECTA"}],year:""+(new Date).getFullYear(),busquedaOptions:[{label:"PROYECTO",value:"PROYECTO"},{label:"PRESUPUESTO",value:"PRESUPUESTO"}],programageneralOptions:[{label:"ADMINISTRATIVOS",value:"ADMINISTRATIVOS"},{label:"OPERATIVOS",value:"OPERATIVOS"}],modal_ver_contrato:!1,show_file_contrato:!1,tabPrincipal:"contratos",tab:"colaborador_pane",role:"",user_id:0,loadingButton:!1,informacion:!1,objetoInformacion:null,open_contratos:!1,open_presupuestos:!1,open_organismos:!1,open_perfiles:!1,InformacionContrato:!1,objetoInformacionContrato:null,licitacionesOptions:[],empresas2Options:[],contratosOptions:[],isExpanded:!0,selectedRowID:{},itemId:null,actividades:[],open_colaboradores:!1,open_solicitantes:!1,open_autorizadores:!1,open_responsables:!1,alterar_presupuesto:!1,objetoInformacionPresupuesto:null,informacionPresupuestos:!1,data_projects:[],tiposFacturaOptions:[{label:"GDP",value:"GDP"},{label:"Retail",value:"retail"}],tiposComprobanteOptions:[{label:"Ingreso",value:"I"},{label:"Egreso",value:"E"},{label:"Pago",value:"P"}],metodoPagoOptions:[{label:"Pago en una sola exhibición",value:"PUE"},{label:"Pago en parcialidades",value:"PPD"}],tipoComision:[{label:"PORCENTAJE",value:"PORCENTAJE"},{label:"CANTIDAD FIJA",value:"CANTIDAD FIJA"},{label:"--Seleccione--",value:"all"}],metodoPagoComisionOptions:[{label:"EFECTIVO",value:"EFECTIVO"},{label:"TRANSFERENCIA",value:"TRANSFERENCIA"},{label:"CHEQUE",value:"CHEQUE"},{label:"--Seleccione--",value:"all"}],ivaOptions:[{label:"SUBTOTAL",value:"SUBTOTAL"},{label:"NETO",value:"NETO"},{label:"--Seleccione--",value:"all"}],aplicadoOptions:[{label:"AL CONTRATO",value:"AL CONTRATO"},{label:"A LA UTILIDAD",value:"A LA UTILIDAD"},{label:"--Seleccione--",value:"all"}],tiempoOptions:[{label:"FIRMA DE CONTRATO",value:"FIRMA DE CONTRATO"},{label:"COBRO DE FACTURA",value:"COBRO DE FACTURA"},{label:"--Seleccione--",value:"all"}],asignadoComision:[{label:"ALIADO",value:"ALIADO"},{label:"VENDEDOR",value:"VENDEDOR"}],money:{decimal:".",thousands:",",precision:2,masked:!1},factura:!1,viewsContrato:{grid:!0,create:!1,update:!1},viewsPresupuestos:{grid:!0,create:!1,update:!1},viewsOrganismos:{grid:!0,create:!1,update:!1},viewsComisiones:{grid:!0,create:!1,update:!1},views:{grid:!0,create:!1,update:!1,info:!1},form_presupuestos:{data_projects:[],data_contratos:[],data_comisiones:[],data_organismos:[],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1},form:{data_recursos:[],tipo_factura:"",file:{nombre:"",fecha_pago:"",fecha_factura:"",fecha_vencimiento:"",folio_fiscal:""},retail:{nombre:"",fecha_pago:"",fecha_factura:"",fecha_vencimiento:"",folio_fiscal:""},fieldsContrato:{id:0,recurso_id:0,empresa_id:0,licitacion_id:0,fecha_inicio:"",fecha_fin:"",monto_total:0,monto_total_validar:0,rep_legal_contrato:"",num_contrato:0,nombre:"",organismo_id:0,porcentaje:0,filter:"",documento_pdf:"",doc_type_pdf:"",nombre_pdf:"",observaciones:""},fields:{id:0,codigo:"",cliente_id:0,subprograma_id:0,programa_id:0,fuente_financiamiento:"",monto:0,montovalidar:0,total_recursos:0,monto_licitado:0,monto_adjudicado:0,rubro:"",nombre:"",aliado:"",aliado1:"",aliado2:"",aliado3:"",suma_contratos:0,adjudicacion:"",sucursal_id:0,tipo:""},fieldsPresupuesto:{id:0,nombre_proyecto:"",nombre_corto:"",recurso_id:0,inicio:"",fin:"",dias:0,presupuesto:0,presupuesto_actual:0,presupuestovalidar:0,monto_bolsa:0,lider_proyecto:"",lider_usuario:"",licitacion_id:0,empresa_id:0,status:"ACTIVO",sucursal_id:0},rowsOptions:[3,5,7,10,15,20,25,50],columnsPresupuesto:[{name:"nombre_proyecto",label:"Nombre",field:"nombre_proyecto",sortable:!0,type:"string",align:"center"},{name:"nombre_corto",label:"Nombre corto",field:"nombre_corto",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"inicio",label:"Fecha de inicio",field:"inicio",sortable:!0,type:"string",align:"center"},{name:"fin",label:"Fecha de término",field:"fin",sortable:!0,type:"string",align:"center"},{name:"lider",label:"Lider",field:"lider",sortable:!0,type:"string",align:"center"},{name:"status",label:"Status",field:"status",sortable:!0,type:"string",align:"center"},{name:"finalizado",label:"Finalizado",field:"finalizado",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"center"}],columns:[{name:"codigo",label:"Código",field:"codigo",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Cliente",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"programa",label:"Programa",field:"programa_nombre",sortable:!0,type:"string",align:"left"},{name:"subprograma",label:"Subprograma",field:"subprograma_nombre",sortable:!0,type:"string",align:"center"},{name:"creador",label:"Creador",field:"creador",sortable:!0,type:"string",align:"left"},{name:"fecha_creacion",label:"Fecha creado",field:"fecha_creacion",sortable:!0,type:"string",align:"center"},{name:"monto",label:"Monto bolsa",field:"monto",sortable:!0,type:"string",align:"center"},{name:"rubro",label:"Rubro",field:"rubro",sortable:!0,type:"string",align:"center"},{name:"year",label:"Año",field:"year",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],columnsContrato:[{name:"num_contrato",label:"Contrato",field:"num_contrato",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"monto_total",label:"Importe",field:"monto_total",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"licitacion",label:"Licitación",field:"licitacion",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Empresa",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"fecha_inicio",label:"Fecha firma",field:"fecha_inicio",sortable:!0,type:"string",align:"center"},{name:"fecha_fin",label:"Fecha fin",field:"fecha_fin",sortable:!0,type:"string",align:"center"},{name:"documento_final",label:"Documento final",field:"documento_final",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"right"}],columnsContratoSoloLectura:[{name:"num_contrato",label:"Contrato",field:"num_contrato",sortable:!0,type:"string",align:"center"},{name:"recurso",label:"Proyecto",field:"recurso",sortable:!0,type:"string",align:"center"},{name:"licitacion",label:"Licitación",field:"licitacion",sortable:!0,type:"string",align:"center"},{name:"razon_social",label:"Empresa",field:"razon_social",sortable:!0,type:"string",align:"center"},{name:"fecha_inicio",label:"Fecha firma",field:"fecha_inicio",sortable:!0,type:"string",align:"center"},{name:"fecha_fin",label:"Fecha fin",field:"fecha_fin",sortable:!0,type:"string",align:"center"}],fileColumnContrato:[{name:"id",label:"Factura",field:"factura",sortable:!0,type:"string",align:"center"},{name:"nombre",label:"Nombre Factura",field:"nombre",sortable:!0,type:"string",align:"center"},{name:"extension",label:"Extensión",field:"extension",sortable:!0,type:"string",align:"center"},{name:"fecha_factura",label:"Fecha de Factura",field:"fecha_factura",sortable:!0,type:"string",align:"center"},{name:"fecha_pago",label:"Fecha de pago",field:"fecha_pago",sortable:!0,type:"string",align:"center"},{name:"fecha_vencimiento",label:"Fecha de vencimiento",field:"fecha_vencimiento",sortable:!0,type:"string",align:"center"},{name:"monto_factura",label:"Monto",field:"monto_factura",sortable:!0,type:"string",align:"center"},{name:"folio_fiscal",label:"Folio fiscal",field:"folio_fiscal",sortable:!0,type:"string",align:"center"},{name:"cancelada",label:"Cancelada",field:"cancelada",sortable:!0,type:"string",align:"center"},{name:"nota_credito",label:"Nota crédito",field:"nota_credito",sortable:!0,type:"string",align:"center"},{name:"acciones",label:"Acciones",field:"acciones",sortable:!1,type:"string",align:"center"}],pagination:{rowsPerPage:50},selected:[],filter:"",busqueda:"PROYECTO",filter_presupuesto:"",presupuesto:"",loading:!1},form_actividades:{loading:!1,modal_editar:!1,modal_crear:!1,modal_documentos:!1,fieldsPresupuesto:{id:0,proyecto_id:0,nombre:"",avance:0,inicio:"",fin:"",costo:0,costovalidar:0,fin_real:"",indice:"",nivel:0,resumen:!1,duracion:0,duracion_restante:0,padre_id:0,children_cantidad:0,presupuesto_inicial:0}},form_solicitantes:{solicitantesOptions:[],solicitantes_proyecto:!1,editar_solicitantes_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsSolicitantesLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_autorizadores:{autorizadoresOptions:[],autorizadores_proyecto:!1,editar_autorizadores_proyecto:!1,selectNivel:[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10}],columns:[{name:"orden",label:"Nivel",field:"orden",sortable:!0,type:"string",align:"left"},{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"alteracion",label:"Ajustar presupuesto",field:"alteracion",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsAutorizadoresLectura:[{name:"orden",label:"Nivel",field:"orden",sortable:!0,type:"string",align:"left"},{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"alteracion",label:"Ajustar presupuesto",field:"alteracion",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:"",orden:0,alteracion:"NO"}},form_responsables:{responsablesOptions:[],responsables_proyecto:!1,editar_responsables_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsResponsablesLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_colaboradores:{colaboradoresOptions:[],colaboradores_proyecto:!1,editar_colaboradores_proyecto:!1,columns:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],columnsColaboradoresLectura:[{name:"nombre",label:"Usuario",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"perfil",label:"Perfil",field:"perfil",sortable:!0,type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fieldsPresupuesto:{id:0,proyecto_id:0,usuario_id:0,nombre:"",perfil:""}},form_archivos:{columns:[{name:"name",label:"Archivo",field:"name",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fields:{id:0,name:"",descripcion:"",usuario_destino:0}},form_organismos:{columns:[{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,fields:{id:0,nombre:""}},form_comisiones:{columns:[{name:"asignado",label:"Asignado",field:"asignado",sortable:!0,type:"string",align:"left"},{name:"aliado",label:"Aliado/Vendedor",field:"aliado",sortable:!0,type:"string",align:"left"},{name:"tipo",label:"Tipo",field:"tipo",sortable:!0,type:"string",align:"left"},{name:"cantidad_com",label:"Cantidad / porcentaje",field:"cantidad_com",sortable:!0,type:"string",align:"right"},{name:"contrato",label:"Contrato",field:"contrato",sortable:!0,type:"string",align:"right"},{name:"monto_total_comision",label:"Total comisión",field:"monto_total_comision",sortable:!0,type:"string",align:"right"},{name:"nombre_proyecto",label:"Proyecto",field:"nombre_proyecto",sortable:!0,type:"string",align:"left"},{name:"documentos",label:"Archivos",field:"documentos",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,monto_bolsa:0,monto_base:0,monto_comision:0,fields:{id:0,proyecto_id:0,aliado_id:0,tipo:"",porcentaje:0,monto:0,monto_base:0,metodo_pago:"",contrato_id:0,iva:"si",aplicado:"",tiempo_pago:"",observaciones:"",vendedor_id:0,asignado:"ALIADO"}},form_perfiles:{perfilesOptions:[],perfiles_proyecto:!1,columns:[{name:"nombre",label:"Nombre",field:"nombre",sortable:!0,type:"string",align:"left"},{name:"participacion",label:"Participación",field:"participacion",sortable:!0,type:"string",align:"left"},{name:"acciones",label:"Acciones",field:"acciones",type:"string",align:"right"}],rowsOptions:[3,5,7,10,15,20,25,50],pagination:{rowsPerPage:50},selected:[],filter:"",loading:!1,data:[],fieldsPresupuesto:{id:0,proyecto_id:0,perfil_id:0,participacion:""}},modal:{x:0,y:0,transition:null},totalContratos:0,registroContrato:null}},directives:{money:g.VMoney},computed:u()({},Object(m.c)({programasOptions:"vnt/programa/selectOptions",clientesOptions:"ventas/clientes/selectOptions",recursos:"vnt/recurso/recursos",recursosOptions:"vnt/recurso/selectOtherOptions",empresasOptions:"vnt/empresa/selectOptions",contratos:"vnt/contrato/contratos",facturas:"vnt/contratoFactura/facturas",usuariosOptions:"sys/users/selectOptionsName",proyectos:"pmo/proyecto/proyectos",organismos:"vnt/organismo/organismos",comisiones:"com/comisiones/comisiones",organismosOptions:"vnt/organismo/selectOptions",formaPagoOptions:"vnt/contratoFactura/selectPaymentFormsOptions",vendedoresOptions:"crm/vendedores/selectOptions",sucursalesOptions:"pmo/pmosucursales/selectOptions"}),{subprogramasOptions:function(){var e=this,o=this.$store.getters["vnt/subprograma/selectOtherOptions"].filter(function(o){return o.programa_id===e.form.fields.programa_id});return o.sort(function(e,o){return e.label<o.label?-1:e.label>o.label?1:0}),o},arrayTreeObj:function(){var e=[];return this.recursive(this.actividades,e,0,this.itemId,this.isExpanded),e},cliente:function(){var e=this,o="";return parseInt(this.form.fieldsContrato.recurso_id)>0&&this.recursosOptions.forEach(function(t){parseInt(t.value)===parseInt(e.form.fieldsContrato.recurso_id)&&(o=t.cliente)}),o},Datofactura:function(){return this.form.fieldsContrato.id>0},aliadosOptions:function(){var e=this.$store.getters["com/aliados/selectOptions"];return e.push({label:"---Seleccione---",value:0}),e}}),created:function(){this.loadAll()},watch:{informacion:function(e,o){!1===e&&(this.objetoInformacion=null)},informacionPresupuestos:function(e,o){!1===e&&(this.objetoInformacionPresupuesto=null)},alterar_presupuesto:function(e,o){this.form_autorizadores.fieldsPresupuesto.alteracion=!0===e?"SI":"NO"},open_autorizadores:function(e,o){!0===e&&this.cargarAutorizadores()},open_perfiles:function(e,o){!0===e&&this.getPerfiles()},"form_actividades.fieldsPresupuesto.avance":function(e,o){null===e&&(this.form_actividades.fieldsPresupuesto.avance=0)},"form.fieldsPresupuesto.inicio":function(e,o){""!==this.form.fieldsPresupuesto.fin&&""!==e&&(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)?this.form.fieldsPresupuesto.dias=this.getDiasLaborables(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin):(this.form.fieldsPresupuesto.dias=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")))},"form.fieldsPresupuesto.fin":function(e,o){""!==this.form.fieldsPresupuesto.inicio&&""!==e&&(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)?this.form.fieldsPresupuesto.dias=this.getDiasLaborables(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin):(this.form.fieldsPresupuesto.dias=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")))},"form_actividades.fieldsPresupuesto.inicio":function(e,o){if(null===e&&(e="",this.form_actividades.fieldsPresupuesto.inicio="",this.form_actividades.fieldsPresupuesto.duracion=0),""!==this.form_actividades.fieldsPresupuesto.fin&&""!==e)if(this.validarFechasPresupuestos(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin)){var t=this.getDiasLaborables(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin);this.form_actividades.fieldsPresupuesto.duracion=t}else this.form_actividades.fieldsPresupuesto.duracion=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},"form_actividades.fieldsPresupuesto.fin":function(e,o){if(null===e&&(e="",this.form_actividades.fieldsPresupuesto.fin="",this.form_actividades.fieldsPresupuesto.duracion=0),""!==this.form_actividades.fieldsPresupuesto.inicio&&""!==e)if(this.validarFechasPresupuestos(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin)){var t=this.getDiasLaborables(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin);this.form_actividades.fieldsPresupuesto.duracion=t}else this.form_actividades.fieldsPresupuesto.duracion=0,this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},check_perfiles:function(e,o){this.form_actividades.actividades_proyecto=!0===e},tabPrincipal:function(e,o){var t=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("projects"===e&&t.cargarDataProject(),"comisiones"!==e){o.next=10;break}return o.next=4,t.getContratosOpt();case 4:return o.next=6,t.getAliados();case 6:return o.next=8,t.cargarDataComisiones();case 8:return o.next=10,t.getVendedores();case 10:if("organismos"!==e){o.next=13;break}return o.next=13,t.cargarDataOrganismos();case 13:if("contratos"!==e){o.next=17;break}return t.modal_ver_contrato=!1,o.next=17,t.cargarDataContratos();case 17:case"end":return o.stop()}},o,t)}))()}},methods:u()({},Object(m.b)({getUser:"user/refresh",getRecursos:"vnt/recurso/refresh",getRecursosByYear:"vnt/recurso/getByYear",saveRecurso:"vnt/recurso/save",updateRecurso:"vnt/recurso/update",deleteRecurso:"vnt/recurso/delete",getSubprogramas:"vnt/subprograma/refresh",getProgramas:"vnt/programa/refresh",getClientes:"ventas/clientes/refresh",getContratos:"vnt/contrato/refresh",getContratosbyID:"vnt/contrato/getByID",saveContrato:"vnt/contrato/save",updateContrato:"vnt/contrato/update",deleteContrato:"vnt/contrato/delete",getEmpresas:"vnt/empresa/refresh",getLicitacionesByRecurso:"lic/licitacion/getByRecurso",getFacturas:"vnt/contratoFactura/getFacturas",deleteDocFacturas:"vnt/contratoFactura/delete",getProyectos:"pmo/proyecto/refresh",getProyectosbyID:"pmo/proyecto/getByID",saveProyecto:"pmo/proyecto/save",updateProyecto:"pmo/proyecto/update",updateProyectoStatus:"pmo/proyecto/updateStatus",updateFinalizado:"pmo/proyecto/updateFinalizado",deleteProyecto:"pmo/proyecto/delete",getUsuarios:"sys/users/refresh",getActividadesByProyecto:"pmo/carga/getByProyecto",getSolicitantesByProyecto:"pmo/solicitantes/getByProyecto",getAutorizadoresByProyecto:"pmo/autorizadores/getByProyecto",getResponsablesByProyecto:"pmo/responsable_pagos/getByProyecto",getColaboradoresByProyecto:"pmo/colaboradores/getByProyecto",saveActividad:"pmo/carga/save",updateActividad:"pmo/carga/update",deleteActividad:"pmo/carga/delete",saveSolicitante:"pmo/solicitantes/save",deleteSolicitante:"pmo/solicitantes/delete",saveAutorizador:"pmo/autorizadores/save",deleteAutorizador:"pmo/autorizadores/delete",saveResponsable:"pmo/responsable_pagos/save",deleteResponsable:"pmo/responsable_pagos/delete",saveColaborador:"pmo/colaboradores/save",deleteColaborador:"pmo/colaboradores/delete",updateColaborador:"pmo/colaboradores/update",updateSolicitante:"pmo/solicitantes/update",updateAutorizador:"pmo/autorizadores/update",updateResponsable:"pmo/responsable_pagos/update",deleteFormatoAct:"pmo/carga/deleteFormatoActividad",getEmpresaConcursante:"lic/licitacion/getEmpresaConcursanteByIdLicitacion",saveOrganismo:"vnt/organismo/save",updateOrganismo:"vnt/organismo/update",getOrganismos:"vnt/organismo/refresh",getOrganismosbyID:"vnt/organismo/getByProyecto",deleteOrganismo:"vnt/organismo/delete",eliminarDocumento:"vnt/contrato/deleteFile",getPerfilesByProject:"per/proyectos_perfiles/getByProject",savePerfil:"per/proyectos_perfiles/save",getAllPerfiles:"per/perfiles/refresh",deletePerfil:"per/proyectos_perfiles/delete",getFormasDePago:"vnt/contratoFactura/getFormasDePago",saveComision:"com/comisiones/save",updateComision:"com/comisiones/update",getComisionesbyID:"com/comisiones/getByProyecto",deleteComision:"com/comisiones/delete",getAliados:"com/aliados/refresh",getComisiones:"com/comisiones/refresh",getContratosOptions:"vnt/contrato/getOptions",cancelarFactura:"vnt/contratoFactura/cancelarFactura",actualizarFactura:"vnt/contratoFactura/actualizarFactura",getVendedores:"crm/vendedores/refresh",deleteActividadSingle:"pmo/carga/delete_single",updateFinalizadoActividad:"pmo/carga/updateFinalizado",deleteDocumentoComision:"com/documentos_comisiones/deleteFormato",getSucursales:"pmo/pmosucursales/refresh"}),{filterByYear:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form.loading=!0,e.form.presupuesto="all",""!==e.form.filter_presupuesto&&(e.form.presupuesto=e.form.filter_presupuesto),o.next=5,e.getRecursosByYear({year:e.year,presupuesto:e.form.presupuesto}).then(function(o){var t=o.data;t.recursos.length>0?e.form.data_recursos=t.recursos:e.form.data_recursos=[]}).catch(function(e){console.error(e)});case 5:e.form.loading=!1;case 6:case"end":return o.stop()}},o,e)}))()},getRole:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.getUser().then(function(o){var t=o.data;e.role=t.role[0],e.user_id=t.user.id,console.log(t.user.id)}).catch(function(e){console.log(e)});case 2:case"end":return o.stop()}},o,e)}))()},returnToView:function(e,o){var t=this;return d()(l.a.mark(function r(){return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("contrato"!==e){r.next=7;break}return t.modal_ver_contrato=!1,t.setViewContrato(o),r.next=5,t.cargarDataContratos();case 5:return r.next=7,t.getContratosOpt();case 7:if("presupuesto"!==e){r.next=11;break}return t.setViewPresupuestos(o),r.next=11,t.cargarDataProject();case 11:if("organismo"!==e){r.next=15;break}return t.setViewOrganismos(o),r.next=15,t.cargarDataOrganismos();case 15:if("comision"!==e){r.next=19;break}return t.setViewComisiones(o),r.next=19,t.cargarDataComisiones();case 19:case"end":return r.stop()}},r,t)}))()},recursive:function(e,o,t,r,a){var s=this;e.forEach(function(e){if(!e.children||0===e.children.length)return e.level=t,o.push(e),!1;e.level=t,o.push(e),e.id===r&&(e.expend=a),!0===e.expend&&s.recursive(e.children,o,e.level+1,r,a)})},iconName:function(e){return!0===e.expend?"fas fa-minus-circle":e.children&&e.children.length>0?"fas fa-plus-circle":"fas fa-check"},toggle:function(e,o){this.itemId=e.id,void 0===e.expend&&void 0!==e.children&&0!==e.children.length&&this.recursive(e.children,[],e.level+1,e.id,!0),!0===e.expend&&void 0!==e.children&&(e.children.forEach(function(e){e.expend=void 0}),this.$set(e,"expend",void 0),this.itemId=null)},setPadding:function(e){return"padding-left: "+30*e.level+"px;"},loadAll:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form.busqueda="PROYECTO",e.form.loading=!0,o.next=4,e.getRole();case 4:return o.next=6,e.getProgramas();case 6:return o.next=8,e.getSubprogramas();case 8:return o.next=10,e.getClientes();case 10:return o.next=12,e.getRecursos();case 12:return o.next=14,e.getEmpresas();case 14:return o.next=16,e.getSucursales();case 16:return e.form.loading=!1,o.next=19,e.getRecursos();case 19:return o.next=21,e.getUsuarios();case 21:return o.next=23,e.filterByYear();case 23:if(!(e.$route.params.proyecto>0&&e.$route.params.project>0)){o.next=26;break}return o.next=26,e.proyectosss(e.$route.params.proyecto,e.$route.params.project);case 26:case"end":return o.stop()}},o,e)}))()},proyectosss:function(e,o){var t=this;return d()(l.a.mark(function r(){return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.get("/recursos/getBy/"+e).then(function(e){var r=e.data;t.editRow2P(r.recursos[0],o)}).catch(function(e){console.error(e)});case 2:case"end":return r.stop()}},r,t)}))()},projects:function(e){var o=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/proyectos/getBy2/"+e).then(function(e){var t=e.data;o.open_presupuestos=!0,o.editRowPresupuestos(t.proyectos[0])}).catch(function(e){console.error(e)});case 2:case"end":return t.stop()}},t,o)}))()},setViewPresupuestos:function(e){this.viewsPresupuestos.grid=!1,this.viewsPresupuestos.create=!1,this.viewsPresupuestos.update=!1,this.viewsPresupuestos[e]=!0},setViewOrganismos:function(e){this.viewsOrganismos.grid=!1,this.viewsOrganismos.create=!1,this.viewsOrganismos.update=!1,this.viewsOrganismos[e]=!0},setViewComisiones:function(e){this.viewsComisiones.grid=!1,this.viewsComisiones.create=!1,this.viewsComisiones.update=!1,this.viewsComisiones[e]=!0},currencyFormat:function(e){return i()(e).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},validarFechasPresupuestos:function(e,o){return _()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")<=_()(String(o)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")},cargarFacturas:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.getFacturas({factura_id:e.form.fieldsContrato.id}).then(function(o){var t=o.data;e.totalContratos=t.total}).catch(function(e){console.error(e)});case 2:return o.next=4,e.getFormasDePago().then(function(e){e.data}).catch(function(e){console.error(e)});case 4:case"end":return o.stop()}},o,e)}))()},cargarDataProject:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_presupuestos.data_projects=[],o.next=3,e.getProyectosbyID({id:e.form.fields.id,year:e.year}).then(function(o){var t=o.data;"success"===t.result&&(e.form_presupuestos.data_projects=t.proyectos)}).catch(function(e){console.error(e)});case 3:case"end":return o.stop()}},o,e)}))()},cargarDataContratos:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_presupuestos.data_contratos=[],o.next=3,e.getContratosbyID({id:e.form.fields.id}).then(function(o){var t=o.data;"success"===t.result&&(e.form_presupuestos.data_contratos=t.contratos,e.form.fields.suma_contratos=t.monto_contratos)}).catch(function(e){console.error(e)});case 3:case"end":return o.stop()}},o,e)}))()},cargarDataOrganismos:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_presupuestos.data_organismos=[],o.next=3,e.getOrganismosbyID({id:e.form.fields.id}).then(function(o){var t=o.data;"success"===t.result&&(e.form_presupuestos.data_organismos=t.organismos)}).catch(function(e){console.error(e)});case 3:case"end":return o.stop()}},o,e)}))()},cargarDataComisiones:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_presupuestos.data_comisiones=[],o.next=3,e.getComisionesbyID({proyecto_id:e.form.fields.id}).then(function(o){var t=o.data;"success"===t.result&&(e.form_presupuestos.data_comisiones=t.comisiones)}).catch(function(e){console.error(e)});case 3:case"end":return o.stop()}},o,e)}))()},setViewContrato:function(e){this.viewsContrato.grid=!1,this.viewsContrato.create=!1,this.viewsContrato.update=!1,"false"!==e&&(this.viewsContrato[e]=!0)},setView:function(e){this.modal_ver_contrato=!1,this.views.grid=!1,this.views.create=!1,this.views.update=!1,this.views[e]=!0},cargarLicitaciones:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.licitacionesOptions=[],e.form.fieldsContrato.licitacion_id=0,o.next=4,e.getLicitacionesByRecurso({recurso_id:e.form.fieldsContrato.recurso_id}).then(function(o){var t=o.data;e.licitacionesOptions.push({label:"---Ninguno---",value:0}),t.licitaciones.length>0&&t.licitaciones.forEach(function(o){e.licitacionesOptions.push({label:o.folio+" - "+o.titulo,value:o.id})})}).catch(function(e){console.error(e)});case 4:case"end":return o.stop()}},o,e)}))()},saveContratos:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var o=this.form.fieldsContrato;o.year=this.year,this.saveContrato(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form.fieldsContrato.id=t.message.id,e.cargarFacturas(),e.cargarDataContratos(),e.setViewContrato("create"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},updateContratosGrid:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var o=this.form.fieldsContrato;o.organismo_id=this.form.fieldsContrato.organismo_id,this.updateContrato(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&e.returnToView("contrato","grid")}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},updateContratos:function(){var e=this;if(this.form.fieldsContrato.monto_total=this.evaluaMonto(this.form.fieldsContrato.monto_total_validar),this.$v.form.fieldsContrato.$touch(),this.$v.form.fieldsContrato.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechas(this.form.fieldsContrato.fecha_inicio,this.form.fieldsContrato.fecha_fin)){this.loadingButton=!0;var o=this.form.fieldsContrato;o.organismo_id=this.form.fieldsContrato.organismo_id,this.updateContrato(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.setViewContrato("update"),e.cargarDataContratos())}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha fin.","top-right")},editRowContrato:function(e){var o=this;return d()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.licitacionesOptions=[],r=u()({},e),o.form.fieldsContrato.id=r.id,o.form.fieldsContrato.recurso_id=r.recurso_id,o.form.fieldsContrato.empresa_id=r.empresa_id,t.next=7,o.cargarLicitaciones();case 7:null===r.licitacion_id?o.form.fieldsContrato.licitacion_id=0:o.form.fieldsContrato.licitacion_id=r.licitacion_id,null===r.fecha_inicio?o.form.fieldsContrato.fecha_inicio="":o.form.fieldsContrato.fecha_inicio=_()(String(r.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.num_contrato=r.num_contrato,null===r.fecha_fin?o.form.fieldsContrato.fecha_fin="":o.form.fieldsContrato.fecha_fin=_()(String(r.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.monto_total=r.monto_total,o.form.fieldsContrato.monto_total_validar=r.monto_total,o.form.fieldsContrato.rep_legal_contrato=r.rep_legal_contrato,null===r.nombre?o.form.fieldsContrato.nombre="":o.form.fieldsContrato.nombre=r.nombre,null===r.organismo_id?o.form.fieldsContrato.organismo_id=0:o.form.fieldsContrato.organismo_id=r.organismo_id,o.form.fieldsContrato.porcentaje=r.porcentaje,o.form.fieldsContrato.documento_pdf=r.documento_pdf,o.form.fieldsContrato.doc_type_pdf=r.doc_type_pdf,o.form.fieldsContrato.nombre_pdf=r.nombre_pdf,o.form.fieldsContrato.observaciones=r.observaciones,o.cargarFacturas(),o.setViewContrato("update");case 23:case"end":return t.stop()}},t,o)}))()},seeRowContrato:function(e){var o=this;return d()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.modal_ver_contrato=!1,o.licitacionesOptions=[],r=u()({},e),o.form.fieldsContrato.id=r.id,o.form.fieldsContrato.recurso_id=r.recurso_id,o.form.fieldsContrato.empresa_id=r.empresa_id,t.next=8,o.cargarLicitaciones();case 8:null===r.licitacion_id?o.form.fieldsContrato.licitacion_id=0:o.form.fieldsContrato.licitacion_id=r.licitacion_id,null===r.fecha_inicio?o.form.fieldsContrato.fecha_inicio="":o.form.fieldsContrato.fecha_inicio=_()(String(r.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.num_contrato=r.num_contrato,null===r.fecha_fin?o.form.fieldsContrato.fecha_fin="":o.form.fieldsContrato.fecha_fin=_()(String(r.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.monto_total=r.monto_total,o.form.fieldsContrato.monto_total_validar=r.monto_total,o.form.fieldsContrato.rep_legal_contrato=r.rep_legal_contrato,null===r.nombre?o.form.fieldsContrato.nombre="":o.form.fieldsContrato.nombre=r.nombre,null===r.organismo_id?o.form.fieldsContrato.organismo_id=0:o.form.fieldsContrato.organismo_id=r.organismo_id,o.form.fieldsContrato.porcentaje=r.porcentaje,o.form.fieldsContrato.observaciones=r.observaciones,o.cargarFacturas(),o.modal_ver_contrato=!0;case 21:case"end":return t.stop()}},t,o)}))()},deleteSingleContrato:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este contrato?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.deleteContratos(e)}).catch(function(){})},deleteDoc:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este Archivo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.deleteDocID(e)}).catch(function(){})},deleteDocID:function(e){var o=this;return d()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r={id:e},o.deleteDocFacturas(r).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&o.cargarFacturas()}).catch(function(e){console.error(e)});case 2:case"end":return t.stop()}},t,o)}))()},deleteContratos:function(e){var o=this,t={id:e};this.deleteContrato(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.getContratosbyID({id:o.form.fields.id}),o.setViewContrato("grid"))}).catch(function(e){console.error(e)})},newRowContrato:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.licitacionesOptions=[],e.$v.form.$reset(),e.form.fieldsContrato.id=0,e.form.fieldsContrato.recurso_id=e.form.fields.id,e.form.fieldsContrato.empresa_id=0,e.form.fieldsContrato.licitacion_id=0,e.form.fieldsContrato.fecha_inicio="",e.form.fieldsContrato.num_contrato="",e.form.fieldsContrato.fecha_fin="",e.form.fieldsContrato.monto_total=0,e.form.fieldsContrato.monto_total_validar=0,e.form.fieldsContrato.rep_legal_contrato="",e.form.fieldsContrato.nombre="",e.form.fieldsContrato.organismo_id=0,e.form.fieldsContrato.porcentaje=0,e.form.fieldsContrato.observaciones="",o.next=18,e.cargarLicitaciones();case 18:e.setViewContrato("create");case 19:case"end":return o.stop()}},o,e)}))()},clicFilaContrato:function(e){var o=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.form.fieldsContrato.id=e.id,o.form.fieldsContrato.recurso_id=e.recurso_id,o.form.fieldsContrato.empresa_id=e.empresa_id,t.next=5,o.cargarLicitaciones();case 5:o.form.fieldsContrato.id>0&&o.cargarFacturas(),null===e.licitacion_id?o.form.fieldsContrato.licitacion_id=0:o.form.fieldsContrato.licitacion_id=e.licitacion_id,null===e.fecha_inicio?o.form.fieldsContrato.fecha_inicio="":o.form.fieldsContrato.fecha_inicio=_()(String(e.fecha_inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.num_contrato=parseInt(e.num_contrato),null===e.fecha_fin?o.form.fieldsContrato.fecha_fin="":o.form.fieldsContrato.fecha_fin=_()(String(e.fecha_fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form.fieldsContrato.monto_total=e.monto_total,o.form.fieldsContrato.monto_total_validar=e.monto_total,o.form.fieldsContrato.rep_legal_contrato=e.rep_legal_contrato,null===e.nombre?o.form.fieldsContrato.nombre="":o.form.fieldsContrato.nombre=e.contrato,null===e.organismo_id?o.form.fieldsContrato.organismo_id=0:o.form.fieldsContrato.organismo_id=e.organismo_id,o.form.fieldsContrato.porcentaje=e.porcentaje,o.form.fieldsContrato.observaciones=e.observaciones,o.InformacionContrato=!0;case 18:case"end":return t.stop()}},t,o)}))()},validarFechas:function(e,o){return _()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")<=_()(String(o)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")},uploadFormato:function(){var e=this;if(this.$v.form.file.$touch(),this.$v.form.file.$error)this.$showMessage("Error","llene los campos obligatorios");else if(this.form.file.fecha_vencimiento>=this.form.file.fecha_factura)try{this.loadingButton=!0;var o=this.$refs.fileInputFormato.files[0],t=new FormData;t.append("file",o),t.append("nombre",o.name),t.append("nombre_archivo",o.name),t.append("contrato_id",this.form.fieldsContrato.id),t.append("folio_fiscal",this.form.file.folio_fiscal),t.append("fecha_factura",_()(String(this.form.file.fecha_factura)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),t.append("fecha_pago",_()(String(this.form.file.fecha_pago)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),t.append("fecha_vencimiento",_()(String(this.form.file.fecha_vencimiento)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),null===o||void 0===o||""===o?this.$showMessage("Error","Seleccione un archivo"):o.name?"jpg"===o.type.split("/")[1].toLowerCase()||"jpeg"===o.type.split("/")[1].toLowerCase()||"png"===o.type.split("/")[1].toLowerCase()||"pdf"===o.type.split("/")[1].toLowerCase()||"xml"===o.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===o.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),h.a.post("facturasContratos/uploadArchivo",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){"success"===o.data.result?(e.$showMessage(o.data.message.title,o.data.message.content),e.cargarFacturas(),e.$v.form.$reset(),e.form.file.nombre="",e.form.file.fecha_pago="",e.form.file.fecha_factura="",e.form.file.fecha_vencimiento="",e.form.file.folio_fiscal="",e.show_file_contrato=!1,e.viewsContrato.create?e.setViewContrato("create"):e.setViewContrato("update")):""!==o.data.err&&e.$showMessage(o.data.message.title,o.data.message.content),e.loadingButton=!1,e.$q.loading.hide()}).catch(function(o){e.loadingButton=!1,console.error(o),e.$q.loading.hide()})):(this.loadingButton=!1,this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito.")):(this.loadingButton=!1,this.$showMessage("Error","No ha seleccionado un archivo con las extensión .docx o .pdf"))}catch(e){this.loadingButton=!1,this.$showMessage("Error","Seleccione un archivo")}else this.$showMessage("Error","La fecha de vencimiento debe ser igual o posterior a la fecha de emisión")},abrirDocumento:function(e,o){console.log(e);var t="https://api_impact.wasp.mx/facturasContratos/getFile/"+e+"/"+o;window.open(t,"_blank")},mensajeNotify:function(e,o,t,r,a){this.$q.notify({message:e,timeout:0,color:o,icon:t,detail:r,position:a,closeBtn:!0})},save:function(){var e=this;if(this.form.fields.monto=this.evaluaMonto(this.form.fields.montovalidar),this.form.fields.fuente_financiamiento=this.form.fields.fuente_financiamiento.trim(),this.$v.form.fields.$touch(),this.$v.form.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form.fields;o.year=this.year,this.saveRecurso(o).then(function(o){var t=o.data;e.loadingButton=!1,"success"===t.result?(e.mensajeNotify("Éxito","green","fas fa-check",t.codigo,"top"),e.loadAll(),e.setView("grid")):e.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})}},update:function(){var e=this;if(this.form.fields.monto=this.evaluaMonto(this.form.fields.montovalidar),this.form.fields.fuente_financiamiento=this.form.fields.fuente_financiamiento.trim(),this.$v.form.fields.$touch(),this.$v.form.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form.fields;o.year=this.year,this.updateRecurso(o).then(function(o){var t=o.data;e.loadingButton=!1,"success"===t.result?(e.mensajeNotify("Éxito","blue","fas fa-check",t.codigo,"top"),e.loadAll(),e.setView("grid")):e.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})}},editRow:function(e){var o=this;return d()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.loadingMessage("Cargando ..."),r=u()({},e),o.form.fields.id=e.id,o.form.fields.cliente_id=r.cliente_id,o.form.fields.subprograma_id=r.subprograma_id,o.form.fields.monto=r.monto,o.form.fields.montovalidar=r.monto,o.form.fields.monto_licitado=r.monto_licitado,o.form.fields.monto_adjudicado=r.monto_adjudicado,o.form.fields.codigo=r.codigo,o.form.fields.fuente_financiamiento=r.fuente_financiamiento,o.form.fields.total_recursos=r.total_recursos,o.form.fields.programa_id=r.programa_id,o.form.fields.rubro=r.rubro,o.form.fields.nombre=r.nombre,o.form.fields.aliado=r.aliado,o.form.fields.aliado1=r.aliado1,o.form.fields.aliado2=r.aliado2,o.form.fields.aliado3=r.aliado3,o.form.fields.suma_contratos=r.suma_contratos,o.form.fields.adjudicacion=r.adjudicacion,o.form.fields.sucursal_id=r.sucursal_id,o.form.fields.tipo=r.tipo,t.next=25,o.cargarDataContratos();case 25:return t.next=27,o.cargarDataProject();case 27:return t.next=29,o.cargarDataOrganismos();case 29:return t.next=31,o.cargarDataComisiones();case 31:o.setView("update"),o.setViewPresupuestos("grid"),o.tabPrincipal="contratos",o.setViewContrato("grid"),o.$q.loading.hide();case 36:case"end":return t.stop()}},t,o)}))()},editRow2P:function(e,o){var t=this;return d()(l.a.mark(function r(){var a;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=u()({},e),t.form.fields.id=e.id,t.form.fields.cliente_id=a.cliente_id,t.form.fields.subprograma_id=a.subprograma_id,t.form.fields.monto=a.monto,t.form.fields.montovalidar=a.monto,t.form.fields.monto_licitado=a.monto_licitado,t.form.fields.monto_adjudicado=a.monto_adjudicado,t.form.fields.codigo=a.codigo,t.form.fields.fuente_financiamiento=a.fuente_financiamiento,t.form.fields.total_recursos=a.total_recursos,t.form.fields.programa_id=a.programa_id,t.form.fields.rubro=a.rubro,t.form.fields.nombre=a.nombre,t.form.fields.aliado=a.aliado,t.form.fields.aliado1=a.aliado1,t.form.fields.aliado2=a.aliado2,t.form.fields.aliado3=a.aliado3,t.form.fields.suma_contratos=a.suma_contratos,t.form.fields.adjudicacion=a.adjudicacion,t.form.fields.sucursal_id=a.sucursal_id,t.form.fields.tipo=a.tipo,r.next=24,t.cargarDataContratos();case 24:return r.next=26,t.cargarDataProject();case 26:return r.next=28,t.cargarDataOrganismos();case 28:return r.next=30,t.cargarDataComisiones();case 30:return t.setView("update"),r.next=33,t.projects(o);case 33:case"end":return r.stop()}},r,t)}))()},deleteSingleRow:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este recurso?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.delete(e)}).catch(function(){})},verContratos:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"Sera redireccionado a contratos...",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.redirContratos(e)}).catch(function(){})},redirContratos:function(e){this.$router.push({path:"/contratos/"+e})},verPresupuestos:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"Sera redireccionado a presupuestos...",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.redirPresupuestos(e)}).catch(function(){})},redirPresupuestos:function(e){this.$router.push({path:"/presupuestos/"+e})},delete:function(e){var o=this,t={id:e};this.deleteRecurso(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.loadAll(),o.setView("grid"))}).catch(function(e){console.error(e)})},verTodo:function(e){var o=u()({},e);this.form.fields.id=e.id,this.form.fields.cliente_id=o.cliente_id,this.form.fields.subprograma_id=o.subprograma_id,this.form.fields.monto=o.monto,this.form.fields.montovalidar=o.monto,this.form.fields.monto_licitado=o.monto_licitado,this.form.fields.monto_adjudicado=o.monto_adjudicado,this.form.fields.codigo=o.codigo,this.form.fields.fuente_financiamiento=o.fuente_financiamiento,this.form.fields.total_recursos=o.total_recursos,this.form.fields.programa_id=o.programa_id,this.form.fields.rubro=o.rubro,this.form.fields.nombre=o.nombre,this.form.fields.aliado=o.aliado,this.form.fields.aliado1=o.aliado1,this.form.fields.aliado2=o.aliado2,this.form.fields.aliado3=o.aliado3,this.form.fields.suma_contratos=o.suma_contratos,this.form.fields.adjudicacion=o.adjudicacion,this.form.fields.sucursal_id=o.sucursal_id,this.form.fields.tipo=o.tipo,this.setView("info")},newRow:function(){this.$v.form.$reset(),this.form.fields.id=0,this.form.fields.cliente_id=0,this.form.fields.subprograma_id=0,this.form.fields.monto=0,this.form.fields.montovalidar=0,this.form.fields.codigo="",this.form.fields.fuente_financiamiento="",this.form.fields.total_recursos=0,this.form.fields.programa_id=0,this.form.fields.rubro="",this.form.fields.nombre="",this.form.fields.aliado="",this.form.fields.aliado1="",this.form.fields.aliado2="",this.form.fields.aliado3="",this.form.fields.suma_contratos=0,this.form.fields.adjudicacion="",this.form.fields.sucursal_id=0,this.form.fields.tipo="",this.setView("create")},clickFila:function(e){var o=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.form.fields.id=e.id,o.form.fields.cliente_id=e.cliente_id,o.form.fields.subprograma_id=e.subprograma_id,o.form.fields.monto=e.monto,o.form.fields.montovalidar=e.monto,o.form.fields.monto_licitado=e.monto_licitado,o.form.fields.monto_adjudicado=e.monto_adjudicado,o.form.fields.codigo=e.codigo,o.form.fields.fuente_financiamiento=e.fuente_financiamiento,o.form.fields.total_recursos=e.total_recursos,o.form.fields.programa_id=e.programa_id,o.form.fields.rubro=e.rubro,o.form.fields.nombre=e.nombre,o.form.fields.aliado=e.aliado,o.form.fields.aliado1=e.aliado1,o.form.fields.aliado2=e.aliado2,o.form.fields.aliado3=e.aliado3,o.form.fields.suma_contratos=e.suma_contratos,o.form.fields.adjudicacion=e.adjudicacion,o.form.fields.sucursal_id=e.sucursal_id,o.form.fields.tipo=e.tipo,t.next=23,o.cargarDataContratos();case 23:return t.next=25,o.cargarDataProject();case 25:return t.next=27,o.cargarDataOrganismos();case 27:return t.next=29,o.cargarDataComisiones();case 29:o.informacion=!0;case 30:case"end":return t.stop()}},t,o)}))()},borrarMonto:function(){this.form.fields.monto=0},selectSubprograma:function(){this.form.fields.subprograma_id=0},newContrato:function(){this.licitacionesOptions=[],this.$v.form.$reset(),this.form.fieldsContrato.recurso_id=0,this.form.fieldsContrato.empresa_id=0,this.form.fieldsContrato.licitacion_id=0,this.form.fieldsContrato.fecha_inicio="",this.form.fieldsContrato.num_contrato="",this.form.fieldsContrato.fecha_fin="",this.form.fieldsContrato.monto_total=0,this.form.fieldsContrato.monto_total_validar=0,this.form.fieldsContrato.rep_legal_contrato="",this.form.fieldsContrato.nombre="",this.form.fieldsContrato.observaciones="",this.setView("createContrato")},savePresupuestos:function(){var e=this;if(this.form.fieldsPresupuesto.presupuesto=this.evaluaMonto(this.form.fieldsPresupuesto.presupuestovalidar),this.$v.form.fieldsPresupuesto.$touch(),this.$v.form.fieldsPresupuesto.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else if(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)){this.loadingButton=!0;var o=this.form.fieldsPresupuesto;o.year=this.year,o.monto_bolsa_validado=this.evaluaMonto(this.form.fieldsPresupuesto.monto_bolsa),this.saveProyecto(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarDataProject(),e.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")},updatePresupuestos:function(){var e=this;if(this.form.fieldsPresupuesto.presupuesto=this.evaluaMonto(this.form.fieldsPresupuesto.presupuestovalidar),this.$v.form.fieldsPresupuesto.$touch(),this.$v.form.fieldsPresupuesto.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechasPresupuestos(this.form.fieldsPresupuesto.inicio,this.form.fieldsPresupuesto.fin)){this.loadingButton=!0;var o=this.form.fieldsPresupuesto;o.monto_bolsa_validado=this.evaluaMonto(this.form.fieldsPresupuesto.monto_bolsa),this.updateProyecto(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarDataProject(),e.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de inicio no debe ser mayor a la fecha de término.","top-right")},editRowPresupuestos:function(e){var o=this;return d()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.setViewPresupuestos("update"),o.loadingMessage("Cargando ..."),r=u()({},e),o.form.fieldsPresupuesto.status=r.status,o.form.fieldsPresupuesto.id=r.id,o.form.fieldsPresupuesto.nombre_proyecto=r.nombre_proyecto,o.form.fieldsPresupuesto.nombre_corto=r.nombre_corto,o.form.fieldsPresupuesto.recurso_id=e.recurso_id,o.form.fieldsPresupuesto.dias=r.dias,o.form.fieldsPresupuesto.presupuesto=r.presupuesto,o.form.fieldsPresupuesto.presupuesto_actual=o.currencyFormat(r.presupuesto_actual),o.form.fieldsPresupuesto.presupuestovalidar=r.presupuesto,o.form.fieldsPresupuesto.presupuestoActual=r.presupuesto,o.form.fieldsPresupuesto.monto_bolsa=r.monto_bolsa,o.form.fieldsPresupuesto.lider_proyecto=r.lider_proyecto,o.form.fieldsPresupuesto.lider_usuario=r.nickname,o.form.fieldsPresupuesto.sucursal_id=o.form.fields.sucursal_id,null===r.licitacion_id?(o.form.fieldsPresupuesto.licitacion_id=0,o.empresasOptions.push({label:"---Seleccione---",value:0})):(o.form.fieldsPresupuesto.licitacion_id=r.licitacion_id,o.obtenerEmpresa()),null===r.empresa_id?o.form.fieldsPresupuesto.empresa_id=0:o.form.fieldsPresupuesto.empresa_id=r.empresa_id,null===r.sucursal_id?o.form.fieldsPresupuesto.sucursal_id=0:o.form.fieldsPresupuesto.sucursal_id=r.sucursal_id,null===r.inicio?o.form.fieldsPresupuesto.inicio="":o.form.fieldsPresupuesto.inicio=_()(String(r.inicio)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),null===r.fin?o.form.fieldsPresupuesto.fin="":o.form.fieldsPresupuesto.fin=_()(String(r.fin)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss"),o.form_solicitantes.fieldsPresupuesto.proyecto_id=r.id,o.form_autorizadores.fieldsPresupuesto.proyecto_id=r.id,o.form_responsables.fieldsPresupuesto.proyecto_id=r.id,o.form_colaboradores.fieldsPresupuesto.proyecto_id=r.id,o.form_perfiles.fieldsPresupuesto.proyecto_id=r.id,o.form.fieldsContrato.recurso_id=e.recurso_id,t.next=30,o.cargarLicitaciones();case 30:return t.next=32,o.cargarDetalles();case 32:return t.next=34,o.cargarColaboradores();case 34:return t.next=36,o.getUsuarios();case 36:o.$q.loading.hide();case 37:case"end":return t.stop()}},t,o)}))()},deleteSingleRowPresupuestos:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este proyecto?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.deletePresupuesto(e)}).catch(function(){})},deletePresupuesto:function(e){var o=this,t={id:e};this.deleteProyecto(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarDataProject(),o.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})},newRowPresupuestos:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.$v.form.$reset(),e.form.fieldsPresupuesto.recurso_id=e.form.fields.id,e.form.fieldsPresupuesto.inicio="",e.form.fieldsPresupuesto.fin="",e.form.fieldsPresupuesto.dias=0,e.form.fieldsPresupuesto.presupuesto=0,e.form.fieldsPresupuesto.presupuestovalidar=0,e.form.fieldsPresupuesto.monto_bolsa=0,e.form.fieldsPresupuesto.nombre_proyecto="",e.form.fieldsPresupuesto.nombre_corto="",e.form.fieldsPresupuesto.lider_proyecto="",e.form.fieldsPresupuesto.licitacion_id=0,e.form.fieldsPresupuesto.empresa_id=0,e.form.fieldsPresupuesto.sucursal_id=e.form.fields.sucursal_id,e.form.fieldsContrato.recurso_id=e.form.fields.id,o.next=17,e.cargarLicitaciones();case 17:e.setViewPresupuestos("create");case 18:case"end":return o.stop()}},o,e)}))()},clicFilaPresupuesto:function(e){this.objetoInformacionPresupuesto={dias:e.dias,fin:e.fin,id:e.id,inicio:e.inicio,nombre_proyecto:e.nombre_proyecto,presupuesto:e.presupuesto,recurso:e.recurso,recurso_id:e.recurso_id,presupuestoCopia:e.presupuesto},this.objetoInformacionPresupuesto.presupuesto=function(e,o){(o=o||{}).simbolo=o.simbolo||"$",o.separadorDecimal=o.separadorDecimal||".",o.separadorMiles=o.separadorMiles||",",o.numeroDeDecimales=o.numeroDeDecimales>=0?o.numeroDeDecimales:2,o.posicionSimbolo=o.posicionSimbolo||"i";var t=e.toFixed(o.numeroDeDecimales),r=t.indexOf(o.separadorDecimal);-1===r&&(r=t.length);for(var a="",s=r;s>=0;){var i=s-3;a=(i>0?o.separadorMiles:"")+t.substring(i,s)+a,s-=3}var n=""+a+t.substr(r,o.numeroDeDecimales+1);return"i"===o.posicionSimbolo?o.simbolo+n:n+o.simbolo}(parseFloat(this.objetoInformacionPresupuesto.presupuesto),{numeroDeDecimales:2,separadorDecimal:".",separadorMiles:",",simbolo:"$",posicionSimbolo:"i"}),this.informacionPresupuestos=!0},getDiasLaborables:function(e,o){var t=_()(_()(String(o)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD")),r=_()(_()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD")),a=1+(5*t.diff(r,"days")-2*(r.day()-t.day()))/7;return 6===t.day()&&a--,0===r.day()&&a--,a},loadingMessage:function(e){this.$q.loading.show({message:e})},exportCSVActividades:function(){var e="https://api_impact.wasp.mx/carga_csv/exportCSV_actividades/"+this.form.fieldsPresupuesto.id;window.open(e,"_blank")},uploadCsvFile:function(){var e=this;this.loadingMessage("Cargando los datos del csv ...");var o=this.$refs.fileInputCSV.files[0],t=new FormData;t.append("file",o),t.append("proyecto_id",this.form.fieldsPresupuesto.id),h.a.post("/carga_csv/uploadCsv",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){"success"===o.data.result?(e.$showMessage("Exito",o.data.message),e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(o.data.presupuesto),e.form_actividades.actividades_proyecto=!0,e.cargarDetalles(),e.$q.loading.hide()):(e.$q.loading.hide(),""!==o.data.err&&e.$showMessage("Errores en archivo",o.data.error[1]))}).catch(function(o){e.$q.loading.hide(),console.error(o)})},cargarDetalles:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_actividades.loading=!0,e.actividades=[],o.next=4,e.getActividadesByProyecto({proyecto_id:e.form.fieldsPresupuesto.id}).then(function(o){var t=o.data;t.actividades.length>0&&(e.actividades=t.actividades),e.form_actividades.loading=!1}).catch(function(o){console.error(o),e.form_actividades.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},cargarSolicitantes:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_solicitantes.loading=!0,e.form_solicitantes.data=[],o.next=4,e.getSolicitantesByProyecto({proyecto_id:e.form_solicitantes.fieldsPresupuesto.proyecto_id}).then(function(o){var t=o.data;t.solicitantes.length>0&&(e.form_solicitantes.data=t.solicitantes),e.form_solicitantes.loading=!1}).catch(function(o){console.error(o),e.form_solicitantes.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},cargarColaboradores:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_colaboradores.loading=!0,e.form_colaboradores.data=[],o.next=4,e.getColaboradoresByProyecto({proyecto_id:e.form_colaboradores.fieldsPresupuesto.proyecto_id}).then(function(o){var t=o.data;t.colaboradores.length>0&&(e.form_colaboradores.data=t.colaboradores),e.form_colaboradores.loading=!1}).catch(function(o){console.error(o),e.form_colaboradores.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},cargarAutorizadores:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_autorizadores.loading=!0,e.form_autorizadores.data=[],o.next=4,e.getAutorizadoresByProyecto({proyecto_id:e.form_autorizadores.fieldsPresupuesto.proyecto_id}).then(function(o){var t=o.data;t.autorizadores.length>0&&(e.form_autorizadores.data=t.autorizadores),e.form_autorizadores.loading=!1}).catch(function(o){console.error(o),e.form_autorizadores.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},cargarResponsables:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_responsables.loading=!0,e.form_responsables.data=[],o.next=4,e.getResponsablesByProyecto({proyecto_id:e.form_responsables.fieldsPresupuesto.proyecto_id}).then(function(o){var t=o.data;t.responsable_pagos.length>0&&(e.form_responsables.data=t.responsable_pagos),e.form_responsables.loading=!1}).catch(function(o){console.error(o),e.form_responsables.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},finalizarActividad:function(e,o){var t=this,r={id:e.id};this.updateFinalizadoActividad(r).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&t.cargarDetalles()}).catch(function(e){console.error(e)})},editActividad:function(e,o){this.form_actividades.modal_editar=!0,this.form_actividades.fieldsPresupuesto.id=e.id,this.form_actividades.fieldsPresupuesto.proyecto_id=e.proyecto_id,this.form_actividades.fieldsPresupuesto.nombre=e.nombre,this.form_actividades.fieldsPresupuesto.avance=e.avance,this.form_actividades.fieldsPresupuesto.presupuesto_inicial=e.presupuesto_inicial,null===e.inicio?this.form_actividades.fieldsPresupuesto.inicio="":this.form_actividades.fieldsPresupuesto.inicio=_()(String(e.inicio)).format("YYYY-MM-DD HH:mm:ss"),null===e.fin?this.form_actividades.fieldsPresupuesto.fin="":this.form_actividades.fieldsPresupuesto.fin=_()(String(e.fin)).format("YYYY-MM-DD HH:mm:ss"),this.form_actividades.fieldsPresupuesto.costo=e.costo,null===e.fin_real?this.form_actividades.fieldsPresupuesto.fin_real="":this.form_actividades.fieldsPresupuesto.fin_real=_()(String(e.fin_real)).format("YYYY-MM-DD HH:mm:ss"),this.form_actividades.fieldsPresupuesto.indice=e.indice,this.form_actividades.fieldsPresupuesto.nivel=e.nivel,"SI"===e.resumen?this.form_actividades.fieldsPresupuesto.resumen=!0:this.form_actividades.fieldsPresupuesto.resumen=!1,this.form_actividades.fieldsPresupuesto.duracion=e.duracion,this.form_actividades.fieldsPresupuesto.duracion_restante=e.duracion_restante,this.form_actividades.fieldsPresupuesto.padre_id=e.padre_id,this.form_actividades.fieldsPresupuesto.children_cantidad=e.children.length},createActividad:function(e,o){this.$v.form_actividades.$reset(),this.form_actividades.modal_crear=!0,this.form_actividades.fieldsPresupuesto.proyecto_id=e.proyecto_id,this.form_actividades.fieldsPresupuesto.nombre="",this.form_actividades.fieldsPresupuesto.avance=0,this.form_actividades.fieldsPresupuesto.presupuesto_inicial=0,this.form_actividades.fieldsPresupuesto.inicio="",this.form_actividades.fieldsPresupuesto.fin="",this.form_actividades.fieldsPresupuesto.costo=0,this.form_actividades.fieldsPresupuesto.fin_real="",this.form_actividades.fieldsPresupuesto.indice="Generado automáticamente",this.form_actividades.fieldsPresupuesto.nivel=3,this.form_actividades.fieldsPresupuesto.resumen=!1,this.form_actividades.fieldsPresupuesto.duracion=0,this.form_actividades.fieldsPresupuesto.duracion_restante=0,this.form_actividades.fieldsPresupuesto.padre_id=e.id,this.form_actividades.fieldsPresupuesto.children_cantidad=0},uploadFiles:function(e,o){var t=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.form_actividades.modal_documentos=!0,t.form_actividades.fieldsPresupuesto.nombre=e.nombre,t.form_actividades.fieldsPresupuesto.id=e.id,o.next=5,t.getFiles();case 5:case"end":return o.stop()}},o,t)}))()},updateActividadDetalle:function(){var e=this;if(this.$v.form_actividades.$touch(),this.$v.form_actividades.$error)this.$showMessage("Error","Por favor revise los campos.");else if(this.validarFechasActividades(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin,this.form_actividades.fieldsPresupuesto.fin_real)){this.loadingButton=!0;var o=this.form_actividades.fieldsPresupuesto;o.costo_validado=this.evaluaMonto(this.form_actividades.fieldsPresupuesto.costo),this.updateActividad(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_actividades.modal_editar=!1,e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(t.monto_actual),e.cargarDetalles())}).catch(function(e){console.error(e)})}else this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de fin real no debe ser menor a la fecha fin ni a la fecha inicio.","top-right")},crearActividadDetalle:function(){var e=this;this.costo_actividad=this.evaluaMonto(this.form_actividades.fieldsPresupuesto.costo),this.$v.form_actividades.$touch(),this.$v.form_actividades.$error?this.$showMessage("Error","Por favor revise los campos."):this.validarFechasActividades(this.form_actividades.fieldsPresupuesto.inicio,this.form_actividades.fieldsPresupuesto.fin,this.form_actividades.fieldsPresupuesto.fin_real)?this.$v.form_actividades.$error?this.$showMessage("Error","Por favor revise los campos."):this.$q.dialog({title:"Confirmar",message:"Al crear esta actividad se modificará el costo de las actividades principales y del project",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.loadingButton=!0;var o=e.form_actividades.fieldsPresupuesto;o.costo_actividad=e.costo_actividad,e.saveActividad(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_actividades.modal_crear=!1,e.form.fieldsPresupuesto.presupuesto_actual=e.currencyFormat(t.monto_actual),e.cargarDetalles())}).catch(function(e){console.error(e)})}).catch(function(){}):this.mensajeNotify("Revisa las fechas",3e3,"negative","fas fa-exclamation-triangle","La fecha de fin real no debe ser menor a la fecha fin ni a la fecha inicio.","top-right")},validarFechasActividades:function(e,o,t){if(""!==e&&(e=_()(String(e)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==o&&(o=_()(String(o)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==t&&(t=_()(String(t)).utcOffset("-04:00:00",!1).format("YYYY-MM-DD HH:mm:ss")),""!==e&&""===o&&""!==t){if(e>t)return!1}else if(""!==o&&""!==t&&o>t)return!1;return!0},borrarPresupuesto:function(){this.form.fieldsPresupuesto.presupuesto=0},delete_Actividad:function(e,o){var t=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta actividad?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){t.form_actividades.loading=!0;var o={arrayActividades:t.ids_actividades(e)};t.deleteActividad(o).then(function(e){var o=e.data;t.$showMessage(o.message.title,o.message.content),"success"===o.result&&(t.cargarDetalles(),t.form_actividades.loading=!1,t.setViewPresupuestos("update"))}).catch(function(e){console.error(e),t.form_actividades.loading=!1})}).catch(function(){})},ids_actividades:function(e){var o=[];return o.push(e.id),e.children.length>0&&(o=this.buscarHijos(e.children,o)),o.reverse()},buscarHijos:function(e,o){for(var t=0;t<e.length;t++)o.push(e[t].id),e[t].children.length>0&&this.buscarHijos(e[t].children,o);return o},eliminarNivel:function(e){for(var o=0;o<e.length;o++)for(var t=0;t<this.form_autorizadores.selectNivel.length;t++)if(parseInt(this.form_autorizadores.selectNivel[t].value)===parseInt(e[o])){this.form_autorizadores.selectNivel.splice(t,1);break}},newNivel:function(){var e=[],o=!0,t=!1,r=void 0;try{for(var s,i=a()(this.form_autorizadores.data);!(o=(s=i.next()).done);o=!0){var n=s.value;e.push(n.orden)}}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}this.eliminarNivel(e)},eliminarSolicitante:function(e){for(var o=0;o<e.length;o++)for(var t=0;t<this.form_solicitantes.solicitantesOptions.length;t++)if(parseInt(this.form_solicitantes.solicitantesOptions[t].value)===parseInt(e[o])){this.form_solicitantes.solicitantesOptions.splice(t,1);break}},newSolicitante:function(){this.$v.form_solicitantes.$reset(),this.form_solicitantes.solicitantesOptions=[];var e=[];e.push(this.form_solicitantes.fieldsPresupuesto.usuario_id),this.form_solicitantes.fieldsPresupuesto.usuario_id=0,this.form_solicitantes.fieldsPresupuesto.perfil="",this.form_solicitantes.solicitantes_proyecto=!0;var o=!0,t=!1,r=void 0;try{for(var s,i=a()(this.usuariosOptions);!(o=(s=i.next()).done);o=!0){var n=s.value;this.form_solicitantes.solicitantesOptions.push(n)}}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}var l=!0,c=!1,d=void 0;try{for(var f,u=a()(this.form_solicitantes.data);!(l=(f=u.next()).done);l=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){c=!0,d=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw d}}this.eliminarSolicitante(e)},saveSolicitantes:function(){var e=this;if(this.$v.form_solicitantes.$touch(),this.$v.form_solicitantes.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_solicitantes.fieldsPresupuesto;this.saveSolicitante(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarSolicitantes(),e.form_solicitantes.solicitantes_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteSolicitantes:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este solicitante?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteSolicitante(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarSolicitantes(),o.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarAutorizador:function(e){for(var o=0;o<e.length;o++)for(var t=0;t<this.form_autorizadores.autorizadoresOptions.length;t++)if(parseInt(this.form_autorizadores.autorizadoresOptions[t].value)===parseInt(e[o])){this.form_autorizadores.autorizadoresOptions.splice(t,1);break}},newAutorizador:function(){this.$v.form_autorizadores.$reset(),this.form_autorizadores.autorizadoresOptions=[];var e=[];this.form_autorizadores.fieldsPresupuesto.usuario_id=0,this.form_autorizadores.fieldsPresupuesto.perfil="",this.form_autorizadores.fieldsPresupuesto.orden=0,this.form_autorizadores.fieldsPresupuesto.alteracion="NO",this.form_autorizadores.autorizadores_proyecto=!0;var o=!0,t=!1,r=void 0;try{for(var s,i=a()(this.usuariosOptions);!(o=(s=i.next()).done);o=!0){var n=s.value;this.form_autorizadores.autorizadoresOptions.push(n)}}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}var l=!0,c=!1,d=void 0;try{for(var f,u=a()(this.form_autorizadores.data);!(l=(f=u.next()).done);l=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){c=!0,d=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw d}}this.eliminarAutorizador(e)},ejecutaAutorizador:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.newAutorizador();case 2:case"end":return o.stop()}},o,e)}))()},saveAutorizadores:function(){var e=this;if(this.$v.form_autorizadores.$touch(),this.$v.form_autorizadores.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_autorizadores.fieldsPresupuesto;this.saveAutorizador(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarAutorizadores(),e.form_autorizadores.autorizadores_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteAutorizadores:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este autorizador?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteAutorizador(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarAutorizadores(),o.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarResponsable:function(e){for(var o=0;o<e.length;o++)for(var t=0;t<this.form_responsables.responsablesOptions.length;t++)if(parseInt(this.form_responsables.responsablesOptions[t].value)===parseInt(e[o])){this.form_responsables.responsablesOptions.splice(t,1);break}},newResponsable:function(){this.$v.form_responsables.$reset(),this.form_responsables.responsablesOptions=[];var e=[];e.push(this.form_responsables.fieldsPresupuesto.usuario_id),this.form_responsables.fieldsPresupuesto.usuario_id=0,this.form_responsables.fieldsPresupuesto.perfil="",this.form_responsables.responsables_proyecto=!0;var o=!0,t=!1,r=void 0;try{for(var s,i=a()(this.usuariosOptions);!(o=(s=i.next()).done);o=!0){var n=s.value;this.form_responsables.responsablesOptions.push(n)}}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}var l=!0,c=!1,d=void 0;try{for(var f,u=a()(this.form_responsables.data);!(l=(f=u.next()).done);l=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){c=!0,d=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw d}}this.eliminarResponsable(e)},saveResponsables:function(){var e=this;if(this.$v.form_responsables.$touch(),this.$v.form_responsables.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_responsables.fieldsPresupuesto;this.saveResponsable(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarResponsables(),e.form_responsables.responsables_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteResponsables:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este responsable?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteResponsable(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarResponsables(),o.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},eliminarColaborador:function(e){for(var o=0;o<e.length;o++)for(var t=0;t<this.form_colaboradores.colaboradoresOptions.length;t++)if(parseInt(this.form_colaboradores.colaboradoresOptions[t].value)===parseInt(e[o])){this.form_colaboradores.colaboradoresOptions.splice(t,1);break}},newColaborador:function(){this.$v.form_colaboradores.$reset(),this.form_colaboradores.colaboradoresOptions=[];var e=[];e.push(this.form_colaboradores.fieldsPresupuesto.usuario_id),this.form_colaboradores.fieldsPresupuesto.usuario_id=0,this.form_colaboradores.fieldsPresupuesto.perfil="",this.form_colaboradores.colaboradores_proyecto=!0;var o=!0,t=!1,r=void 0;try{for(var s,i=a()(this.usuariosOptions);!(o=(s=i.next()).done);o=!0){var n=s.value;this.form_colaboradores.colaboradoresOptions.push(n)}}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}var l=!0,c=!1,d=void 0;try{for(var f,u=a()(this.form_colaboradores.data);!(l=(f=u.next()).done);l=!0){var m=f.value;e.push(m.usuario_id)}}catch(e){c=!0,d=e}finally{try{!l&&u.return&&u.return()}finally{if(c)throw d}}this.eliminarColaborador(e)},saveColaboradores:function(){var e=this;if(this.$v.form_colaboradores.$touch(),this.$v.form_colaboradores.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_colaboradores.fieldsPresupuesto;this.saveColaborador(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.cargarColaboradores(),e.form_colaboradores.colaboradores_proyecto=!1,e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}},deleteColaboradores:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este solicitante?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteColaborador(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarColaboradores(),o.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})}).catch(function(){})},activarPerifles:function(){this.form_actividades.actividades_proyecto=!0},evaluaMonto:function(e){this.cadena2=""+e,this.cadena=this.cadena2.split(","),this.monto_a_pagar="";for(var o=0;o<this.cadena.length;o++)this.monto_a_pagar=this.monto_a_pagar+this.cadena[o];return parseFloat(this.monto_a_pagar)},selectedFileActividad:function(e){this.$refs.actividadInput.value="",this.registro_actividad=e,this.$refs.actividadInput.click()},getFiles:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.form_archivos.loading=!0,e.form_archivos.data=[],o.next=4,h.a.get("/carga_csv/getFilesByActividad/"+e.form_actividades.fieldsPresupuesto.id).then(function(o){var t=o.data;t.files.length>0&&(e.form_archivos.data=t.files),e.form_archivos.loading=!1}).catch(function(o){console.error(o),e.form_archivos.loading=!1});case 4:case"end":return o.stop()}},o,e)}))()},uploadFormatoActividad:function(){var e=this;try{var o=this.$refs.fileInputFormato.files[0],t=new FormData;t.append("file",o),t.append("nombre",o.name),t.append("actividad_id",this.form_actividades.fieldsPresupuesto.id),t.append("formato_requisito_id",0),null===o||void 0===o||(o.type?"jpg"===o.type.split("/")[1].toLowerCase()||"jpeg"===o.type.split("/")[1].toLowerCase()||"png"===o.type.split("/")[1].toLowerCase()||"pdf"===o.type.split("/")[1].toLowerCase()||"xml"===o.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===o.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),h.a.post("carga_csv/uploadArchivo",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),"success"===t.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.getFiles()):""!==t.data.err&&(console.log(o.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",t.data.err)),e.$q.loading.hide()}).catch(function(o){console.error(o),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(o.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},descargarFormatoActividad:function(e,o){var t="https://api_impact.wasp.mx/carga_csv/getFile/"+e;window.open(t,"_blank")},deleteFormatoActividad:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este archivo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteFormatoAct(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&o.getFiles()}).catch(function(e){console.error(e)})}).catch(function(){})},editColaborador:function(e){this.form_colaboradores.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_colaboradores.fieldsPresupuesto.perfil=e.perfil,this.form_colaboradores.fieldsPresupuesto.id=e.id,this.$v.form_colaboradores.$reset(),this.form_colaboradores.colaboradoresOptions=[];var o=[];o.push(this.form_colaboradores.fieldsPresupuesto.usuario_id);var t=!0,r=!1,s=void 0;try{for(var i,n=a()(this.usuariosOptions);!(t=(i=n.next()).done);t=!0){var l=i.value;this.form_colaboradores.colaboradoresOptions.push(l)}}catch(e){r=!0,s=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw s}}var c=!0,d=!1,f=void 0;try{for(var u,m=a()(this.form_colaboradores.data);!(c=(u=m.next()).done);c=!0){var p=u.value;o.push(p.usuario_id)}}catch(e){d=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f}}this.eliminarColaborador(o),this.form_colaboradores.colaboradoresOptions.push({label:e.nombre,value:e.usuario_id}),this.form_colaboradores.editar_colaboradores_proyecto=!0},editarColaborador:function(){var e=this,o=this.form_colaboradores.fieldsPresupuesto;this.updateColaborador(o).then(function(o){var t=o.data;e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_colaboradores.editar_colaboradores_proyecto=!1,e.cargarColaboradores(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editSolicitante:function(e){this.form_solicitantes.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_solicitantes.fieldsPresupuesto.perfil=e.perfil,this.form_solicitantes.fieldsPresupuesto.id=e.id,this.$v.form_solicitantes.$reset(),this.form_solicitantes.solicitantesOptions=[];var o=[];o.push(this.form_solicitantes.fieldsPresupuesto.usuario_id);var t=!0,r=!1,s=void 0;try{for(var i,n=a()(this.usuariosOptions);!(t=(i=n.next()).done);t=!0){var l=i.value;this.form_solicitantes.solicitantesOptions.push(l)}}catch(e){r=!0,s=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw s}}var c=!0,d=!1,f=void 0;try{for(var u,m=a()(this.form_solicitantes.data);!(c=(u=m.next()).done);c=!0){var p=u.value;o.push(p.usuario_id)}}catch(e){d=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f}}this.eliminarSolicitante(o),this.form_solicitantes.solicitantesOptions.push({label:e.nombre,value:e.usuario_id}),this.form_solicitantes.editar_solicitantes_proyecto=!0},editarSolicitante:function(){var e=this,o=this.form_solicitantes.fieldsPresupuesto;this.updateSolicitante(o).then(function(o){var t=o.data;e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_solicitantes.editar_solicitantes_proyecto=!1,e.cargarSolicitantes(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editAutorizador:function(e){this.form_autorizadores.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_autorizadores.fieldsPresupuesto.perfil=e.perfil,this.form_autorizadores.fieldsPresupuesto.id=e.id,this.form_autorizadores.fieldsPresupuesto.orden=e.orden,"SI"===e.alteracion?this.alterar_presupuesto=!0:this.alterar_presupuesto=!1,this.form_autorizadores.fieldsPresupuesto.alteracion=e.alteracion,this.$v.form_autorizadores.$reset(),this.form_autorizadores.autorizadoresOptions=[];var o=[],t=!0,r=!1,s=void 0;try{for(var i,n=a()(this.usuariosOptions);!(t=(i=n.next()).done);t=!0){var l=i.value;this.form_autorizadores.autorizadoresOptions.push(l)}}catch(e){r=!0,s=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw s}}var c=!0,d=!1,f=void 0;try{for(var u,m=a()(this.form_autorizadores.data);!(c=(u=m.next()).done);c=!0){var p=u.value;o.push(p.usuario_id)}}catch(e){d=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f}}this.eliminarAutorizador(o),this.form_autorizadores.autorizadoresOptions.push({label:e.nombre,value:e.usuario_id}),this.form_autorizadores.selectNivel.push({label:e.orden,value:parseInt(e.orden)}),this.form_autorizadores.editar_autorizadores_proyecto=!0},editarAutorizador:function(){var e=this,o=this.form_autorizadores.fieldsPresupuesto;this.updateAutorizador(o).then(function(o){var t=o.data;e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_autorizadores.editar_autorizadores_proyecto=!1,e.cargarAutorizadores(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},editResponsable:function(e){this.form_responsables.fieldsPresupuesto.usuario_id=e.usuario_id,this.form_responsables.fieldsPresupuesto.perfil=e.perfil,this.form_responsables.fieldsPresupuesto.id=e.id,this.$v.form_responsables.$reset(),this.form_responsables.responsablesOptions=[];var o=[],t=!0,r=!1,s=void 0;try{for(var i,n=a()(this.usuariosOptions);!(t=(i=n.next()).done);t=!0){var l=i.value;this.form_responsables.responsablesOptions.push(l)}}catch(e){r=!0,s=e}finally{try{!t&&n.return&&n.return()}finally{if(r)throw s}}var c=!0,d=!1,f=void 0;try{for(var u,m=a()(this.form_responsables.data);!(c=(u=m.next()).done);c=!0){var p=u.value;o.push(p.usuario_id)}}catch(e){d=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f}}this.eliminarResponsable(o),this.form_responsables.responsablesOptions.push({label:e.nombre,value:e.usuario_id}),this.form_responsables.editar_responsables_proyecto=!0},editarResponsable:function(){var e=this,o=this.form_responsables.fieldsPresupuesto;this.updateResponsable(o).then(function(o){var t=o.data;e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_responsables.editar_responsables_proyecto=!1,e.cargarResponsables(),e.setViewPresupuestos("update"))}).catch(function(e){console.error(e)})},obtenerEmpresa:function(){var e=this;this.form.fieldsPresupuesto.licitacion_id>0?this.getEmpresaConcursante({id:this.form.fieldsPresupuesto.licitacion_id}).then(function(o){var t=o.data;"success"===t.result&&(e.form.fieldsPresupuesto.empresa_id=parseInt(t.empresa[0].empresa_id))}).catch(function(e){console.error(e)}):(this.form.fieldsPresupuesto.empresa_id=0,this.empresasOptions.push({label:"---Seleccione---",value:0}))},borrarActividades:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea eliminar las actividades de este project?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var o={id:e.form.fieldsPresupuesto.id};e.deleteActividad(o).then(function(o){var t=o.data;e.$showMessage(t.message.title,t.message.content),"success"===t.result&&e.cargarDetalles()}).catch(function(e){console.error(e)})}).catch(function(){})},editOrganismo:function(e){this.form_organismos.fields.id=e.id,this.form_organismos.fields.nombre=e.nombre,this.setViewOrganismos("update")},newRowOrganismos:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e.$v.form_organismos.$reset(),e.form_organismos.fields.id=0,e.form_organismos.fields.nombre="",e.setViewOrganismos("create");case 4:case"end":return o.stop()}},o,e)}))()},saveOrganismos:function(){var e=this;if(this.$v.form_organismos.fields.$touch(),this.$v.form_organismos.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_organismos.fields;o.recurso_id=this.form.fields.id,o.year=this.year,this.saveOrganismo(o).then(function(o){var t=o.data;e.loadingButton=!1,"success"===t.result?(e.mensajeNotify("Éxito","green","fas fa-check",t.message.content,"top"),e.cargarDataOrganismos(),e.setViewOrganismos("grid")):e.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})}},updateOrganismos:function(){var e=this;if(this.$v.form_organismos.fields.$touch(),this.$v.form_organismos.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_organismos.fields;this.updateOrganismo(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_organismos.loading=!0,e.cargarDataOrganismos(),e.setViewOrganismos("grid"),e.form_organismos.loading=!1)}).catch(function(e){console.error(e)})}},deleteOrganismos:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar este organismo?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteOrganismo(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarDataOrganismos(),o.setViewPresupuestos("grid"))}).catch(function(e){console.error(e)})}).catch(function(){})},selectedRowContrato:function(e){this.$refs.contratoInput.value="",this.registro_contrato=e,this.$refs.contratoInput.click()},uploadContratoFile:function(){var e=this;try{var o=this.$refs.contratoInput.files[0],t=new FormData;t.append("file",o),t.append("nombre",o.name),t.append("contrato_id",this.registro_contrato.id),null===o||void 0===o||(o.type?"jpg"===o.type.split("/")[1].toLowerCase()||"jpeg"===o.type.split("/")[1].toLowerCase()||"png"===o.type.split("/")[1].toLowerCase()||"pdf"===o.type.split("/")[1].toLowerCase()||"xml"===o.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===o.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),h.a.post("contratos/uploadArchivoFinal",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),"success"===t.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.setViewContrato("grid"),e.cargarDataContratos()):""!==t.data.err&&(console.log(o.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",t.data.err)),e.$q.loading.hide()}).catch(function(o){console.error(o),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(o.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},verDocumentoContrato:function(e,o){var t="https://api_impact.wasp.mx//public/assets/contratos_documentos_finales/"+e+"."+o;window.open(t,"_blank")},descargarDocumentoContrato:function(e,o){var t="https://api_impact.wasp.mx/contratos/getFile/"+e+"/"+o;window.open(t,"_blank")},eliminarDocumentoContrato:function(e){var o=this;this.$q.dialog({title:"Confirmar acción",message:"¿Desea eliminar el archivo?",ok:"Eliminar",cancel:"Cancelar",preventClose:!0}).then(function(){o.borrarDocumento(e)}).catch(function(){})},borrarDocumento:function(e){var o=this;this.eliminarDocumento({id:e}).then(function(e){var t=e.data;"success"===t.result?(o.$q.notify({message:t.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),o.cargarDataContratos(),o.setViewContrato("grid")):o.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})},newPerfil:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.$v.form_perfiles.$reset(),e.form_perfiles.perfilesOptions=[],e.form_perfiles.fieldsPresupuesto.perfil_id=0,e.form_perfiles.fieldsPresupuesto.participacion="",o.next=6,e.getAllPerfiles();case 6:e.form_perfiles.perfiles_proyecto=!0;case 7:case"end":return o.stop()}},o,e)}))()},savePerfiles:function(){var e=this;if(this.$v.form_perfiles.$touch(),this.$v.form_perfiles.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_perfiles.fieldsPresupuesto;this.savePerfil(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.getPerfiles(),e.form_perfiles.perfiles_proyecto=!1)}).catch(function(e){console.error(e)})}},getPerfiles:function(){var e=this,o=this.form_perfiles.fieldsPresupuesto;this.getPerfilesByProject(o).then(function(o){var t=o.data;"success"===t.result&&(e.form_perfiles.data=t.proyectos_perfiles)}).catch(function(e){console.error(e)})},deletePerfiles:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea eliminar el perfil del project?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deletePerfil(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&o.getPerfiles()}).catch(function(e){console.error(e)})}).catch(function(){})},updateStatusBloqueado:function(){var e=this;this.$q.dialog({title:"Confirmar",message:"¿Desea bloquear el project? No podrán realizarse solicitudes.",ok:"Aceptar",cancel:"Cancelar"}).then(function(){e.form.fieldsPresupuesto.status="BLOQUEADO";var o=e.form.fieldsPresupuesto;e.updateProyectoStatus(o).then(function(o){var t=o.data;"success"===t.result&&e.$q.notify({message:t.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})}).catch(function(){})},updateStatusActivo:function(){var e=this;this.form.fieldsPresupuesto.status="ACTIVO";var o=this.form.fieldsPresupuesto;this.updateProyectoStatus(o).then(function(o){var t=o.data;"success"===t.result&&e.$q.notify({message:t.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})},finalizarProyecto:function(e){var o=this,t=e;this.updateFinalizado(t).then(function(e){var t=e.data;"success"===t.result&&o.$q.notify({message:t.message.content,timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"})}).catch(function(e){console.error(e)})},checkContrato:function(){null!==this.$refs.fileInputFormato.files&&(this.show_file_contrato=!0)},backProjects:function(){this.setViewPresupuestos("grid"),this.cargarDataProject()},editComisiones:function(e){var o=this;return d()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.$v.form_comisiones.$reset(),o.form_comisiones.fields.id=e.id,o.form_comisiones.fields.proyecto_id=e.proyecto_id,o.form_comisiones.fields.aliado_id=e.aliado_id,o.form_comisiones.fields.tipo=e.tipo,o.form_comisiones.fields.porcentaje=e.porcentaje,o.form_comisiones.fields.monto=e.monto,o.form_comisiones.fields.monto_total=e.monto_total,o.form_comisiones.fields.metodo_pago=e.metodo_pago,o.form_comisiones.fields.contrato_id=e.contrato_id,o.form_comisiones.fields.iva=e.iva,o.form_comisiones.fields.aplicado=e.aplicado,o.form_comisiones.fields.tiempo_pago=e.tiempo_pago,o.form_comisiones.fields.observaciones=e.observaciones,o.form_comisiones.monto_bolsa=0,o.form_comisiones.monto_base=0,o.form_comisiones.monto_comision=0,t.next=19,o.contrato_utilidad();case 19:o.setViewComisiones("update");case 20:case"end":return t.stop()}},t,o)}))()},newRowComisiones:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e.$v.form_comisiones.$reset(),e.form_comisiones.fields.id=0,e.form_comisiones.fields.proyecto_id=e.form.fields.id,e.form_comisiones.fields.aliado_id=0,e.form_comisiones.fields.tipo="all",e.form_comisiones.fields.porcentaje=0,e.form_comisiones.fields.monto=0,e.form_comisiones.fields.monto_total=0,e.form_comisiones.fields.metodo_pago="all",e.form_comisiones.fields.contrato_id=0,e.form_comisiones.fields.iva="all",e.form_comisiones.fields.aplicado="all",e.form_comisiones.fields.tiempo_pago="all",e.form_comisiones.fields.observaciones="",e.form_comisiones.monto_bolsa=0,e.form_comisiones.monto_base=0,e.form_comisiones.monto_comision=0,e.setViewComisiones("create");case 18:case"end":return o.stop()}},o,e)}))()},saveComisiones:function(){var e=this;if("A LA UTILIDAD"===this.form_comisiones.fields.aplicado&&(this.form_comisiones.fields.contrato_id=1),this.$v.form_comisiones.fields.$touch(),this.$v.form_comisiones.fields.$error)this.$showMessage("¡Advertencia!","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_comisiones.fields;o.monto_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto),o.monto_total_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto_total),o.year=this.year,this.saveComision(o).then(function(o){var t=o.data;e.loadingButton=!1,"success"===t.result?(e.mensajeNotify("Éxito","green","fas fa-check",t.message.content,"top"),e.cargarDataComisiones(),e.setViewComisiones("grid")):e.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})}},updateComisiones:function(){var e=this;if("A LA UTILIDAD"===this.form_comisiones.fields.aplicado&&(this.form_comisiones.fields.contrato_id=1),this.$v.form_comisiones.fields.$touch(),this.$v.form_comisiones.fields.$error)this.$showMessage("Error","Por favor revise los campos.");else{this.loadingButton=!0;var o=this.form_comisiones.fields;o.monto_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto),o.monto_total_evaluado=this.evaluaMonto(this.form_comisiones.fields.monto_total),this.updateComision(o).then(function(o){var t=o.data;e.loadingButton=!1,e.$showMessage(t.message.title,t.message.content),"success"===t.result&&(e.form_comisiones.loading=!0,e.cargarDataComisiones(),e.setViewComisiones("grid"),e.form_comisiones.loading=!1)}).catch(function(e){console.error(e)})}},deleteComisiones:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta comisión?",ok:"Aceptar",cancel:"Cancelar"}).then(function(){var t={id:e};o.deleteComision(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.cargarDataComisiones(),o.setViewComisiones("grid"))}).catch(function(e){console.error(e)})}).catch(function(){})},isNumber:function(e,o){switch(o){case"cantidad":this.form_comisiones.fields.porcentaje=this.form_comisiones.fields.porcentaje.replace(/[^0-9.]/g,"")}},getContratosOpt:function(){var e=this;this.getContratosOptions({id:this.form.fields.id}).then(function(o){var t=o.data;"success"===t.result&&(t.contratosOptions.length>0?(e.contratosOptions.push({label:"---Seleccione---",value:0}),e.contratosOptions=t.contratosOptions,e.form_comisiones.fields.contrato_id=0):(e.contratosOptions.push({label:"---No hay contratos---",value:0}),e.contratosOptions=[],e.form_comisiones.fields.contrato_id=0))}).catch(function(e){console.error(e)})},contrato_utilidad:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("A LA UTILIDAD"===e.form_comisiones.fields.aplicado&&(e.form_comisiones.fields.contrato_id=1,"A LA UTILIDAD"===e.form_comisiones.fields.aplicado?e.aplicado="UTILIDAD":e.aplicado="CONTRATO"),"all"===e.form_comisiones.fields.tipo||0===e.form_comisiones.fields.porcentaje||"all"===e.form_comisiones.fields.aplicado||0===e.form_comisiones.fields.contrato_id||null===e.form_comisiones.fields.contrato_id||"all"===e.form_comisiones.fields.iva){o.next=4;break}return o.next=4,h.a.get("/recursos/getMontoComision/"+e.form_comisiones.fields.tipo+"/"+e.form_comisiones.fields.porcentaje+"/"+e.form_comisiones.fields.aplicado+"/"+e.form_comisiones.fields.contrato_id+"/"+e.form_comisiones.fields.iva+"/"+e.form.fields.id).then(function(o){var t=o.data;e.form_comisiones.monto_bolsa=t.monto_bolsa,e.form_comisiones.monto_base=t.monto_base,"CANTIDAD FIJA"===e.form_comisiones.fields.tipo?e.form_comisiones.monto_comision=e.form_comisiones.fields.monto:e.form_comisiones.monto_comision=t.monto_comision,"A LA UTILIDAD"===e.form_comisiones.fields.aplicado&&(e.form_comisiones.monto_base=t.utility)}).catch(function(e){console.error(e)});case 4:case"end":return o.stop()}},o,e)}))()},busca:function(){this.form.filter="",this.form.filter_presupuesto="",this.filterByYear()},cancelFactura:function(e){var o=this,t=e;this.cancelarFactura(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&o.cargarFacturas()}).catch(function(e){console.error(e)})},updateFactura:function(e){var o=this,t=e;this.actualizarFactura(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&o.cargarFacturas()}).catch(function(e){console.error(e)})},downloadContrato:function(){var e="https://api_impact.wasp.mx//public/assets/licitaciones/bases/"+this.form.fieldsContrato.documento_pdf+"."+this.form.fieldsContrato.doc_type_pdf;window.open(e,"_blank")},delete_single:function(e){var o=this;this.$q.dialog({title:"Confirmar",message:"¿Desea borrar esta actividad? El monto del project será actualizado.",ok:"Aceptar",cancel:"Cancelar"}).then(function(){o.deleteActSingle(e)}).catch(function(){})},deleteActSingle:function(e){var o=this,t={id:e.id};this.deleteActividadSingle(t).then(function(e){var t=e.data;o.$showMessage(t.message.title,t.message.content),"success"===t.result&&(o.form.fieldsPresupuesto.presupuesto_actual=o.currencyFormat(t.monto_actual),o.cargarDetalles())}).catch(function(e){console.error(e)})},getcom:function(){var e=this;return d()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.cargarDataComisiones();case 2:case"end":return o.stop()}},o,e)}))()},selectedCom:function(e){this.$refs.comisionInput.value="",this.registro_comision=e,this.$refs.comisionInput.click()},uploadComisionFile:function(){var e=this;try{var o=this.$refs.comisionInput.files[0],t=new FormData;t.append("file",o),t.append("nombre",o.name),t.append("comision_id",this.registro_comision.id),null===o||void 0===o||(o.type?"jpg"===o.type.split("/")[1].toLowerCase()||"jpeg"===o.type.split("/")[1].toLowerCase()||"png"===o.type.split("/")[1].toLowerCase()||"pdf"===o.type.split("/")[1].toLowerCase()||"xml"===o.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===o.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),h.a.post("documentos_comisiones/uploadDocumento",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),"success"===t.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.cargarDataComisiones()):""!==t.data.err&&(console.log(o.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",t.data.err)),e.$q.loading.hide()}).catch(function(o){console.error(o),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(o.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},verDocumentosCom:function(e,o){var t="https://api_impact.wasp.mx//public/assets/documentos_comisiones/"+e+"."+o;window.open(t,"_blank")},descargarDocumentoCom:function(e,o){var t="https://api_impact.wasp.mx/documentos_comisiones/getFile/"+e+"/"+o;window.open(t,"_blank")},deleteDocumentoCom:function(e){var o=this;this.$q.dialog({title:"Confirmar acción",message:"¿Desea eliminar el archivo?",ok:"Eliminar",cancel:"Cancelar",preventClose:!0}).then(function(){o.delete_documento_com(e)}).catch(function(){})},delete_documento_com:function(e){var o=this;this.deleteDocumentoComision({id:e}).then(function(e){var t=e.data;"success"===t.result?(o.$q.notify({message:t.message.content,timeout:3e3,type:"green",textColor:"white",icon:"delete",position:"top-right"}),o.cargarDataComisiones()):o.$showMessage(t.message.title,t.message.content)}).catch(function(e){console.error(e)})},uploadPDFFile:function(){var e=this;try{var o=this.$refs.pdfInput.files[0],t=new FormData;t.append("file",o),t.append("nombre",o.name),t.append("id",this.registroContrato.factura_id),null===o||void 0===o||(o.type?"jpg"===o.type.split("/")[1].toLowerCase()||"jpeg"===o.type.split("/")[1].toLowerCase()||"png"===o.type.split("/")[1].toLowerCase()||"pdf"===o.type.split("/")[1].toLowerCase()||"xml"===o.type.split("/")[1].toLowerCase()||"vnd.openxmlformats-officedocument.wordprocessingml.document"===o.type.split("/")[1].toLowerCase()?(this.$q.loading.show({message:"Subiendo archivo..."}),h.a.post("facturasContratos/uploadArchivoPDF",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),"success"===t.data.result?(e.$q.notify({message:"Se ha cargado el archivo",timeout:3e3,type:"green",textColor:"white",icon:"done",position:"top-right"}),e.cargarFacturas()):""!==t.data.err&&(console.log(o.type.split("/")[1].toLowerCase()),e.$showMessage("Errores en archivo",t.data.err)),e.$q.loading.hide()}).catch(function(o){console.error(o),e.$q.loading.hide()})):(this.$showMessage("Error","El tipo de archivo no es el requerido para este requisito."),console.log(o.type.split("/")[1].toLowerCase())):this.$showMessage("Error","No ha seleccionado un archivo con la extensión .jpg, .jpeg, .png, .pdf, .xml"))}catch(e){console.log(e)}},uploadArchivoPDF:function(e){this.$refs.pdfInput.value="",this.registroContrato=e,this.$refs.pdfInput.click()}}),validations:{form:{fields:{cliente_id:{required:p.required,minValue:Object(p.minValue)(1)},subprograma_id:{required:p.required,minValue:Object(p.minValue)(1)},programa_id:{required:p.required,minValue:Object(p.minValue)(1)},fuente_financiamiento:{required:p.required,maxLength:Object(p.maxLength)(100)},nombre:{required:p.required,minLength:Object(p.minLength)(1)},tipo:{required:p.required}},fieldsContrato:{recurso_id:{required:p.required,minValue:Object(p.minValue)(1)},empresa_id:{required:p.required,minValue:Object(p.minValue)(1)},fecha_inicio:{required:p.required},fecha_fin:{required:p.required},num_contrato:{required:p.required},monto_total:{required:p.required,minValue:Object(p.minValue)(1),maxValue:Object(p.maxValue)(1e9)},rep_legal_contrato:{required:p.required,nombreRep:y}},file:{fecha_pago:{required:p.required},fecha_vencimiento:{required:p.required}},retail:{nombre:{required:p.required,minLength:Object(p.minLength)(3)},fecha_pago:{required:p.required},fecha_factura:{required:p.required},fecha_vencimiento:{required:p.required}},fieldsPresupuesto:{recurso_id:{required:p.required,minValue:Object(p.minValue)(1)},inicio:{required:p.required},fin:{required:p.required},presupuesto:{required:p.required,minValue:Object(p.minValue)(1),maxValue:Object(p.maxValue)(1e9)},nombre_proyecto:{required:p.required,maxLength:Object(p.maxLength)(100)},nombre_corto:{required:p.required,maxLength:Object(p.maxLength)(50)},lider_proyecto:{required:p.required}}},form_actividades:{fieldsPresupuesto:{nombre:{required:p.required,maxLength:Object(p.maxLength)(100)},duracion:{required:p.required,minValue:Object(p.minValue)(0)},duracion_restante:{required:p.required,minValue:Object(p.minValue)(0)},inicio:{required:p.required},fin:{required:p.required}}},form_solicitantes:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_colaboradores:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_autorizadores:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)},orden:{required:p.required,minValue:Object(p.minValue)(1)}}},form_responsables:{fieldsPresupuesto:{usuario_id:{required:p.required},perfil:{required:p.required,maxLength:Object(p.maxLength)(30)}}},form_organismos:{fields:{nombre:{required:p.required,maxLength:Object(p.maxLength)(100)}}},form_perfiles:{fieldsPresupuesto:{perfil_id:{required:p.required,minValue:Object(p.minValue)(1)},participacion:{maxLength:Object(p.maxLength)(50)}}},form_comisiones:{fields:{tipo:{required:p.required,minLength:Object(p.minLength)(4)},metodo_pago:{required:p.required,minLength:Object(p.minLength)(4)},contrato_id:{required:p.required,minValue:Object(p.minValue)(1)},iva:{required:p.required,minLength:Object(p.minLength)(4)},aplicado:{required:p.required,minLength:Object(p.minLength)(4)}}}}},q=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-page",[e.views.grid?t("div",[t("div",{staticClass:"q-pa-sm panel-header bg-white"},[t("div",{staticClass:"row"},[t("div",{staticClass:" row col"},[t("div",{staticClass:"col-sm-4"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-breadcrumbs",{attrs:{align:"left"}},[t("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),t("q-breadcrumbs-el",{staticClass:"grey-8 fs28 page-title",staticStyle:{"font-weight":"normal","margin-left":"0"},attrs:{label:"Proyectos"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("center",[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn-toggle",{attrs:{color:"teal","toggle-color":"primary",options:e.selectYear},on:{input:function(o){e.filterByYear()}},model:{value:e.year,callback:function(o){e.year=o},expression:"year"}})],1)])],1),e._v(" "),t("div",{staticClass:"col-sm-4 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},["Cobranza"!==e.role&&"Operación"!==e.role?t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add",label:"Nuevo"},on:{click:function(o){e.newRow()}}}):e._e()],1)])])])]),e._v(" "),t("div",{staticClass:"q-pa-md bg-grey-3"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col"},[t("div",{staticClass:"col q-pa-md border-panel"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"work","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Búsqueda",options:e.busquedaOptions,filter:""},on:{input:function(o){e.busca()}},model:{value:e.form.busqueda,callback:function(o){e.$set(e.form,"busqueda",o)},expression:"form.busqueda"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"search","icon-color":"dark"}},["PROYECTO"===e.form.busqueda?t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Proyecto"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}}):e._e(),e._v(" "),"PRESUPUESTO"===e.form.busqueda?t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Presupuesto"},on:{input:e.filterByYear},model:{value:e.form.filter_presupuesto,callback:function(o){e.$set(e.form,"filter_presupuesto",o)},expression:"form.filter_presupuesto"}}):e._e()],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form.data_recursos,columns:e.form.columns,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"codigo",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clickFila(o.row)}}},[e._v(e._s(o.row.codigo))]),e._v(" "),t("q-td",{key:"nombre",staticStyle:{"text-align":"left"},attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"razon_social",staticStyle:{"text-align":"left"},attrs:{props:o}},[e._v(e._s(o.row.razon_social))]),e._v(" "),t("q-td",{key:"programa",attrs:{props:o}},[e._v(e._s(o.row.programa_nombre))]),e._v(" "),t("q-td",{key:"subprograma",attrs:{props:o}},[e._v(e._s(o.row.subprograma_nombre))]),e._v(" "),t("q-td",{key:"creador",attrs:{props:o}},[e._v(e._s(o.row.creador))]),e._v(" "),t("q-td",{key:"fecha_creacion",staticStyle:{"text-align":"center"},attrs:{props:o}},[e._v(e._s(o.row.fecha_creacion))]),e._v(" "),t("q-td",{key:"monto",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto)))]),e._v(" "),t("q-td",{key:"rubro",attrs:{props:o}},[e._v(e._s(o.row.rubro))]),e._v(" "),t("q-td",{key:"year",staticStyle:{"text-align":"center"},attrs:{props:o}},[e._v(e._s(o.row.year))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"===e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"fas fa-eye"},on:{click:function(t){e.editRow(o.row)}}},[t("q-tooltip",[e._v("Ver")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(t){e.editRow(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteSingleRow(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])])]):e._e(),e._v(" "),e.views.create?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row col"},[t("div",{staticClass:"col-sm-4"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-breadcrumbs",{attrs:{align:"left"}},[t("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),t("q-breadcrumbs-el",{staticClass:"q-ml-sm grey-8 fs28 page-title",staticStyle:{"font-weight":"normal","margin-left":"0"},attrs:{label:"Proyectos",to:""},nativeOn:{click:function(o){e.setView("grid")}}}),e._v(" "),t("q-breadcrumbs-el",{staticClass:"q-ml-sm grey-8 fs28 page-title",staticStyle:{"font-weight":"normal","margin-left":"0","padding-left":"0"},attrs:{label:"Nuevo proyecto"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-4 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn-toggle",{attrs:{color:"teal","toggle-color":"primary",options:e.selectYear},model:{value:e.year,callback:function(o){e.year=o},expression:"year"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-4 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.setView("grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.save()}}},[e._v("Guardar")])],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md bg-grey-3"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fields.cliente_id.$error,"error-label":"Elija un cliente"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form.fields.cliente_id,callback:function(o){e.$set(e.form.fields,"cliente_id",o)},expression:"form.fields.cliente_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fields.tipo.$error,"error-label":"Elija un programa general"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Programa general",options:e.programageneralOptions,filter:""},model:{value:e.form.fields.tipo,callback:function(o){e.$set(e.form.fields,"tipo",o)},expression:"form.fields.tipo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fields.programa_id.$error,"error-label":"Elija un programa"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Programa",options:e.programasOptions,filter:""},on:{input:function(o){e.selectSubprograma()}},model:{value:e.form.fields.programa_id,callback:function(o){e.$set(e.form.fields,"programa_id",o)},expression:"form.fields.programa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.subprograma_id.$error,"error-label":"Elija un subprograma"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Subprograma",options:e.subprogramasOptions,filter:""},model:{value:e.form.fields.subprograma_id,callback:function(o){e.$set(e.form.fields,"subprograma_id",o)},expression:"form.fields.subprograma_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-8"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.nombre.$error,"error-label":"Escriba un nombre"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre",maxlength:"100"},model:{value:e.form.fields.nombre,callback:function(o){e.$set(e.form.fields,"nombre",o)},expression:"form.fields.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Rubro",maxlength:"100"},model:{value:e.form.fields.rubro,callback:function(o){e.$set(e.form.fields,"rubro",o)},expression:"form.fields.rubro"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado principal",maxlength:"1000"},model:{value:e.form.fields.aliado,callback:function(o){e.$set(e.form.fields,"aliado",o)},expression:"form.fields.aliado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado1,callback:function(o){e.$set(e.form.fields,"aliado1",o)},expression:"form.fields.aliado1"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado2,callback:function(o){e.$set(e.form.fields,"aliado2",o)},expression:"form.fields.aliado2"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado3,callback:function(o){e.$set(e.form.fields,"aliado3",o)},expression:"form.fields.aliado3"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.fuente_financiamiento.$error,"error-label":"Ingrese la fuente de financiamiento"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Fuente de financiamiento",maxlength:"100"},model:{value:e.form.fields.fuente_financiamiento,callback:function(o){e.$set(e.form.fields,"fuente_financiamiento",o)},expression:"form.fields.fuente_financiamiento"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto de la bolsa",suffix:"MXN"},model:{value:e.form.fields.montovalidar,callback:function(o){e.$set(e.form.fields,"montovalidar",o)},expression:"form.fields.montovalidar"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo de venta",options:e.adjudicacionOptions,filter:""},model:{value:e.form.fields.adjudicacion,callback:function(o){e.$set(e.form.fields,"adjudicacion",o)},expression:"form.fields.adjudicacion"}})],1)],1)])])])])]):e._e(),e._v(" "),e.views.update?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row col"},[t("div",{staticClass:"col-sm-6"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-breadcrumbs",{staticStyle:{"font-weight":"normal"},attrs:{align:"left"}},[t("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),t("q-breadcrumbs-el",{staticClass:"grey-8 fs28 page-title",staticStyle:{"font-weight":"normal"},attrs:{label:"Proyectos",to:""},nativeOn:{click:function(o){e.setView("grid")}}}),e._v(" "),t("q-breadcrumbs-el",{staticClass:"grey-8 fs28 page-title",staticStyle:{"font-weight":"normal"},attrs:{label:" "}}),t("label",{staticStyle:{"padding-top":"10px"}},[e._v(e._s(e.form.fields.codigo)+" ")])],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.setView("grid")}}}),e._v(" "),"Operación"!==e.role?t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.update()}}},[e._v("Guardar")]):e._e()],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md bg-grey-3"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-key","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Código",readonly:""},model:{value:e.form.fields.codigo,callback:function(o){e.$set(e.form.fields,"codigo",o)},expression:"form.fields.codigo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fields.cliente_id.$error,"error-label":"Elija un cliente"}},["Admin"===e.role||"Cobranza"===e.role&&"2020"===e.year||"Root"===e.role||"Planeación"===e.role?t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form.fields.cliente_id,callback:function(o){e.$set(e.form.fields,"cliente_id",o)},expression:"form.fields.cliente_id"}}):t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Cliente",options:e.clientesOptions,filter:"",readonly:""},model:{value:e.form.fields.cliente_id,callback:function(o){e.$set(e.form.fields,"cliente_id",o)},expression:"form.fields.cliente_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fields.tipo.$error,"error-label":"Elija un programa general"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Programa general",options:e.programageneralOptions,filter:""},model:{value:e.form.fields.tipo,callback:function(o){e.$set(e.form.fields,"tipo",o)},expression:"form.fields.tipo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fields.programa_id.$error,"error-label":"Elija un programa"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Programa",options:e.programasOptions,filter:"",readonly:"Admin"!==e.role&&"Planeación"!==e.role&&"Root"!==e.role},on:{input:function(o){e.selectSubprograma()}},model:{value:e.form.fields.programa_id,callback:function(o){e.$set(e.form.fields,"programa_id",o)},expression:"form.fields.programa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.subprograma_id.$error,"error-label":"Elija un subprograma"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Subprograma",options:e.subprogramasOptions,filter:"",readonly:"Admin"!==e.role&&"Planeación"!==e.role&&"Root"!==e.role},model:{value:e.form.fields.subprograma_id,callback:function(o){e.$set(e.form.fields,"subprograma_id",o)},expression:"form.fields.subprograma_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.nombre.$error,"error-label":"Escriba el nombre del proyecto"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre",maxlength:"100"},model:{value:e.form.fields.nombre,callback:function(o){e.$set(e.form.fields,"nombre",o)},expression:"form.fields.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark",error:e.$v.form.fields.fuente_financiamiento.$error,"error-label":"Ingrese la fuente de financiamiento"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Fuente de financiamiento",maxlength:"100"},model:{value:e.form.fields.fuente_financiamiento,callback:function(o){e.$set(e.form.fields,"fuente_financiamiento",o)},expression:"form.fields.fuente_financiamiento"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado principal",maxlength:"100"},model:{value:e.form.fields.aliado,callback:function(o){e.$set(e.form.fields,"aliado",o)},expression:"form.fields.aliado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado1,callback:function(o){e.$set(e.form.fields,"aliado1",o)},expression:"form.fields.aliado1"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado2,callback:function(o){e.$set(e.form.fields,"aliado2",o)},expression:"form.fields.aliado2"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Aliado",maxlength:"100"},model:{value:e.form.fields.aliado3,callback:function(o){e.$set(e.form.fields,"aliado3",o)},expression:"form.fields.aliado3"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Rubro",maxlength:"100"},model:{value:e.form.fields.rubro,callback:function(o){e.$set(e.form.fields,"rubro",o)},expression:"form.fields.rubro"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto de la bolsa",suffix:"MXN"},model:{value:e.form.fields.montovalidar,callback:function(o){e.$set(e.form.fields,"montovalidar",o)},expression:"form.fields.montovalidar"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto licitado",suffix:"MXN"},model:{value:e.form.fields.monto_licitado,callback:function(o){e.$set(e.form.fields,"monto_licitado",o)},expression:"form.fields.monto_licitado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{eadonly:"",inverted:"",color:"dark","float-label":"Monto adjudicado",suffix:"MXN"},model:{value:e.form.fields.monto_adjudicado,callback:function(o){e.$set(e.form.fields,"monto_adjudicado",o)},expression:"form.fields.monto_adjudicado"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto adjudicado(contratos)",suffix:"MXN"},model:{value:e.form.fields.suma_contratos,callback:function(o){e.$set(e.form.fields,"suma_contratos",o)},expression:"form.fields.suma_contratos"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo de venta",options:e.adjudicacionOptions,filter:""},model:{value:e.form.fields.adjudicacion,callback:function(o){e.$set(e.form.fields,"adjudicacion",o)},expression:"form.fields.adjudicacion"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"store","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Sucursal",options:e.sucursalesOptions,filter:""},model:{value:e.form.fields.sucursal_id,callback:function(o){e.$set(e.form.fields,"sucursal_id",o)},expression:"form.fields.sucursal_id"}})],1)],1)])])]),e._v(" "),t("q-tabs",{staticClass:"shadow-1 bg-white",staticStyle:{"margin-top":"25px","padding-top":"1%"},attrs:{inverted:"",animated:"",swipeable:"",color:"teal",align:"justify"},model:{value:e.tabPrincipal,callback:function(o){e.tabPrincipal=o},expression:"tabPrincipal"}},[t("q-tab",{attrs:{slot:"title",default:"",name:"contratos",icon:"insert_drive_file",label:"Contratos"},slot:"title"}),e._v(" "),t("q-tab",{attrs:{slot:"title",name:"projects",icon:"work",label:"Presupuesto"},slot:"title"}),e._v(" "),t("q-tab",{attrs:{slot:"title",name:"organismos",icon:"folder",label:"Organismos de apoyo"},slot:"title"}),e._v(" "),"Admin"===e.role||"Root"===e.role||"Finanzas/Comisiones"===e.role?t("q-tab",{attrs:{slot:"title",name:"comisiones",icon:"fas fa-donate",label:"C.C."},slot:"title"}):e._e(),e._v(" "),t("q-tab-pane",{staticClass:"bg-white",staticStyle:{padding:"0"},attrs:{name:"contratos"}},[e.viewsContrato.grid?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},["Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add",label:"Nuevo"},on:{click:function(o){e.newRowContrato()}}}):e._e()],1)])])]),e._v(" "),t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none","margin-top":"-2%"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.fieldsContrato.filter,callback:function(o){e.$set(e.form.fieldsContrato,"filter",o)},expression:"form.fieldsContrato.filter"}})],1),e._v(" "),t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_presupuestos.data_contratos,columns:e.form.columnsContrato,selected:e.form.selected,filter:e.form.fieldsContrato.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"num_contrato",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaContrato(o.row)}}},[e._v(e._s(o.row.num_contrato))]),e._v(" "),t("q-td",{key:"nombre",staticStyle:{"text-align":"left"},attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"monto_total",staticStyle:{"text-align":"right"},attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto_total)))]),e._v(" "),t("q-td",{key:"recurso",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaContrato(o.row)}}},[e._v(e._s(o.row.recurso))]),e._v(" "),t("q-td",{key:"licitacion",attrs:{props:o}},[e._v(e._s(o.row.licitacion))]),e._v(" "),t("q-td",{key:"razon_social",staticStyle:{"text-align":"left"},attrs:{props:o}},[e._v(e._s(o.row.razon_social))]),e._v(" "),t("q-td",{key:"fecha_inicio",attrs:{props:o}},[e._v(e._s(o.row.f_inicio))]),e._v(" "),t("q-td",{key:"fecha_fin",attrs:{props:o}},[e._v(e._s(o.row.f_fin))]),e._v(" "),t("q-td",{key:"documento_final",attrs:{props:o}},[t("input",{ref:"contratoInput",staticStyle:{display:"none"},attrs:{id:"archivo",inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf"},on:{change:function(o){e.uploadContratoFile()}}}),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"green-9",loading:e.loadingButton},on:{click:function(t){e.selectedRowContrato(o.row)}}},[t("q-icon",{attrs:{name:"cloud_upload"}}),e._v(" \n                            "),t("q-tooltip",[e._v("Subir carta de entera satisfacción")])],1):e._e(),e._v(" "),null!==o.row.documento_final?t("q-btn",{attrs:{small:"",flat:"",icon:o.row.icon,color:o.row.color}},[t("q-tooltip",[e._v(e._s(o.row.documento_final))]),e._v(" "),t("q-popover",[t("q-list",{staticClass:"scroll",staticStyle:{"min-width":"100px"},attrs:{link:"",separator:""}},["docx"!==o.row.extension&&"xml"!==o.row.extension&&"xlsx"!==o.row.extension?t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.verDocumentoContrato(o.row.id,o.row.extension)}}},[t("q-item-main",{attrs:{label:"Ver"}})],1):e._e(),e._v(" "),t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.descargarDocumentoContrato(o.row.id,o.row.extension)}}},[t("q-item-main",{attrs:{label:"Descargar"}})],1),e._v(" "),t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.eliminarDocumentoContrato(o.row.id)}}},[t("q-item-main",{attrs:{label:"Eliminar"}})],1)],1)],1)],1):e._e()],1),e._v(" "),t("q-td",{key:"acciones",staticStyle:{"text-align":"center"},attrs:{props:o}},["Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"visibility"},on:{click:function(t){e.seeRowContrato(o.row)}}},[t("q-tooltip",[e._v("Ver detalles")])],1):e._e(),e._v(" "),"Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(t){e.editRowContrato(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteSingleContrato(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1),e._v(" "),e.modal_ver_contrato?t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-12"},[t("q-btn",{attrs:{color:"negative",icon:"visibility_off"},on:{click:function(o){e.modal_ver_contrato=!1}}},[t("q-tooltip",[e._v("Ocultar información")])],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"margin-top":"10px"}},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark",error:e.$v.form.fieldsContrato.num_contrato.$error,"error-label":"Ingrese el número de contrato"}},[t("q-input",{attrs:{"upper-case":"","inverted-color":"dark","float-label":"Número de contrato"},model:{value:e.form.fieldsContrato.num_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"num_contrato",o)},expression:"form.fieldsContrato.num_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija una empresa"}},[t("q-select",{attrs:{"inverted-color":"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsContrato.empresa_id,callback:function(o){e.$set(e.form.fieldsContrato,"empresa_id",o)},expression:"form.fieldsContrato.empresa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"","inverted-color":"dark","float-label":"Cliente"},model:{value:e.cliente,callback:function(o){e.cliente=o},expression:"cliente"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"","inverted-color":"dark","float-label":"Nombre",maxlength:"100"},model:{value:e.form.fieldsContrato.nombre,callback:function(o){e.$set(e.form.fieldsContrato,"nombre",o)},expression:"form.fieldsContrato.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_inicio.$error,"error-label":"Ingrese la fecha inicio"}},[t("q-datetime",{attrs:{type:"date","inverted-color":"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsContrato.fecha_inicio,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_inicio",o)},expression:"form.fieldsContrato.fecha_inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_fin.$error,"error-label":"Ingrese la fecha fin"}},[t("q-datetime",{attrs:{type:"date","inverted-color":"dark","float-label":"Fecha fin",align:"center"},model:{value:e.form.fieldsContrato.fecha_fin,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_fin",o)},expression:"form.fieldsContrato.fecha_fin"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{"inverted-color":"dark","float-label":"Organismo de apoyo",options:e.organismosOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.organismo_id,callback:function(o){e.$set(e.form.fieldsContrato,"organismo_id",o)},expression:"form.fieldsContrato.organismo_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{decimals:0,"inverted-color":"dark","float-label":"Porcentaje","numeric-keyboard-toggle":"",type:"number",suffix:"%",readonly:0===parseInt(e.form.fieldsContrato.organismo_id)},model:{value:e.form.fieldsContrato.porcentaje,callback:function(o){e.$set(e.form.fieldsContrato,"porcentaje",o)},expression:"form.fieldsContrato.porcentaje"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{"inverted-color":"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.licitacion_id,callback:function(o){e.$set(e.form.fieldsContrato,"licitacion_id",o)},expression:"form.fieldsContrato.licitacion_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fieldsContrato.rep_legal_contrato.$error,"error-label":"Ingrese el nombre del representante"}},[t("q-input",{attrs:{"upper-case":"","inverted-color":"dark","float-label":"Representante legal del contrato"},model:{value:e.form.fieldsContrato.rep_legal_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"rep_legal_contrato",o)},expression:"form.fieldsContrato.rep_legal_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form.fieldsContrato.monto_total.$error,"error-label":"Ingrese el monto ($1.00 - $1,000,000,000.00)"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{"inverted-color":"dark","float-label":"Monto",suffix:"MXN"},model:{value:e.form.fieldsContrato.monto_total_validar,callback:function(o){e.$set(e.form.fieldsContrato,"monto_total_validar",o)},expression:"form.fieldsContrato.monto_total_validar"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"label","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"","inverted-color":"dark","float-label":"Observaciones"},model:{value:e.form.fieldsContrato.observaciones,callback:function(o){e.$set(e.form.fieldsContrato,"observaciones",o)},expression:"form.fieldsContrato.observaciones"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col q-pa-md col-sm-12"},[e._v("\n                        Facturas\n                      ")]),e._v(" "),e.Datofactura?t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.fieldsContrato.filter,callback:function(o){e.$set(e.form.fieldsContrato,"filter",o)},expression:"form.fieldsContrato.filter"}})],1),e._v(" "),t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.facturas,columns:e.form.fileColumnContrato,selected:e.form.selected,filter:e.form.fieldsContrato.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"id",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.factura_id))]),e._v(" "),t("q-td",{key:"nombre",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.name))]),e._v(" "),t("q-td",{key:"extension",attrs:{props:o}},[e._v(e._s(o.row.doc_type))]),e._v(" "),t("q-td",{key:"fecha_factura",attrs:{props:o}},[e._v(e._s(o.row.fecha_factura))]),e._v(" "),t("q-td",{key:"fecha_pago",attrs:{props:o}},[e._v(e._s(o.row.fecha_pago))]),e._v(" "),t("q-td",{key:"fecha_vencimiento",attrs:{props:o}},[e._v(e._s(o.row.fecha_vencimiento))]),e._v(" "),t("q-td",{key:"monto_factura",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto_factura)))]),e._v(" "),t("q-td",{key:"folio_fiscal",attrs:{props:o}},[e._v(e._s(o.row.folio_fiscal))]),e._v(" "),t("q-td",{key:"cancelada",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.cancelFactura(o.row)}},model:{value:o.row.cancelada,callback:function(t){e.$set(o.row,"cancelada",t)},expression:"props.row.cancelada"}})],1),e._v(" "),t("q-td",{key:"nota_credito",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.updateFactura(o.row)}},model:{value:o.row.nota_credito,callback:function(t){e.$set(o.row,"nota_credito",t)},expression:"props.row.nota_credito"}})],1),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"get_app"},on:{click:function(t){e.abrirDocumento(o.row.factura_id,o.row.doc_type)}}},[t("q-tooltip",[e._v("Ver")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteDoc(o.row.factura_id)}}},[t("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1):e._e()]):e._e()]):e._e(),e._v(" "),e.viewsContrato.create?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-breadcrumbs",{attrs:{align:"left"}},[t("q-breadcrumbs-el",{attrs:{label:"",icon:"home",to:"/dashboard"}}),e._v(" "),t("q-breadcrumbs-el",{attrs:{label:"Contratos",to:""},nativeOn:{click:function(o){e.returnToView("contrato","grid")}}}),e._v(" "),t("q-breadcrumbs-el",{attrs:{label:"Nuevo contrato"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.returnToView("contrato","grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.saveContratos()}}},[e._v("Guardar")])],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark",error:e.$v.form.fieldsContrato.num_contrato.$error,"error-label":"Ingrese el número de contrato"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Número de contrato"},model:{value:e.form.fieldsContrato.num_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"num_contrato",o)},expression:"form.fieldsContrato.num_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija una empresa"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsContrato.empresa_id,callback:function(o){e.$set(e.form.fieldsContrato,"empresa_id",o)},expression:"form.fieldsContrato.empresa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Cliente"},model:{value:e.cliente,callback:function(o){e.cliente=o},expression:"cliente"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre",maxlength:"100"},model:{value:e.form.fieldsContrato.nombre,callback:function(o){e.$set(e.form.fieldsContrato,"nombre",o)},expression:"form.fieldsContrato.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_inicio.$error,"error-label":"Ingrese la fecha inicio"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsContrato.fecha_inicio,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_inicio",o)},expression:"form.fieldsContrato.fecha_inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_fin.$error,"error-label":"Ingrese la fecha fin"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha fin",align:"center"},model:{value:e.form.fieldsContrato.fecha_fin,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_fin",o)},expression:"form.fieldsContrato.fecha_fin"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Organismo de apoyo",options:e.organismosOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.organismo_id,callback:function(o){e.$set(e.form.fieldsContrato,"organismo_id",o)},expression:"form.fieldsContrato.organismo_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{decimals:0,inverted:"",color:"dark","float-label":"Porcentaje","numeric-keyboard-toggle":"",type:"number",suffix:"%",readonly:0===parseInt(e.form.fieldsContrato.organismo_id)},model:{value:e.form.fieldsContrato.porcentaje,callback:function(o){e.$set(e.form.fieldsContrato,"porcentaje",o)},expression:"form.fieldsContrato.porcentaje"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.licitacion_id,callback:function(o){e.$set(e.form.fieldsContrato,"licitacion_id",o)},expression:"form.fieldsContrato.licitacion_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-6",staticStyle:{"margin-top":"2px"}},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fieldsContrato.rep_legal_contrato.$error,"error-label":"Ingrese el nombre del representante"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Representante legal del contrato"},model:{value:e.form.fieldsContrato.rep_legal_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"rep_legal_contrato",o)},expression:"form.fieldsContrato.rep_legal_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form.fieldsContrato.monto_total.$error,"error-label":"Ingrese el monto ($1.00 - $1,000,000,000.00)"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto",suffix:"MXN"},model:{value:e.form.fieldsContrato.monto_total_validar,callback:function(o){e.$set(e.form.fieldsContrato,"monto_total_validar",o)},expression:"form.fieldsContrato.monto_total_validar"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"label","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fieldsContrato.observaciones,callback:function(o){e.$set(e.form.fieldsContrato,"observaciones",o)},expression:"form.fieldsContrato.observaciones"}})],1)],1)]),e._v(" "),e.Datofactura?t("div",{staticClass:"col q-pa-md col-sm-12"},[e._v("\n                        Facturas\n                      ")]):e._e(),e._v(" "),e.Datofactura?t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.file.fecha_pago.$error,"error-label":"Ingrese la fecha de pago"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de pago",align:"center"},model:{value:e.form.file.fecha_pago,callback:function(o){e.$set(e.form.file,"fecha_pago",o)},expression:"form.file.fecha_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.file.fecha_vencimiento.$error,"error-label":"Ingrese la fecha de vencimiento"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de vencimiento",align:"center"},model:{value:e.form.file.fecha_vencimiento,callback:function(o){e.$set(e.form.file,"fecha_vencimiento",o)},expression:"form.file.fecha_vencimiento"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"attach_file","icon-color":"dark"}},[t("input",{ref:"fileInputFormato",staticStyle:{display:"none"},attrs:{inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf, .PNG, .JPG, .JPEG, .XML, .DOCX, .00, .PDF"},on:{input:function(o){e.checkContrato()}}}),e._v(" "),!0!==e.show_file_contrato?t("q-btn",{staticClass:"btn_atach",attrs:{loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")]):t("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")])],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(o){e.uploadFormato()}}},[e._v("Guardar Factura")])],1)]):e._e(),e._v(" "),e.Datofactura?t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.fieldsContrato.filter,callback:function(o){e.$set(e.form.fieldsContrato,"filter",o)},expression:"form.fieldsContrato.filter"}})],1),e._v(" "),t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.facturas,columns:e.form.fileColumnContrato,selected:e.form.selected,filter:e.form.fieldsContrato.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"id",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.folio_xml))]),e._v(" "),t("q-td",{key:"nombre",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.name))]),e._v(" "),t("q-td",{key:"extension",attrs:{props:o}},[e._v(e._s(o.row.doc_type))]),e._v(" "),t("q-td",{key:"fecha_factura",attrs:{props:o}},[e._v(e._s(o.row.fecha_factura))]),e._v(" "),t("q-td",{key:"fecha_pago",attrs:{props:o}},[e._v(e._s(o.row.fecha_pago))]),e._v(" "),t("q-td",{key:"fecha_vencimiento",attrs:{props:o}},[e._v(e._s(o.row.fecha_vencimiento))]),e._v(" "),t("q-td",{key:"monto_factura",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto_factura)))]),e._v(" "),t("q-td",{key:"folio_fiscal",attrs:{props:o}},[e._v(e._s(o.row.folio_fiscal))]),e._v(" "),t("q-td",{key:"cancelada",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.cancelFactura(o.row)}},model:{value:o.row.cancelada,callback:function(t){e.$set(o.row,"cancelada",t)},expression:"props.row.cancelada"}})],1),e._v(" "),t("q-td",{key:"nota_credito",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.updateFactura(o.row)}},model:{value:o.row.nota_credito,callback:function(t){e.$set(o.row,"nota_credito",t)},expression:"props.row.nota_credito"}})],1),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"get_app"},on:{click:function(t){e.abrirDocumento(o.row.factura_id+"."+o.row.doc_type)}}},[t("q-tooltip",[e._v("Ver")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteDoc(o.row.factura_id)}}},[t("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1):e._e()])])])]):e._e(),e._v(" "),e.viewsContrato.update?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"})]),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.setViewContrato("grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.updateContratos()}}},[e._v("Guardar")])],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"work","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Proyecto",options:e.recursosOptions,filter:"",readonly:this.role.toUpperCase()!=="admin".toUpperCase()&&this.role.toUpperCase()!=="root".toUpperCase()},on:{input:function(o){e.updateContratosGrid()}},model:{value:e.form.fieldsContrato.recurso_id,callback:function(o){e.$set(e.form.fieldsContrato,"recurso_id",o)},expression:"form.fieldsContrato.recurso_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark",error:e.$v.form.fieldsContrato.num_contrato.$error,"error-label":"Ingrese el número de contrato"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Número de contrato"},model:{value:e.form.fieldsContrato.num_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"num_contrato",o)},expression:"form.fieldsContrato.num_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija una empresa"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsContrato.empresa_id,callback:function(o){e.$set(e.form.fieldsContrato,"empresa_id",o)},expression:"form.fieldsContrato.empresa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Cliente"},model:{value:e.cliente,callback:function(o){e.cliente=o},expression:"cliente"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre",maxlength:"100"},model:{value:e.form.fieldsContrato.nombre,callback:function(o){e.$set(e.form.fieldsContrato,"nombre",o)},expression:"form.fieldsContrato.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_inicio.$error,"error-label":"Ingrese la fecha inicio"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsContrato.fecha_inicio,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_inicio",o)},expression:"form.fieldsContrato.fecha_inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsContrato.fecha_fin.$error,"error-label":"Ingrese la fecha fin"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha fin",align:"center"},model:{value:e.form.fieldsContrato.fecha_fin,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_fin",o)},expression:"form.fieldsContrato.fecha_fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Organismo de apoyo",options:e.organismosOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.organismo_id,callback:function(o){e.$set(e.form.fieldsContrato,"organismo_id",o)},expression:"form.fieldsContrato.organismo_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{decimals:0,inverted:"",color:"dark","float-label":"Porcentaje","numeric-keyboard-toggle":"",type:"number",suffix:"%",readonly:0===parseInt(e.form.fieldsContrato.organismo_id)},model:{value:e.form.fieldsContrato.porcentaje,callback:function(o){e.$set(e.form.fieldsContrato,"porcentaje",o)},expression:"form.fieldsContrato.porcentaje"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.licitacion_id,callback:function(o){e.$set(e.form.fieldsContrato,"licitacion_id",o)},expression:"form.fieldsContrato.licitacion_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark",error:e.$v.form.fieldsContrato.rep_legal_contrato.$error,"error-label":"Ingrese el nombre del representante"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Representante legal del contrato"},model:{value:e.form.fieldsContrato.rep_legal_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"rep_legal_contrato",o)},expression:"form.fieldsContrato.rep_legal_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form.fieldsContrato.monto_total.$error,"error-label":"Ingrese el monto ($1.00 - $1,000,000,000.00)"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto",suffix:"MXN"},model:{value:e.form.fieldsContrato.monto_total_validar,callback:function(o){e.$set(e.form.fieldsContrato,"monto_total_validar",o)},expression:"form.fieldsContrato.monto_total_validar"}})],1)],1)]),e._v(" "),0!==this.form.fieldsContrato.documento_pdf?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file-pdf","icon-color":"red"}},[t("q-btn",{attrs:{color:"red",label:e.form.fieldsContrato.nombre_pdf},on:{click:function(o){e.downloadContrato()}}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"label","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form.fieldsContrato.observaciones,callback:function(o){e.$set(e.form.fieldsContrato,"observaciones",o)},expression:"form.fieldsContrato.observaciones"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col q-pa-md col-sm-12"},[e._v("\n                        Facturas\n                      ")]),e._v(" "),e.Datofactura?t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija un tipo de factura"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo de factura",options:e.tiposFacturaOptions,filter:""},model:{value:e.form.tipo_factura,callback:function(o){e.$set(e.form,"tipo_factura",o)},expression:"form.tipo_factura"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-9"})]):e._e(),e._v(" "),e.Datofactura&&"GDP"===e.form.tipo_factura?t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.file.fecha_pago.$error,"error-label":"Ingrese la fecha de pago"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de pago",align:"center"},model:{value:e.form.file.fecha_pago,callback:function(o){e.$set(e.form.file,"fecha_pago",o)},expression:"form.file.fecha_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.file.fecha_vencimiento.$error,"error-label":"Ingrese la fecha de vencimiento"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de vencimiento",align:"center"},model:{value:e.form.file.fecha_vencimiento,callback:function(o){e.$set(e.form.file,"fecha_vencimiento",o)},expression:"form.file.fecha_vencimiento"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3",staticStyle:{"padding-left":"10px"}},[t("input",{ref:"fileInputFormato",staticStyle:{display:"none"},attrs:{inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf, .PNG, .JPG, .JPEG, .XML, .DOCX, .00, .PDF"},on:{input:function(o){e.checkContrato()}}}),e._v(" "),!0!==e.show_file_contrato?t("q-btn",{staticClass:"btn_atach",attrs:{loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")]):t("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputFormato.click()}}},[e._v("Adjuntar Factura")]),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(o){e.uploadFormato()}}},[e._v("Guardar Factura")])],1)]):e._e(),e._v(" "),e.Datofactura&&"retail"===e.form.tipo_factura?t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"description","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"RFC"},model:{value:e.form.retail.rfc,callback:function(o){e.$set(e.form.retail,"rfc",o)},expression:"form.retail.rfc"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"description","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Razon social"},model:{value:e.form.retail.razon_social,callback:function(o){e.$set(e.form.retail,"razon_social",o)},expression:"form.retail.razon_social"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"description","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Folio fiscal"},model:{value:e.form.retail.folio_fiscal,callback:function(o){e.$set(e.form.retail,"folio_fiscal",o)},expression:"form.retail.folio_fiscal"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"description","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Serie"},model:{value:e.form.retail.serie,callback:function(o){e.$set(e.form.retail,"serie",o)},expression:"form.retail.serie"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.retail.fecha_factura.$error,"error-label":"Ingrese la fecha de factura"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de emisión",align:"center"},model:{value:e.form.retail.fecha_factura,callback:function(o){e.$set(e.form.retail,"fecha_factura",o)},expression:"form.retail.fecha_factura"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.retail.fecha_pago.$error,"error-label":"Ingrese la fecha de pago"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha de pago",align:"center"},model:{value:e.form.retail.fecha_pago,callback:function(o){e.$set(e.form.retail,"fecha_pago",o)},expression:"form.retail.fecha_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija un método de pago"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoOptions,filter:""},model:{value:e.form.retail.metodo_pago,callback:function(o){e.$set(e.form.retail,"metodo_pago",o)},expression:"form.retail.metodo_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija un tipo de comprobante"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo de comprobante",options:e.tiposComprobanteOptions,filter:""},model:{value:e.form.retail.tipo_comprobante,callback:function(o){e.$set(e.form.retail,"tipo_comprobante",o)},expression:"form.retail.tipo_comprobante"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija una forma de pago"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Forma de pago",options:e.formaPagoOptions,filter:""},model:{value:e.form.retail.forma_pago,callback:function(o){e.$set(e.form.retail,"forma_pago",o)},expression:"form.retail.forma_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark",error:e.$v.form.fieldsContrato.empresa_id.$error,"error-label":"Elija un uso CFDI"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Uso CFDI",options:e.usoCFDIOptions,filter:""},model:{value:e.form.retail.uso_cfdi,callback:function(o){e.$set(e.form.retail,"uso_cfdi",o)},expression:"form.retail.uso_cfdi"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{loading:e.loadingButton},on:{click:function(o){e.uploadFormato()}}},[e._v("Guardar Factura")])],1)]):e._e(),e._v(" "),e.Datofactura?t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.fieldsContrato.filter,callback:function(o){e.$set(e.form.fieldsContrato,"filter",o)},expression:"form.fieldsContrato.filter"}})],1),e._v(" "),t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.facturas,columns:e.form.fileColumnContrato,selected:e.form.selected,filter:e.form.fieldsContrato.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"bottom-row",fn:function(o){return t("q-tr",{},[t("q-td",{staticStyle:{"text-align":"right"},attrs:{colspan:"100%"}},[t("strong",[e._v("Total: $"+e._s(e.totalContratos)+" MXN")])])],1)}},{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"id",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.folio_xml))]),e._v(" "),t("q-td",{key:"nombre",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.name))]),e._v(" "),t("q-td",{key:"extension",attrs:{props:o}},[e._v(e._s(o.row.doc_type))]),e._v(" "),t("q-td",{key:"fecha_factura",attrs:{props:o}},[e._v(e._s(o.row.fecha_factura))]),e._v(" "),t("q-td",{key:"fecha_pago",attrs:{props:o}},[e._v(e._s(o.row.fecha_pago))]),e._v(" "),t("q-td",{key:"fecha_vencimiento",attrs:{props:o}},[e._v(e._s(o.row.fecha_vencimiento))]),e._v(" "),t("q-td",{key:"monto_factura",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto_factura)))]),e._v(" "),t("q-td",{key:"folio_fiscal",attrs:{props:o}},[e._v(e._s(o.row.folio_fiscal))]),e._v(" "),t("q-td",{key:"cancelada",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.cancelFactura(o.row)}},model:{value:o.row.cancelada,callback:function(t){e.$set(o.row,"cancelada",t)},expression:"props.row.cancelada"}})],1),e._v(" "),t("q-td",{key:"nota_credito",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"green-10"},nativeOn:{click:function(t){e.updateFactura(o.row)}},model:{value:o.row.nota_credito,callback:function(t){e.$set(o.row,"nota_credito",t)},expression:"props.row.nota_credito"}})],1),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("input",{ref:"pdfInput",staticStyle:{display:"none"},attrs:{id:"archivopdf",inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf"},on:{change:function(o){e.uploadPDFFile()}}}),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"green-9",loading:e.loadingButton},on:{click:function(t){e.uploadArchivoPDF(o.row)}}},[t("q-icon",{attrs:{name:"cloud_upload"}}),e._v(" \n                                    "),t("q-tooltip",[e._v("Subir pdf")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"green",icon:"fas fa-file-excel"},on:{click:function(t){e.abrirDocumento(o.row.document_id,o.row.doc_type)}}},[t("q-tooltip",[e._v("Ver xml")])],1),e._v(" "),null!==o.row.pdf_id?t("q-btn",{attrs:{small:"",flat:"",color:"red",icon:"fas fa-file-pdf"},on:{click:function(t){e.abrirDocumento(o.row.pdf_id,o.row.doc_type_pdf)}}},[t("q-tooltip",[e._v("Ver pdf")])],1):e._e(),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteDoc(o.row.factura_id)}}},[t("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1):e._e()])])])]):e._e()]),e._v(" "),t("q-tab-pane",{staticClass:"bg-white",staticStyle:{padding:"0"},attrs:{name:"projects"}},[e.viewsPresupuestos.grid?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},["Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add",label:"Nuevo"},on:{click:function(o){e.newRowPresupuestos()}}}):e._e()],1)])])]),e._v(" "),t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none","margin-top":"-2%"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}})],1),e._v(" "),t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_presupuestos.data_projects,columns:e.form.columnsPresupuesto,selected:e.form_presupuestos.selected,filter:e.form_presupuestos.filter,color:"positive",title:"",pagination:e.form_presupuestos.pagination,loading:e.form_presupuestos.loading,"rows-per-page-options":e.form_presupuestos.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_presupuestos,"selected",o)},"update:pagination":function(o){e.$set(e.form_presupuestos,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre_proyecto",staticStyle:{cursor:"pointer","text-align":"left"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaPresupuesto(o.row)}}},[e._v(e._s(o.row.nombre_proyecto))]),e._v(" "),t("q-td",{key:"nombre_corto",staticStyle:{cursor:"pointer","text-align":"left"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaPresupuesto(o.row)}}},[e._v(e._s(o.row.nombre_corto))]),e._v(" "),t("q-td",{key:"recurso",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaPresupuesto(o.row)}}},[e._v(e._s(o.row.recurso))]),e._v(" "),t("q-td",{key:"inicio",attrs:{props:o}},[e._v(e._s(o.row.f_inicio))]),e._v(" "),t("q-td",{key:"fin",attrs:{props:o}},[e._v(e._s(o.row.f_fin))]),e._v(" "),t("q-td",{key:"lider",staticStyle:{"text-align":"left"},attrs:{props:o}},[e._v(e._s(o.row.nickname))]),e._v(" "),t("q-td",{key:"status",attrs:{props:o}},[e._v(e._s(o.row.status))]),e._v(" "),t("q-td",{key:"finalizado",attrs:{props:o}},[t("q-checkbox",{attrs:{color:"teal"},nativeOn:{click:function(t){e.finalizarProyecto(o.row)}},model:{value:o.row.finalizado,callback:function(t){e.$set(o.row,"finalizado",t)},expression:"props.row.finalizado"}})],1),e._v(" "),t("q-td",{key:"acciones",staticStyle:{"text-align":"left"},attrs:{props:o}},["Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(t){e.editRowPresupuestos(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteSingleRowPresupuestos(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_presupuestos.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e(),e._v(" "),e.viewsPresupuestos.create?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},nativeOn:{click:function(o){e.returnToView("presupuesto","grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.savePresupuestos()}}},[e._v("Guardar")])],1)])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.nombre_proyecto.$error,"error-label":"Ingrese el nombre del presupuesto"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre del presupuesto"},model:{value:e.form.fieldsPresupuesto.nombre_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_proyecto",o)},expression:"form.fieldsPresupuesto.nombre_proyecto"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.lider_proyecto.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Líder",options:e.usuariosOptions,filter:""},model:{value:e.form.fieldsPresupuesto.lider_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"lider_proyecto",o)},expression:"form.fieldsPresupuesto.lider_proyecto"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.nombre_corto.$error,"error-label":"Ingrese el nombre"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre corto"},model:{value:e.form.fieldsPresupuesto.nombre_corto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_corto",o)},expression:"form.fieldsPresupuesto.nombre_corto"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.inicio.$error,"error-label":"Ingrese la fecha de inicio"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form.fieldsPresupuesto,"inicio",o)},expression:"form.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.fin.$error,"error-label":"Ingrese la fecha de término"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha término",align:"center"},model:{value:e.form.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form.fieldsPresupuesto,"fin",o)},expression:"form.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Días",readonly:""},model:{value:e.form.fieldsPresupuesto.dias,callback:function(o){e.$set(e.form.fieldsPresupuesto,"dias",o)},expression:"form.fieldsPresupuesto.dias"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-2"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.presupuesto.$error,"error-label":"Ingrese el monto ($1.00 - $1,000,000,000.00)"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Presupuesto",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.presupuestovalidar,callback:function(o){e.$set(e.form.fieldsPresupuesto,"presupuestovalidar",o)},expression:"form.fieldsPresupuesto.presupuestovalidar"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto de la bolsa",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.monto_bolsa,callback:function(o){e.$set(e.form.fieldsPresupuesto,"monto_bolsa",o)},expression:"form.fieldsPresupuesto.monto_bolsa"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:""},on:{input:function(o){e.obtenerEmpresa()}},model:{value:e.form.fieldsPresupuesto.licitacion_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"licitacion_id",o)},expression:"form.fieldsPresupuesto.licitacion_id"}})],1)],1),e._v(" "),e.form.fieldsPresupuesto.licitacion_id>0?t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"business","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsPresupuesto.empresa_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"empresa_id",o)},expression:"form.fieldsPresupuesto.empresa_id"}})],1)],1):t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"business","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsPresupuesto.empresa_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"empresa_id",o)},expression:"form.fieldsPresupuesto.empresa_id"}})],1)],1)])])])])]):e._e(),e._v(" "),e.viewsPresupuestos.update?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},nativeOn:{click:function(o){e.returnToView("presupuesto","grid")}}}),e._v(" "),"ACTIVO"!==e.form.fieldsPresupuesto.status||e.role.toUpperCase()!=="admin".toUpperCase()&&e.role.toUpperCase()!=="root".toUpperCase()?e._e():t("q-btn",{staticClass:"btn_rechazar",on:{click:function(o){e.updateStatusBloqueado()}}},[e._v("Bloquear")]),e._v(" "),"BLOQUEADO"!==e.form.fieldsPresupuesto.status||e.role.toUpperCase()!=="admin".toUpperCase()&&e.role.toUpperCase()!=="root".toUpperCase()?e._e():t("q-btn",{staticClass:"btn_guardar",on:{click:function(o){e.updateStatusActivo()}}},[e._v("Activar")]),e._v(" "),"Lider"!==e.role&&"Cobranza"!==e.role?t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.updatePresupuestos()}}},[e._v("Guardar")]):e._e()],1)])]),e._v(" "),t("div",{staticClass:"q-px-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[this.role.toUpperCase()==="admin".toUpperCase()||this.role.toUpperCase()==="root".toUpperCase()?t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.nombre_proyecto.$error,"error-label":"Ingrese el nombre del presupuesto"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre del presupuesto"},model:{value:e.form.fieldsPresupuesto.nombre_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_proyecto",o)},expression:"form.fieldsPresupuesto.nombre_proyecto"}})],1)],1):t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.nombre_proyecto.$error,"error-label":"Ingrese el nombre del presupuesto"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre del presupuesto"},model:{value:e.form.fieldsPresupuesto.nombre_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_proyecto",o)},expression:"form.fieldsPresupuesto.nombre_proyecto"}})],1)],1),e._v(" "),this.role.toUpperCase()==="admin".toUpperCase()||this.role.toUpperCase()==="gerente".toUpperCase()||this.role.toUpperCase()==="root".toUpperCase()||this.role.toUpperCase()==="gerente de operaciones".toUpperCase()||this.role.toUpperCase()==="PLANEACIÓN".toUpperCase()?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.lider_proyecto.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Líder",options:e.usuariosOptions,filter:""},model:{value:e.form.fieldsPresupuesto.lider_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"lider_proyecto",o)},expression:"form.fieldsPresupuesto.lider_proyecto"}})],1)],1):t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Lider de presupuesto",readonly:""},model:{value:e.form.fieldsPresupuesto.lider_usuario,callback:function(o){e.$set(e.form.fieldsPresupuesto,"lider_usuario",o)},expression:"form.fieldsPresupuesto.lider_usuario"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.nombre_corto.$error,"error-label":"Ingrese el nombre"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre corto"},model:{value:e.form.fieldsPresupuesto.nombre_corto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_corto",o)},expression:"form.fieldsPresupuesto.nombre_corto"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[this.role.toUpperCase()==="admin".toUpperCase()||this.role.toUpperCase()==="root".toUpperCase()?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"work","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Proyecto",options:e.recursosOptions,filter:""},on:{input:function(o){e.updatePresupuestos()}},model:{value:e.form.fieldsPresupuesto.recurso_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"recurso_id",o)},expression:"form.fieldsPresupuesto.recurso_id"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.inicio.$error,"error-label":"Ingrese la fecha de inicio"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form.fieldsPresupuesto,"inicio",o)},expression:"form.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.fin.$error,"error-label":"Ingrese la fecha de término"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha término",align:"center"},model:{value:e.form.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form.fieldsPresupuesto,"fin",o)},expression:"form.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Días",readonly:""},model:{value:e.form.fieldsPresupuesto.dias,callback:function(o){e.$set(e.form.fieldsPresupuesto,"dias",o)},expression:"form.fieldsPresupuesto.dias"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark",error:e.$v.form.fieldsPresupuesto.presupuesto.$error,"error-label":"Ingrese el monto ($0.00 - $1,000,000,000.00)"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Presupuesto inicial",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.presupuestovalidar,callback:function(o){e.$set(e.form.fieldsPresupuesto,"presupuestovalidar",o)},expression:"form.fieldsPresupuesto.presupuestovalidar"}})],1)],1)])]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto de la bolsa",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.monto_bolsa,callback:function(o){e.$set(e.form.fieldsPresupuesto,"monto_bolsa",o)},expression:"form.fieldsPresupuesto.monto_bolsa"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Presupuesto actual",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.presupuesto_actual,callback:function(o){e.$set(e.form.fieldsPresupuesto,"presupuesto_actual",o)},expression:"form.fieldsPresupuesto.presupuesto_actual"}})],1)],1)]),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:""},on:{input:function(o){e.obtenerEmpresa()}},nativeOn:{click:function(o){e.cargarLicitaciones()}},model:{value:e.form.fieldsPresupuesto.licitacion_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"licitacion_id",o)},expression:"form.fieldsPresupuesto.licitacion_id"}})],1)],1),e._v(" "),e.form.fieldsPresupuesto.licitacion_id>0?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"business","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"",inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},nativeOn:{click:function(o){e.getEmpresas()}},model:{value:e.form.fieldsPresupuesto.empresa_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"empresa_id",o)},expression:"form.fieldsPresupuesto.empresa_id"}})],1)],1):t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"business","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},nativeOn:{click:function(o){e.getEmpresas()}},model:{value:e.form.fieldsPresupuesto.empresa_id,callback:function(o){e.$set(e.form.fieldsPresupuesto,"empresa_id",o)},expression:"form.fieldsPresupuesto.empresa_id"}})],1)],1)])])])]),e._v(" "),t("div",{staticClass:"q-px-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"row q-pa-md col-sm-12"},[t("div",{staticClass:"col-sm-6"},[e._v("\n                        Detalle de Actividades\n                      ")]),e._v(" "),"Cobranza"!==e.role?t("div",{staticClass:"col-sm-6 pull-right"},[t("input",{ref:"fileInputCSV",staticStyle:{display:"none"},attrs:{inverted:"",color:"dark","stack-label":"Archivo csv",type:"file",name:"",value:"",accept:".csv"},on:{change:function(o){e.uploadCsvFile()}}}),e._v(" "),t("q-btn",{attrs:{color:"tertiary",loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputCSV.click()}}},[t("i",{staticClass:"fa fa-upload",attrs:{"aria-hidden":"true"}}),e._v(" Subir CSV\n                        ")]),e._v(" "),t("q-btn",{staticStyle:{"margin-left":"20px"},attrs:{color:"tertiary",icon:"delete",loading:e.loadingButton},on:{click:function(o){e.borrarActividades()}}},[e._v("Limpiar")]),e._v(" "),t("q-btn",{staticStyle:{"margin-left":"20px"},attrs:{color:"green",icon:"fas fa-file-excel"},on:{click:function(o){e.exportCSVActividades()}}},[e._v(" Descargar actividades")])],1):e._e()]),e._v(" "),t("div",{staticClass:"col-sm-12 q-px-md",attrs:{id:"sticky-arbol"}},[t("div",{staticClass:"q-table-container q-table-dense",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"q-table-middle scroll"},[t("table",{staticClass:"q-table"},[t("thead",[t("tr",{staticStyle:{"text-align":"center"}},[t("th",[e._v("Acciones")]),e._v(" "),t("th",[e._v("Nombre")]),e._v(" "),t("th",[e._v("Avance")]),e._v(" "),t("th",[e._v("Avance $")]),e._v(" "),t("th",[e._v("Inicio")]),e._v(" "),t("th",[e._v("Fin")]),e._v(" "),t("th",[e._v("Costo actual")]),e._v(" "),t("th",[e._v("Costo inicial")]),e._v(" "),t("th",[e._v("Ejercido ")]),e._v(" "),t("th",[e._v("Disponible ")]),e._v(" "),t("th",[e._v("Solicitado ")]),e._v(" "),t("th",[e._v("Fin real")]),e._v(" "),t("th",[e._v("EDT")]),e._v(" "),t("th",[e._v("Resumen")]),e._v(" "),t("th",[e._v("Duración")]),e._v(" "),t("th",[e._v("Duración restante")])])]),e._v(" "),t("tbody",e._l(e.arrayTreeObj,function(o,r){return t("tr",{key:r,class:[o.id!=e.selectedRowID.id?"my-label":"text-green bg-light-green-11",""]},[t("td",{staticStyle:{"text-align":"left"},attrs:{"data-th":""}},[0===o.children.length?t("q-checkbox",{attrs:{color:"teal"},nativeOn:{click:function(t){e.finalizarActividad(o,r)}},model:{value:o.finalizado,callback:function(t){e.$set(o,"finalizado",t)},expression:"item.finalizado"}}):e._e(),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"purple",icon:"add_circle",size:"sm"},on:{click:function(t){e.createActividad(o,r)}}},[t("q-tooltip",[e._v("Agregar actividad")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"fas fa-edit",size:"sm"},on:{click:function(t){e.editActividad(o,r)}}},[t("q-tooltip",[e._v("Editar")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"teal",icon:"folder",size:"sm"},on:{click:function(t){e.uploadFiles(o,r)}}},[t("q-tooltip",[e._v("Documentos")])],1),e._v(" "),0===o.children.length&&"0.00"===o.cantidad_ejercida&&"0.00"===o.cantidad_comprometida?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete",size:"sm"},on:{click:function(t){e.delete_single(o,r)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1),e._v(" "),t("td",{staticStyle:{cursor:"pointer","text-align":"left"},attrs:{"data-th":"Nombre"},on:{click:function(t){e.toggle(o,r)}}},[t("span",{staticClass:"q-tree-link q-tree-label",style:e.setPadding(o)},[t("q-icon",{staticStyle:{cursor:"pointer","font-size":"15px"},attrs:{name:e.iconName(o),color:o.color}}),e._v("\n                                    "+e._s(o.nombre)+"\n                                  ")],1)]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Avance"}},[e._v(e._s(o.avance)+"%")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Avance $"}},[e._v(e._s(o.avance_monetario)+"%")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Inicio"}},[e._v(e._s(o.inicio)+" ")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Fin"}},[e._v(e._s(o.fin))]),e._v(" "),t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Costo"}},[e._v("$"+e._s(o.costoCopia))]),e._v(" "),t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Costo inicial"}},[e._v("$"+e._s(o.presupuesto_inicial_copia))]),e._v(" "),o.children.length>0&&"-------"!==o.cantidad_ejercida?t("td",{staticStyle:{"text-align":"right",color:"red"},attrs:{"data-th":"Ejercido"}},[e._v("$"+e._s(o.cantidad_ejercida))]):t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Ejercido"}},[e._v("$"+e._s(o.cantidad_ejercida))]),e._v(" "),parseFloat(o.cantidad_disponible)<0&&"-------"!==o.cantidad_disponible||parseFloat(o.cantidad_disponible)<0&&"-------"!==o.cantidad_disponible&&o.children.length>0?t("td",{staticStyle:{"text-align":"right",color:"red"},attrs:{"data-th":"Disponible"}},[e._v("$"+e._s(o.cantidad_disponible))]):t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Disponible"}},[e._v("$"+e._s(o.cantidad_disponible))]),e._v(" "),t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Solicitado"}},[e._v("$"+e._s(o.cantidad_comprometida)+" ")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Fin Real"}},[e._v(e._s(o.fin_real)+" ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"},attrs:{"data-th":"EDT"}},[e._v(e._s(o.indice))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Resumen"}},[e._v(e._s(o.resumen))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Duración"}},[e._v(e._s(o.duracion))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Duración restante"}},[e._v(e._s(o.duracion_restante))])])}))]),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_actividades.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])]),e._v(" "),e.form_actividades.modal_crear?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"80vw",minHeight:"580px"}},model:{value:e.form_actividades.modal_crear,callback:function(o){e.$set(e.form_actividades,"modal_crear",o)},expression:"form_actividades.modal_crear"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-9"},[t("q-toolbar-title",[e._v("\n                          Crear nueva actividad\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-3 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_actividades.modal_crear=!1}}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"col-sm-4",staticStyle:{margin:"auto"}},[t("q-field",{attrs:{icon:"icono_prueba","icon-color":"dark",helper:"Porcentaje de avance"}},[t("q-knob",{staticStyle:{"font-size":"1rem","margin-left":"30%"},attrs:{size:"100px",color:"light-blue-10","track-color":"light-blue-12","line-width":"5px",min:0,max:100,step:1},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}},[e._v("\n                            "+e._s(e.form_actividades.fieldsPresupuesto.avance)+" "),t("q-icon",{staticClass:"q-ml-xs",attrs:{name:"fas fa-percent"}})],1),e._v(" "),t("q-input",{attrs:{clearable:"",align:"right",decimals:0,"numeric-keyboard-toggle":"",type:"number",suffix:"%"},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"fas fa-chart-line","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.nombre.$error,"error-label":"Ingrese el nombre de la actividad"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Nombre de la actividad",maxlength:"100"},model:{value:e.form_actividades.fieldsPresupuesto.nombre,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"nombre",o)},expression:"form_actividades.fieldsPresupuesto.nombre"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Costo",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.costo,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"costo",o)},expression:"form_actividades.fieldsPresupuesto.costo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.duracion.$error,"error-label":"Ingrese la duración de la actividad"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Duración (días)","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion",o)},expression:"form_actividades.fieldsPresupuesto.duracion"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.duracion_restante.$error,"error-label":"Ingrese la duración restante de la actividad"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Duración restante (días)","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion_restante,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion_restante",o)},expression:"form_actividades.fieldsPresupuesto.duracion_restante"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.inicio.$error,"error-label":"Ingrese la fecha de inicio"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha inicio",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"inicio",o)},expression:"form_actividades.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.fin.$error,"error-label":"Ingrese la fecha fin"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fecha fin",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin",o)},expression:"form_actividades.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fin real",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin_real,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin_real",o)},expression:"form_actividades.fieldsPresupuesto.fin_real"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px","margin-bottom":"10px"}},[t("div",{staticClass:"col-sm-3 offset-sm-9 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.crearActividadDetalle()}}},[e._v("Guardar")])],1)])],1)],1):e._e(),e._v(" "),e.form_actividades.modal_editar?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"80vw",minHeight:"580px"}},model:{value:e.form_actividades.modal_editar,callback:function(o){e.$set(e.form_actividades,"modal_editar",o)},expression:"form_actividades.modal_editar"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-9"},[t("q-toolbar-title",[e._v("\n                          Edición de actividad\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-3 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_actividades.modal_editar=!1}}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"col-sm-4",staticStyle:{margin:"auto"}},[t("q-field",{attrs:{icon:"icono_prueba","icon-color":"dark",helper:"Porcentaje de avance"}},[t("q-knob",{staticStyle:{"font-size":"1rem","margin-left":"30%"},attrs:{size:"100px",color:"light-blue-10","track-color":"light-blue-12","line-width":"5px",min:0,max:100,step:1},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}},[e._v("\n                            "+e._s(e.form_actividades.fieldsPresupuesto.avance)+" "),t("q-icon",{staticClass:"q-ml-xs",attrs:{name:"fas fa-percent"}})],1),e._v(" "),t("q-input",{attrs:{clearable:"",align:"right",decimals:0,"numeric-keyboard-toggle":"",type:"number",suffix:"%"},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-10"},[t("q-field",{attrs:{icon:"fas fa-chart-line","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.nombre.$error,"error-label":"Ingrese el nombre de la actividad"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Nombre de la actividad",maxlength:"100"},model:{value:e.form_actividades.fieldsPresupuesto.nombre,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"nombre",o)},expression:"form_actividades.fieldsPresupuesto.nombre"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"fas fa-arrow-circle-down","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"EDT",readonly:"",disable:""},model:{value:e.form_actividades.fieldsPresupuesto.indice,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"indice",o)},expression:"form_actividades.fieldsPresupuesto.indice"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto inicial",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.presupuesto_inicial,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"presupuesto_inicial",o)},expression:"form_actividades.fieldsPresupuesto.presupuesto_inicial"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[this.role.toUpperCase()==="root".toUpperCase()||this.role.toUpperCase()==="admin".toUpperCase()||this.role.toUpperCase()==="planeación".toUpperCase()?t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto actual",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.costo,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"costo",o)},expression:"form_actividades.fieldsPresupuesto.costo"}}):t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto actual",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.costo,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"costo",o)},expression:"form_actividades.fieldsPresupuesto.costo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Duración",readonly:"","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion",o)},expression:"form_actividades.fieldsPresupuesto.duracion"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",type:"number",inverted:"",color:"dark","float-label":"Duración restante","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion_restante,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion_restante",o)},expression:"form_actividades.fieldsPresupuesto.duracion_restante"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Inicio",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"inicio",o)},expression:"form_actividades.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fin",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin",o)},expression:"form_actividades.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fin real",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin_real,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin_real",o)},expression:"form_actividades.fieldsPresupuesto.fin_real"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px","margin-bottom":"10px"}},[t("div",{staticClass:"col-sm-3 offset-sm-9 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.updateActividadDetalle()}}},[e._v("Guardar")])],1)])],1)],1):e._e(),e._v(" "),e.form_actividades.modal_documentos?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"80vw",minHeight:"580px"}},model:{value:e.form_actividades.modal_documentos,callback:function(o){e.$set(e.form_actividades,"modal_documentos",o)},expression:"form_actividades.modal_documentos"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-9"},[t("q-toolbar-title",[e._v("\n                          Documentos de actividad\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-3 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_actividades.modal_documentos=!1}}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg subtitulos",staticStyle:{"margin-left":"15px"}},[e._v("\n                      "+e._s(e.form_actividades.fieldsPresupuesto.nombre)+"\n                    ")]),e._v(" "),t("div",{staticClass:"col-sm-3",staticStyle:{"margin-top":"30px","margin-right":"30px","margin-left":"30px"}},[t("input",{ref:"fileInputFormato",staticStyle:{display:"none"},attrs:{inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".jpg,.jpeg,.png,.pdf,.docx"},on:{change:function(o){e.uploadFormatoActividad()}}}),e._v(" "),t("q-btn",{attrs:{color:"tertiary",icon:"attach_file",loading:e.loadingButton},on:{click:function(o){e.$refs.fileInputFormato.click()}}},[e._v("  Cargar Archivo")])],1),e._v(" "),t("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"30px","margin-right":"30px","margin-left":"30px"}},[t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table",data:e.form_archivos.data,columns:e.form_archivos.columns,selected:e.form_archivos.selected,filter:e.form_archivos.filter,color:"positive",title:"",pagination:e.form_archivos.pagination,loading:e.form_archivos.loading,"rows-per-page-options":e.form_archivos.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_archivos,"selected",o)},"update:pagination":function(o){e.$set(e.form_archivos,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"name",attrs:{props:o}},[e._v(e._s(o.row.name))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-8",icon:"cloud_download"},on:{click:function(t){e.descargarFormatoActividad(o.row.documento_id)}}},[t("q-tooltip",[e._v("Descargar")])],1),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteFormatoActividad(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_archivos.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])],1)],1):e._e(),e._v(" "),e.informacionPresupuestos?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"content-css":{width:"40vw",height:"300px"}},model:{value:e.informacionPresupuestos,callback:function(o){e.informacionPresupuestos=o},expression:"informacionPresupuestos"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-6"},[t("q-toolbar-title",[e._v("\n                          Presupuesto\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.informacionPresupuestos=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px"}},[null!==e.objetoInformacionPresupuesto?t("div",{staticClass:"col-sm-12"},[t("div",{staticStyle:{"font-weight":"bold","font-size":"1.2em","text-align":"center"}},[e._v(e._s(e.objetoInformacionPresupuesto.nombre_proyecto))]),e._v(" "),t("ul",{staticStyle:{"list-style":"none","padding-left":"15px"}},[t("li",[t("label",{staticStyle:{"font-weight":"bold"}},[e._v("Proyecto: ")]),t("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.objetoInformacionPresupuesto.recurso))])]),e._v(" "),t("li",[t("label",{staticStyle:{"font-weight":"bold"}},[e._v("Fecha de inicio: ")]),t("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.objetoInformacionPresupuesto.inicio))])]),e._v(" "),t("li",[t("label",{staticStyle:{"font-weight":"bold"}},[e._v("Fecha de término: ")]),t("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.objetoInformacionPresupuesto.fin))])]),e._v(" "),t("li",[t("label",{staticStyle:{"font-weight":"bold"}},[e._v("Días: ")]),t("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.objetoInformacionPresupuesto.dias)+" dias")])]),e._v(" "),t("li",[t("label",{staticStyle:{"font-weight":"bold"}},[e._v("Presupuesto: ")]),t("label",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.objetoInformacionPresupuesto.presupuesto))])])])]):e._e()])],1):e._e(),e._v(" "),t("div",{staticClass:"q-px-md col-sm-12"},[t("q-tabs",{staticClass:"shadow-1",attrs:{inverted:"",animated:"",swipeable:"",color:"teal",align:"justify"},model:{value:e.tab,callback:function(o){e.tab=o},expression:"tab"}},[t("q-tab",{attrs:{slot:"title",default:"",name:"colaborador_pane",icon:"person",label:"Colaboradores"},slot:"title"}),e._v(" "),t("q-tab",{attrs:{slot:"title",name:"autorizadores_pane",icon:"person",label:"Autorizadores"},nativeOn:{click:function(o){e.cargarAutorizadores()}},slot:"title"}),e._v(" "),t("q-tab",{attrs:{slot:"title",name:"responsables_pane",icon:"person",label:"Responsable de pagos"},nativeOn:{click:function(o){e.cargarResponsables()}},slot:"title"}),e._v(" "),t("q-tab",{attrs:{slot:"title",name:"perfiles_pane",icon:"person",label:"Perfiles"},nativeOn:{click:function(o){e.getPerfiles()}},slot:"title"}),e._v(" "),t("q-tab-pane",{attrs:{name:"colaborador_pane"}},[t("div",{staticClass:"col q-px-md"},[t("div",[t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-bottom":"10px"}},[t("div",{staticClass:"col-sm-1"},[t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add"},on:{click:function(o){e.newColaborador()}}})],1),e._v(" "),t("div",{staticClass:"col-sm-11"},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_colaboradores.filter,callback:function(o){e.$set(e.form_colaboradores,"filter",o)},expression:"form_colaboradores.filter"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_colaboradores.data,columns:e.form_colaboradores.columns,selected:e.form_colaboradores.selected,filter:e.form_colaboradores.filter,color:"positive",title:"",dense:!0,pagination:e.form_colaboradores.pagination,loading:e.form_colaboradores.loading,"rows-per-page-options":e.form_colaboradores.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_colaboradores,"selected",o)},"update:pagination":function(o){e.$set(e.form_colaboradores,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue",icon:"edit"},on:{click:function(t){e.editColaborador(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteColaboradores(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_colaboradores.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]),e._v(" "),t("q-tab-pane",{attrs:{name:"solicitantes_pane"}},[t("div",{staticClass:"col q-px-md"},[t("div",[t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-bottom":"10px"}},[t("div",{staticClass:"col-sm-1"},[t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add"},on:{click:function(o){e.newSolicitante()}}})],1),e._v(" "),t("div",{staticClass:"col-sm-11"},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_solicitantes.filter,callback:function(o){e.$set(e.form_solicitantes,"filter",o)},expression:"form_solicitantes.filter"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_solicitantes.data,columns:e.form_solicitantes.columns,selected:e.form_solicitantes.selected,filter:e.form_solicitantes.filter,color:"positive",title:"",dense:!0,pagination:e.form_solicitantes.pagination,loading:e.form_solicitantes.loading,"rows-per-page-options":e.form_solicitantes.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_solicitantes,"selected",o)},"update:pagination":function(o){e.$set(e.form_solicitantes,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue",icon:"edit"},on:{click:function(t){e.editSolicitante(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteSolicitantes(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_solicitantes.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]),e._v(" "),t("q-tab-pane",{attrs:{name:"autorizadores_pane"}},[t("div",{staticClass:"col q-px-md"},[t("div",[t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-bottom":"10px"}},[t("div",{staticClass:"col-sm-1"},[t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add"},on:{click:function(o){e.ejecutaAutorizador()}}})],1),e._v(" "),t("div",{staticClass:"col-sm-11"},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_autorizadores.filter,callback:function(o){e.$set(e.form_autorizadores,"filter",o)},expression:"form_autorizadores.filter"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_autorizadores.data,columns:e.form_autorizadores.columns,selected:e.form_autorizadores.selected,filter:e.form_autorizadores.filter,color:"positive",title:"",dense:!0,pagination:e.form_autorizadores.pagination,loading:e.form_autorizadores.loading,"rows-per-page-options":e.form_autorizadores.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_autorizadores,"selected",o)},"update:pagination":function(o){e.$set(e.form_autorizadores,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"orden",attrs:{props:o}},[e._v(e._s(o.row.orden))]),e._v(" "),t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))]),e._v(" "),t("q-td",{key:"alteracion",attrs:{props:o}},[e._v(e._s(o.row.alteracion))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue",icon:"edit"},on:{click:function(t){e.editAutorizador(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteAutorizadores(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_autorizadores.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]),e._v(" "),t("q-tab-pane",{attrs:{name:"responsables_pane"}},[t("div",{staticClass:"col q-px-md"},[t("div",[t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-bottom":"10px"}},[t("div",{staticClass:"col-sm-1"},[t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add"},on:{click:function(o){e.newResponsable()}}})],1),e._v(" "),t("div",{staticClass:"col-sm-11"},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_responsables.filter,callback:function(o){e.$set(e.form_responsables,"filter",o)},expression:"form_responsables.filter"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_responsables.data,columns:e.form_responsables.columns,selected:e.form_responsables.selected,filter:e.form_responsables.filter,color:"positive",title:"",dense:!0,pagination:e.form_responsables.pagination,loading:e.form_responsables.loading,"rows-per-page-options":e.form_responsables.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_responsables,"selected",o)},"update:pagination":function(o){e.$set(e.form_responsables,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue",icon:"edit"},on:{click:function(t){e.editResponsable(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"negative",icon:"delete"},on:{click:function(t){e.deleteResponsables(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_responsables.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]),e._v(" "),t("q-tab-pane",{attrs:{name:"perfiles_pane"}},[t("div",{staticClass:"col q-px-md"},[t("div",[t("div",{staticClass:"row q-col-gutter-xs",staticStyle:{"padding-bottom":"10px"}},[t("div",{staticClass:"col-sm-1"},[t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add"},on:{click:function(o){e.newPerfil()}}})],1),e._v(" "),t("div",{staticClass:"col-sm-11"},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_perfiles.filter,callback:function(o){e.$set(e.form_perfiles,"filter",o)},expression:"form_perfiles.filter"}})],1)]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_perfiles.data,columns:e.form_perfiles.columns,selected:e.form_perfiles.selected,filter:e.form_perfiles.filter,color:"positive",title:"",pagination:e.form_perfiles.pagination,loading:e.form_perfiles.loading,"rows-per-page-options":e.form_perfiles.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_perfiles,"selected",o)},"update:pagination":function(o){e.$set(e.form_perfiles,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre)+" "+e._s(o.row.apellido_paterno)+" "+e._s(e.apellido_materno))]),e._v(" "),t("q-td",{key:"participacion",attrs:{props:o}},[e._v(e._s(o.row.participacion))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"red",icon:"delete"},on:{click:function(t){e.deletePerfiles(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_perfiles.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])],1)],1),e._v(" "),e.form_solicitantes.solicitantes_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_solicitantes.solicitantes_proyecto,callback:function(o){e.$set(e.form_solicitantes,"solicitantes_proyecto",o)},expression:"form_solicitantes.solicitantes_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Nuevo solicitante\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_solicitantes.solicitantes_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_solicitantes.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.form_solicitantes.solicitantesOptions,filter:""},model:{value:e.form_solicitantes.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_solicitantes.fieldsPresupuesto,"usuario_id",o)},expression:"form_solicitantes.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_solicitantes.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_solicitantes.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_solicitantes.fieldsPresupuesto,"perfil",o)},expression:"form_solicitantes.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.saveSolicitantes()}}},[e._v("Agregar")])],1)])],1):e._e(),e._v(" "),e.form_solicitantes.editar_solicitantes_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_solicitantes.editar_solicitantes_proyecto,callback:function(o){e.$set(e.form_solicitantes,"editar_solicitantes_proyecto",o)},expression:"form_solicitantes.editar_solicitantes_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Editar solicitante\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_solicitantes.editar_solicitantes_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_solicitantes.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.form_solicitantes.solicitantesOptions,filter:""},model:{value:e.form_solicitantes.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_solicitantes.fieldsPresupuesto,"usuario_id",o)},expression:"form_solicitantes.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_solicitantes.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_solicitantes.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_solicitantes.fieldsPresupuesto,"perfil",o)},expression:"form_solicitantes.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.editarSolicitante()}}},[e._v("Agregar")])],1)])],1):e._e(),e._v(" "),e.form_colaboradores.colaboradores_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_colaboradores.colaboradores_proyecto,callback:function(o){e.$set(e.form_colaboradores,"colaboradores_proyecto",o)},expression:"form_colaboradores.colaboradores_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Nuevo colaborador\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_colaboradores.colaboradores_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_colaboradores.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_colaboradores.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_colaboradores.fieldsPresupuesto,"usuario_id",o)},expression:"form_colaboradores.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_colaboradores.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_colaboradores.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_colaboradores.fieldsPresupuesto,"perfil",o)},expression:"form_colaboradores.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.saveColaboradores()}}},[e._v("Agregar")])],1)])],1):e._e(),e._v(" "),e.form_colaboradores.editar_colaboradores_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_colaboradores.editar_colaboradores_proyecto,callback:function(o){e.$set(e.form_colaboradores,"editar_colaboradores_proyecto",o)},expression:"form_colaboradores.editar_colaboradores_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Editar colaborador\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_colaboradores.editar_colaboradores_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_colaboradores.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_colaboradores.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_colaboradores.fieldsPresupuesto,"usuario_id",o)},expression:"form_colaboradores.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_colaboradores.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_colaboradores.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_colaboradores.fieldsPresupuesto,"perfil",o)},expression:"form_colaboradores.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.editarColaborador()}}},[e._v("Guardar")])],1)])],1):e._e(),e._v(" "),e.form_autorizadores.autorizadores_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"55vw",height:"280px"}},model:{value:e.form_autorizadores.autorizadores_proyecto,callback:function(o){e.$set(e.form_autorizadores,"autorizadores_proyecto",o)},expression:"form_autorizadores.autorizadores_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Nuevo autorizador\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_autorizadores.autorizadores_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_autorizadores.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"usuario_id",o)},expression:"form_autorizadores.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_autorizadores.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"perfil",o)},expression:"form_autorizadores.fieldsPresupuesto.perfil"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"list","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.orden.$error,"error-label":"Escriba el nivel del autorizador"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Nivel",options:e.form_autorizadores.selectNivel,filter:""},model:{value:e.form_autorizadores.fieldsPresupuesto.orden,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"orden",o)},expression:"form_autorizadores.fieldsPresupuesto.orden"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-3",staticStyle:{"margin-left":"15px"}},[t("q-checkbox",{attrs:{label:"Ajustar presupuesto",color:"amber"},model:{value:e.alterar_presupuesto,callback:function(o){e.alterar_presupuesto=o},expression:"alterar_presupuesto"}})],1),e._v(" "),t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.saveAutorizadores()}}},[e._v("Agregar")])],1)])],1):e._e(),e._v(" "),e.form_autorizadores.editar_autorizadores_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"55vw",height:"280px"}},model:{value:e.form_autorizadores.editar_autorizadores_proyecto,callback:function(o){e.$set(e.form_autorizadores,"editar_autorizadores_proyecto",o)},expression:"form_autorizadores.editar_autorizadores_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Editar autorizador\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_autorizadores.editar_autorizadores_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_autorizadores.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"usuario_id",o)},expression:"form_autorizadores.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_autorizadores.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"perfil",o)},expression:"form_autorizadores.fieldsPresupuesto.perfil"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("q-field",{attrs:{icon:"list","icon-color":"dark",error:e.$v.form_autorizadores.fieldsPresupuesto.orden.$error,"error-label":"Escriba el nivel del autorizador"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Nivel",options:e.form_autorizadores.selectNivel,filter:""},model:{value:e.form_autorizadores.fieldsPresupuesto.orden,callback:function(o){e.$set(e.form_autorizadores.fieldsPresupuesto,"orden",o)},expression:"form_autorizadores.fieldsPresupuesto.orden"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-3",staticStyle:{"margin-left":"15px"}},[t("q-checkbox",{attrs:{label:"Ajustar presupuesto",color:"amber"},model:{value:e.alterar_presupuesto,callback:function(o){e.alterar_presupuesto=o},expression:"alterar_presupuesto"}})],1),e._v(" "),t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.editarAutorizador()}}},[e._v("Guardar")])],1)])],1):e._e(),e._v(" "),e.form_responsables.responsables_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_responsables.responsables_proyecto,callback:function(o){e.$set(e.form_responsables,"responsables_proyecto",o)},expression:"form_responsables.responsables_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Nuevo Responsable\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_responsables.responsables_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_responsables.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_responsables.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_responsables.fieldsPresupuesto,"usuario_id",o)},expression:"form_responsables.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_responsables.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_responsables.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_responsables.fieldsPresupuesto,"perfil",o)},expression:"form_responsables.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.saveResponsables()}}},[e._v("Agregar")])],1)])],1):e._e(),e._v(" "),e.form_responsables.editar_responsables_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_responsables.editar_responsables_proyecto,callback:function(o){e.$set(e.form_responsables,"editar_responsables_proyecto",o)},expression:"form_responsables.editar_responsables_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Editar Responsable\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_responsables.editar_responsables_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_responsables.fieldsPresupuesto.usuario_id.$error,"error-label":"Por favor elija un usuario"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Usuario",options:e.usuariosOptions,filter:""},model:{value:e.form_responsables.fieldsPresupuesto.usuario_id,callback:function(o){e.$set(e.form_responsables.fieldsPresupuesto,"usuario_id",o)},expression:"form_responsables.fieldsPresupuesto.usuario_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_responsables.fieldsPresupuesto.perfil.$error,"error-label":"Escriba el perfil"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Perfil",maxlength:"100"},model:{value:e.form_responsables.fieldsPresupuesto.perfil,callback:function(o){e.$set(e.form_responsables.fieldsPresupuesto,"perfil",o)},expression:"form_responsables.fieldsPresupuesto.perfil"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.editarResponsable()}}},[e._v("Guardar")])],1)])],1):e._e(),e._v(" "),e.form_perfiles.perfiles_proyecto?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{width:"40vw",height:"200px"}},model:{value:e.form_perfiles.perfiles_proyecto,callback:function(o){e.$set(e.form_perfiles,"perfiles_proyecto",o)},expression:"form_perfiles.perfiles_proyecto"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-10"},[t("q-toolbar-title",[e._v("\n                          Vincular perfil al project\n                        ")])],1),e._v(" "),t("div",{staticClass:"col-sm-2 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_perfiles.perfiles_proyecto=!1}}})],1)])],1),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"70px","margin-right":"20px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark",error:e.$v.form_perfiles.fieldsPresupuesto.perfil_id.$error,"error-label":"Por favor elija un perfil"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Perfil",options:e.perfilesOptions,filter:""},model:{value:e.form_perfiles.fieldsPresupuesto.perfil_id,callback:function(o){e.$set(e.form_perfiles.fieldsPresupuesto,"perfil_id",o)},expression:"form_perfiles.fieldsPresupuesto.perfil_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"folder_shared","icon-color":"dark",error:e.$v.form_perfiles.fieldsPresupuesto.participacion.$error,"error-label":"Revise la cantidad de caracteres"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Participación",maxlength:"50"},model:{value:e.form_perfiles.fieldsPresupuesto.participacion,callback:function(o){e.$set(e.form_perfiles.fieldsPresupuesto,"participacion",o)},expression:"form_perfiles.fieldsPresupuesto.participacion"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"20px"}},[t("div",{staticClass:"col-sm-4 offset-sm-8 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"fas fa-save",loading:e.loadingButton},on:{click:function(o){e.savePerfiles()}}},[e._v("Agregar")])],1)])],1):e._e()],1):e._e()]),e._v(" "),t("q-tab-pane",{staticClass:"bg-white",staticStyle:{padding:"0"},attrs:{name:"organismos"}},[e.viewsOrganismos.grid?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},["Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add",label:"Nuevo"},on:{click:function(o){e.newRowOrganismos()}}}):e._e()],1)])])]),e._v(" "),t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none","margin-top":"-2%"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form_organismos.filter,callback:function(o){e.$set(e.form_organismos,"filter",o)},expression:"form_organismos.filter"}})],1),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_presupuestos.data_organismos,columns:e.form_organismos.columns,selected:e.form_organismos.selected,filter:e.form_organismos.filter,color:"positive",title:"",pagination:e.form_organismos.pagination,loading:e.form_organismos.loading,"rows-per-page-options":e.form_organismos.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_organismos,"selected",o)},"update:pagination":function(o){e.$set(e.form_organismos,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",staticStyle:{cursor:"pointer"},attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(t){e.editOrganismo(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role&&"Finanzas/Comisiones"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"red",icon:"delete"},on:{click:function(t){e.deleteOrganismos(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_organismos.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e(),e._v(" "),e.viewsOrganismos.create?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-right"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.returnToView("organismo","grid")}}})],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form_organismos.fields.nombre.$error,"error-label":"Ingrese el nombre del organismo de apoyo"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre del organismo de apoyo"},model:{value:e.form_organismos.fields.nombre,callback:function(o){e.$set(e.form_organismos.fields,"nombre",o)},expression:"form_organismos.fields.nombre"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-2 offset-sm-10 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.saveOrganismos()}}},[e._v("Guardar")])],1)])])])])]):e._e(),e._v(" "),e.viewsOrganismos.update?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"})]),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 pull-right"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.returnToView("organismo","grid")}}})],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md bg-grey-3"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark",error:e.$v.form_organismos.fields.nombre.$error,"error-label":"Ingrese el nombre del organismo de apoyo"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Nombre del organismo de apoyo"},model:{value:e.form_organismos.fields.nombre,callback:function(o){e.$set(e.form_organismos.fields,"nombre",o)},expression:"form_organismos.fields.nombre"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-2 offset-sm-10 pull-right"},[t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.updateOrganismos()}}},[e._v("Guardar")])],1)])])])])]):e._e()]),e._v(" "),t("q-tab-pane",{staticClass:"bg-white",staticStyle:{padding:"0"},attrs:{name:"comisiones"}},[e.viewsComisiones.grid?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},["Lider"!==e.role?t("q-btn",{staticClass:"btn_nuevo",attrs:{icon:"add",label:"Nuevo"},on:{click:function(o){e.newRowComisiones()}}}):e._e()],1)])])]),e._v(" "),t("div",{staticClass:"col q-pa-md border-panel",staticStyle:{border:"none","margin-top":"-2%"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-bottom":"10px"}},[t("q-search",{attrs:{color:"primary"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}})],1),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table-newstyle",data:e.form_presupuestos.data_comisiones,columns:e.form_comisiones.columns,selected:e.form_comisiones.selected,filter:e.form_comisiones.filter,color:"positive",title:"",pagination:e.form_comisiones.pagination,loading:e.form_comisiones.loading,"rows-per-page-options":e.form_comisiones.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_comisiones,"selected",o)},"update:pagination":function(o){e.$set(e.form_comisiones,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"asignado",attrs:{props:o}},[e._v(e._s(o.row.asignado))]),e._v(" "),t("q-td",{key:"aliado",attrs:{props:o}},[e._v(e._s(o.row.aliado))]),e._v(" "),t("q-td",{key:"tipo",attrs:{props:o}},[e._v(e._s(o.row.tipo))]),e._v(" "),"PORCENTAJE"===o.row.tipo?t("q-td",{key:"cantidad_com",attrs:{props:o}},[e._v(e._s(o.row.cantidad_com)+"%")]):t("q-td",{key:"cantidad_com",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.cantidad_com)))]),e._v(" "),t("q-td",{key:"contrato",attrs:{props:o}},[e._v(e._s(o.row.contrato))]),e._v(" "),t("q-td",{key:"monto_total_comision",attrs:{props:o}},[e._v("$"+e._s(o.row.monto_total_comision))]),e._v(" "),t("q-td",{key:"nombre_proyecto",attrs:{props:o}},[e._v(e._s(o.row.nombre_proyecto))]),e._v(" "),t("q-td",{key:"documentos",attrs:{props:o}},[t("input",{ref:"comisionInput",staticStyle:{display:"none"},attrs:{id:"archivo_com",inverted:"",color:"dark","stack-label":"Archivo",type:"file",name:"",value:"",accept:".png, .jpg, .jpeg, .xml, .docx, .pdf, .txt, .TXT"},on:{change:function(o){e.uploadComisionFile()}}}),e._v(" "),t("q-btn",{attrs:{small:"",flat:"",color:"green-9",loading:e.loadingButton},on:{click:function(t){e.selectedCom(o.row)}}},[t("q-icon",{attrs:{name:"cloud_upload"}}),e._v(" \n                              "),t("q-tooltip",[e._v("Subir Archivo")])],1),e._v(" "),e._l(o.row.documentos,function(o){return t("div",{key:o.id,staticStyle:{display:"inline"}},[t("q-btn",{attrs:{small:"",flat:"",icon:o.icon,color:o.color}},[t("q-tooltip",[e._v(e._s(o.nombre))]),e._v(" "),t("q-popover",[t("q-list",{staticClass:"scroll",staticStyle:{"min-width":"100px"},attrs:{link:"",separator:""}},["docx"!==o.extension&&"xml"!==o.extension&&"xlsx"!==o.extension?t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.verDocumentosCom(o.id,o.extension)}}},[t("q-item-main",{attrs:{label:"Ver"}})],1):e._e(),e._v(" "),t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.descargarDocumentoCom(o.id,o.extension)}}},[t("q-item-main",{attrs:{label:"Descargar"}})],1),e._v(" "),t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.deleteDocumentoCom(o.id)}}},[t("q-item-main",{attrs:{label:"Eliminar"}})],1)],1)],1)],1)],1)})],2),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},["Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"edit"},on:{click:function(t){e.editComisiones(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1):e._e(),e._v(" "),"Lider"!==e.role?t("q-btn",{attrs:{small:"",flat:"",color:"red",icon:"delete"},on:{click:function(t){e.deleteComisiones(o.row.id)}}},[t("q-tooltip",[e._v("Eliminar")])],1):e._e()],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_comisiones.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])]):e._e(),e._v(" "),e.viewsComisiones.create?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"})]),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.returnToView("comision","grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.saveComisiones()}}},[e._v("Guardar")])],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md col-sm-12"}),e._v(" "),t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.asignadoComision,filter:""},model:{value:e.form_comisiones.fields.asignado,callback:function(o){e.$set(e.form_comisiones.fields,"asignado",o)},expression:"form_comisiones.fields.asignado"}})],1)],1),e._v(" "),"ALIADO"===e.form_comisiones.fields.asignado?t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Aliado",options:e.aliadosOptions,filter:""},model:{value:e.form_comisiones.fields.aliado_id,callback:function(o){e.$set(e.form_comisiones.fields,"aliado_id",o)},expression:"form_comisiones.fields.aliado_id"}})],1)],1):e._e(),e._v(" "),"VENDEDOR"===e.form_comisiones.fields.asignado?t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Vendedor",options:e.vendedoresOptions,filter:""},model:{value:e.form_comisiones.fields.vendedor_id,callback:function(o){e.$set(e.form_comisiones.fields,"vendedor_id",o)},expression:"form_comisiones.fields.vendedor_id"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-donate","icon-color":"dark",error:e.$v.form_comisiones.fields.tipo.$error,"error-label":"Elija un tipo"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.tipoComision,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.tipo,callback:function(o){e.$set(e.form_comisiones.fields,"tipo",o)},expression:"form_comisiones.fields.tipo"}})],1)],1),e._v(" "),"CANTIDAD FIJA"===e.form_comisiones.fields.tipo?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto",suffix:"MXN"},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.monto,callback:function(o){e.$set(e.form_comisiones.fields,"monto",o)},expression:"form_comisiones.fields.monto"}})],1)],1):t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"label","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Porcentaje",suffix:"%",maxlength:"50"},on:{keyup:function(o){e.isNumber(o,"cantidad")},input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.porcentaje,callback:function(o){e.$set(e.form_comisiones.fields,"porcentaje",o)},expression:"form_comisiones.fields.porcentaje"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-donate","icon-color":"dark",error:e.$v.form_comisiones.fields.metodo_pago.$error,"error-label":"Elija un método de pago"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoComisionOptions,filter:""},model:{value:e.form_comisiones.fields.metodo_pago,callback:function(o){e.$set(e.form_comisiones.fields,"metodo_pago",o)},expression:"form_comisiones.fields.metodo_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form_comisiones.fields.aplicado.$error,"error-label":"Elija una opción"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Aplica",options:e.aplicadoOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.aplicado,callback:function(o){e.$set(e.form_comisiones.fields,"aplicado",o)},expression:"form_comisiones.fields.aplicado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark",error:e.$v.form_comisiones.fields.contrato_id.$error,"error-label":"Elija un contrato"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Contrato",options:e.contratosOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.contrato_id,callback:function(o){e.$set(e.form_comisiones.fields,"contrato_id",o)},expression:"form_comisiones.fields.contrato_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"check","icon-color":"dark",error:e.$v.form_comisiones.fields.iva.$error,"error-label":"Seleccione una opción"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Base",options:e.ivaOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.iva,callback:function(o){e.$set(e.form_comisiones.fields,"iva",o)},expression:"form_comisiones.fields.iva"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto bolsa",suffix:"MXN"},model:{value:e.form_comisiones.monto_bolsa,callback:function(o){e.$set(e.form_comisiones,"monto_bolsa",o)},expression:"form_comisiones.monto_bolsa"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto base",suffix:"MXN"},model:{value:e.form_comisiones.monto_base,callback:function(o){e.$set(e.form_comisiones,"monto_base",o)},expression:"form_comisiones.monto_base"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto comisión",suffix:"MXN"},model:{value:e.form_comisiones.monto_comision,callback:function(o){e.$set(e.form_comisiones,"monto_comision",o)},expression:"form_comisiones.monto_comision"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"dns","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tiempo pago",options:e.tiempoOptions,filter:""},model:{value:e.form_comisiones.fields.tiempo_pago,callback:function(o){e.$set(e.form_comisiones.fields,"tiempo_pago",o)},expression:"form_comisiones.fields.tiempo_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form_comisiones.fields.observaciones,callback:function(o){e.$set(e.form_comisiones.fields,"observaciones",o)},expression:"form_comisiones.fields.observaciones"}})],1)],1)])])])])]):e._e(),e._v(" "),e.viewsComisiones.update?t("div",[t("div",{staticClass:"q-pa-sm panel-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"}),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("div",{staticClass:"q-pa-sm q-gutter-sm"},[t("q-btn",{staticClass:"btn_regresar",staticStyle:{"margin-right":"10px"},attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.returnToView("comision","grid")}}}),e._v(" "),t("q-btn",{staticClass:"btn_guardar",attrs:{"icon-right":"save",loading:e.loadingButton},on:{click:function(o){e.updateComisiones()}}},[e._v("Guardar")])],1)])])]),e._v(" "),t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row bg-white border-panel",staticStyle:{padding:"0"}},[t("div",{staticClass:"col q-pa-md col-sm-12"}),e._v(" "),t("div",{staticClass:"col q-pa-md"},[t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.asignadoComision,filter:""},model:{value:e.form_comisiones.fields.asignado,callback:function(o){e.$set(e.form_comisiones.fields,"asignado",o)},expression:"form_comisiones.fields.asignado"}})],1)],1),e._v(" "),"ALIADO"===e.form_comisiones.fields.asignado?t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Aliado",options:e.aliadosOptions,filter:""},model:{value:e.form_comisiones.fields.aliado_id,callback:function(o){e.$set(e.form_comisiones.fields,"aliado_id",o)},expression:"form_comisiones.fields.aliado_id"}})],1)],1):e._e(),e._v(" "),"VENDEDOR"===e.form_comisiones.fields.asignado?t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Vendedor",options:e.vendedoresOptions,filter:""},model:{value:e.form_comisiones.fields.vendedor_id,callback:function(o){e.$set(e.form_comisiones.fields,"vendedor_id",o)},expression:"form_comisiones.fields.vendedor_id"}})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-donate","icon-color":"dark",error:e.$v.form_comisiones.fields.tipo.$error,"error-label":"Elija un tipo"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tipo",options:e.tipoComision,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.tipo,callback:function(o){e.$set(e.form_comisiones.fields,"tipo",o)},expression:"form_comisiones.fields.tipo"}})],1)],1),e._v(" "),"CANTIDAD FIJA"===e.form_comisiones.fields.tipo?t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{inverted:"",color:"dark","float-label":"Monto",suffix:"MXN"},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.monto,callback:function(o){e.$set(e.form_comisiones.fields,"monto",o)},expression:"form_comisiones.fields.monto"}})],1)],1):t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"label","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Porcentaje",suffix:"%",maxlength:"50"},on:{keyup:function(o){e.isNumber(o,"cantidad")},input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.porcentaje,callback:function(o){e.$set(e.form_comisiones.fields,"porcentaje",o)},expression:"form_comisiones.fields.porcentaje"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-donate","icon-color":"dark",error:e.$v.form_comisiones.fields.metodo_pago.$error,"error-label":"Elija un método de pago"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Método de pago",options:e.metodoPagoComisionOptions,filter:""},model:{value:e.form_comisiones.fields.metodo_pago,callback:function(o){e.$set(e.form_comisiones.fields,"metodo_pago",o)},expression:"form_comisiones.fields.metodo_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"style","icon-color":"dark",error:e.$v.form_comisiones.fields.aplicado.$error,"error-label":"Elija una opción"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Aplica",options:e.aplicadoOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.aplicado,callback:function(o){e.$set(e.form_comisiones.fields,"aplicado",o)},expression:"form_comisiones.fields.aplicado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark",error:e.$v.form_comisiones.fields.contrato_id.$error,"error-label":"Elija un contrato"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Contrato",options:e.contratosOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.contrato_id,callback:function(o){e.$set(e.form_comisiones.fields,"contrato_id",o)},expression:"form_comisiones.fields.contrato_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"check","icon-color":"dark",error:e.$v.form_comisiones.fields.iva.$error,"error-label":"Seleccione una opción"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Base",options:e.ivaOptions,filter:""},on:{input:function(o){e.contrato_utilidad()}},model:{value:e.form_comisiones.fields.iva,callback:function(o){e.$set(e.form_comisiones.fields,"iva",o)},expression:"form_comisiones.fields.iva"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto bolsa",suffix:"MXN"},model:{value:e.form_comisiones.monto_bolsa,callback:function(o){e.$set(e.form_comisiones,"monto_bolsa",o)},expression:"form_comisiones.monto_bolsa"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto base",suffix:"MXN"},model:{value:e.form_comisiones.monto_base,callback:function(o){e.$set(e.form_comisiones,"monto_base",o)},expression:"form_comisiones.monto_base"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{attrs:{inverted:"",color:"dark","float-label":"Monto comisión",suffix:"MXN"},model:{value:e.form_comisiones.monto_comision,callback:function(o){e.$set(e.form_comisiones,"monto_comision",o)},expression:"form_comisiones.monto_comision"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-col-gutter-xs"},[t("div",{staticClass:"col-sm-3"},[t("q-field",{attrs:{icon:"dns","icon-color":"dark"}},[t("q-select",{attrs:{inverted:"",color:"dark","float-label":"Tiempo pago",options:e.tiempoOptions,filter:""},model:{value:e.form_comisiones.fields.tiempo_pago,callback:function(o){e.$set(e.form_comisiones.fields,"tiempo_pago",o)},expression:"form_comisiones.fields.tiempo_pago"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",inverted:"",color:"dark","float-label":"Observaciones"},model:{value:e.form_comisiones.fields.observaciones,callback:function(o){e.$set(e.form_comisiones.fields,"observaciones",o)},expression:"form_comisiones.fields.observaciones"}})],1)],1)])])])])]):e._e()])],1)],1)]):e._e(),e._v(" "),e.informacion?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"content-css":{width:"95vw",height:"95vw"}},model:{value:e.informacion,callback:function(o){e.informacion=o},expression:"informacion"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-6"},[t("q-toolbar-title",[e._v("\n                Proyecto\n              ")])],1),e._v(" "),t("div",{staticClass:"col-sm-6 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.informacion=!1}}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg subtitulos",staticStyle:{"margin-left":"15px"}},[e._v("\n            Datos generales\n          ")]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"15px"}},[t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"","inverted-color":"dark","float-label":"Cliente",options:e.clientesOptions,filter:""},model:{value:e.form.fields.cliente_id,callback:function(o){e.$set(e.form.fields,"cliente_id",o)},expression:"form.fields.cliente_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"15px"}},[t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"","inverted-color":"dark","float-label":"Programa",options:e.programasOptions,filter:""},on:{input:function(o){e.selectSubprograma()}},model:{value:e.form.fields.programa_id,callback:function(o){e.$set(e.form.fields,"programa_id",o)},expression:"form.fields.programa_id"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-6"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"","inverted-color":"dark","float-label":"Subprograma",options:e.subprogramasOptions,filter:""},model:{value:e.form.fields.subprograma_id,callback:function(o){e.$set(e.form.fields,"subprograma_id",o)},expression:"form.fields.subprograma_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"15px"}},[t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"inbox","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"","upper-case":"","inverted-color":"dark","float-label":"Fuente de financiamiento",maxlength:"100"},model:{value:e.form.fields.fuente_financiamiento,callback:function(o){e.$set(e.form.fields,"fuente_financiamiento",o)},expression:"form.fields.fuente_financiamiento"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"15px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Monto de la bolsa",suffix:"MXN"},model:{value:e.form.fields.montovalidar,callback:function(o){e.$set(e.form.fields,"montovalidar",o)},expression:"form.fields.montovalidar"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Monto licitado",suffix:"MXN"},model:{value:e.form.fields.monto_licitado,callback:function(o){e.$set(e.form.fields,"monto_licitado",o)},expression:"form.fields.monto_licitado"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Monto adjudicado",suffix:"MXN"},model:{value:e.form.fields.monto_adjudicado,callback:function(o){e.$set(e.form.fields,"monto_adjudicado",o)},expression:"form.fields.monto_adjudicado"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-collapsible",{attrs:{icon:"chrome_reader_mode",label:"Contratos"},model:{value:e.open_contratos,callback:function(o){e.open_contratos=o},expression:"open_contratos"}},[t("div",{staticClass:"layout-padding"},[e.viewsContrato.grid?t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"row justify-between"},[t("div",{staticClass:"col-sm-6"},[t("q-btn",{staticClass:"btn_categoria",attrs:{size:"15px",icon:"chrome_reader_mode",disable:"",label:"CONTRATOS"}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"50px"}},[t("div",{staticClass:"row",staticStyle:{width:"60vw"}},[t("q-search",{attrs:{"hide-underline":"",color:"secondary"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}})],1),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table",data:e.contratos,columns:e.form.columnsContrato,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"num_contrato",attrs:{props:o}},[e._v(e._s(o.row.num_contrato))]),e._v(" "),t("q-td",{key:"recurso",attrs:{props:o}},[e._v(e._s(o.row.recurso))]),e._v(" "),t("q-td",{key:"licitacion",attrs:{props:o}},[e._v(e._s(o.row.licitacion))]),e._v(" "),t("q-td",{key:"razon_social",attrs:{props:o}},[e._v(e._s(o.row.razon_social))]),e._v(" "),t("q-td",{key:"fecha_inicio",attrs:{props:o}},[t("label",{staticStyle:{"margin-right":"14.2% !important"}},[e._v(e._s(o.row.fecha_inicio))])]),e._v(" "),t("q-td",{key:"fecha_fin",attrs:{props:o}},[t("label",{staticStyle:{"margin-right":"14.2% !important"}},[e._v(e._s(o.row.fecha_fin))])]),e._v(" "),t("q-td",{key:"documento_final",attrs:{props:o}},[e._v(e._s(o.row.documento_final))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"visibility"},on:{click:function(t){e.editRowContrato(o.row)}}},[t("q-tooltip",[e._v("Ver información")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]):e._e(),e._v(" "),e.viewsContrato.update?t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"row justify-between"},[t("div",{staticClass:"col-sm-9"},[t("h5",{staticStyle:{margin:"7px 0","font-weight":"bold"}},[e._v("CONTRATO")])]),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"row justify-end"},[t("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"right"}},[t("q-btn",{staticClass:"btn_regresar",attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.setViewContrato("grid")}}})],1)])])]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-file","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",type:"number","inverted-color":"dark","float-label":"Número de contrato","numeric-keyboard-toggle":""},model:{value:e.form.fieldsContrato.num_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"num_contrato",o)},expression:"form.fieldsContrato.num_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-8"},[t("q-field",{attrs:{icon:"fas fa-building","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"","inverted-color":"dark","float-label":"Empresa",options:e.empresasOptions,filter:""},model:{value:e.form.fieldsContrato.empresa_id,callback:function(o){e.$set(e.form.fieldsContrato,"empresa_id",o)},expression:"form.fieldsContrato.empresa_id"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{readonly:"",type:"date","inverted-color":"dark","float-label":"Fecha inicio",align:"center"},model:{value:e.form.fieldsContrato.fecha_inicio,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_inicio",o)},expression:"form.fieldsContrato.fecha_inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{readonly:"",type:"date","inverted-color":"dark","float-label":"Fecha fin",align:"center"},model:{value:e.form.fieldsContrato.fecha_fin,callback:function(o){e.$set(e.form.fieldsContrato,"fecha_fin",o)},expression:"form.fieldsContrato.fecha_fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-book","icon-color":"dark"}},[t("q-select",{attrs:{readonly:"","inverted-color":"dark","float-label":"Licitación",options:e.licitacionesOptions,filter:"",clearable:""},model:{value:e.form.fieldsContrato.licitacion_id,callback:function(o){e.$set(e.form.fieldsContrato,"licitacion_id",o)},expression:"form.fieldsContrato.licitacion_id"}})],1)],1)]),e._v(" "),""!==e.cliente?t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"","inverted-color":"dark","float-label":"Cliente"},model:{value:e.cliente,callback:function(o){e.cliente=o},expression:"cliente"}})],1)],1)]):e._e(),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-8"},[t("q-field",{attrs:{icon:"fas fa-user","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"","upper-case":"","inverted-color":"dark","float-label":"Representante legal del contrato"},model:{value:e.form.fieldsContrato.rep_legal_contrato,callback:function(o){e.$set(e.form.fieldsContrato,"rep_legal_contrato",o)},expression:"form.fieldsContrato.rep_legal_contrato"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Monto",suffix:"MXN"},model:{value:e.form.fieldsContrato.monto_total_validar,callback:function(o){e.$set(e.form.fieldsContrato,"monto_total_validar",o)},expression:"form.fieldsContrato.monto_total_validar"}})],1)],1)])]),e._v(" "),e.Datofactura?t("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"50px"}},[t("div",{staticClass:"row",staticStyle:{width:"60vw"}},[t("q-search",{attrs:{"hide-underline":"",color:"secondary"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}})],1),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table",data:e.facturas,columns:e.form.fileColumnContrato,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",dense:!0,pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"id",attrs:{props:o}},[e._v(e._s(o.row.factura_id))]),e._v(" "),t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.name))]),e._v(" "),t("q-td",{key:"extension",attrs:{props:o}},[e._v(e._s(o.row.doc_type))]),e._v(" "),t("q-td",{key:"fecha_factura",attrs:{props:o}},[e._v(e._s(o.row.fecha_factura))]),e._v(" "),t("q-td",{key:"fecha_pago",attrs:{props:o}},[e._v(e._s(o.row.fecha_pago))]),e._v(" "),t("q-td",{key:"fecha_vencimiento",attrs:{props:o}},[e._v(e._s(o.row.fecha_vencimiento))]),e._v(" "),t("q-td",{key:"monto_factura",attrs:{props:o}},[e._v("$"+e._s(e.currencyFormat(o.row.monto_factura)))]),e._v(" "),t("q-td",{key:"folio_fiscal",attrs:{props:o}},[e._v(e._s(o.row.folio_fiscal))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"get_app"},on:{click:function(t){e.abrirDocumento(o.row.factura_id,o.row.doc_type)}}},[t("q-tooltip",[e._v("Ver")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)]):e._e()])]):e._e()])]),e._v(" "),t("q-collapsible",{attrs:{icon:"work",label:"Presupuestos"},model:{value:e.open_presupuestos,callback:function(o){e.open_presupuestos=o},expression:"open_presupuestos"}},[t("div",{staticClass:"layout-padding"},[e.viewsPresupuestos.grid?t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"row justify-between"},[t("div",{staticClass:"col-sm-6"},[t("q-btn",{staticClass:"btn_categoria",attrs:{size:"15px",icon:"work",disable:"",label:"PRESUPUESTOS"}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-sm",staticStyle:{"margin-top":"50px"}},[t("div",{staticClass:"row",staticStyle:{width:"60vw"}},[t("q-search",{attrs:{"hide-underline":"",color:"secondary"},model:{value:e.form.filter,callback:function(o){e.$set(e.form,"filter",o)},expression:"form.filter"}})],1),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll"}},[t("q-table",{attrs:{id:"sticky-table",data:e.proyectos,columns:e.form.columnsPresupuesto,selected:e.form.selected,filter:e.form.filter,color:"positive",title:"",pagination:e.form.pagination,loading:e.form.loading,"rows-per-page-options":e.form.rowsOptions},on:{"update:selected":function(o){e.$set(e.form,"selected",o)},"update:pagination":function(o){e.$set(e.form,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre_proyecto",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaPresupuesto(o.row)}}},[e._v(e._s(o.row.nombre_proyecto))]),e._v(" "),t("q-td",{key:"recurso",staticStyle:{cursor:"pointer"},attrs:{props:o},nativeOn:{click:function(t){e.clicFilaPresupuesto(o.row)}}},[e._v(e._s(o.row.recurso))]),e._v(" "),t("q-td",{key:"inicio",attrs:{props:o}},[e._v(e._s(o.row.inicio))]),e._v(" "),t("q-td",{key:"fin",attrs:{props:o}},[e._v(e._s(o.row.fin))]),e._v(" "),t("q-td",{key:"lider",attrs:{props:o}},[e._v(e._s(o.row.nickname))]),e._v(" "),t("q-td",{key:"acciones",attrs:{props:o}},[t("q-btn",{attrs:{small:"",flat:"",color:"blue-6",icon:"visibility"},on:{click:function(t){e.editRowPresupuestos(o.row)}}},[t("q-tooltip",[e._v("Editar")])],1)],1)],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])]):e._e(),e._v(" "),e.viewsPresupuestos.update?t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"row justify-between"},[t("div",{staticClass:"col-sm-9"},[t("h5",{staticStyle:{margin:"7px 0","font-weight":"bold"}},[e._v("PRESUPUESTO")])]),e._v(" "),t("div",{staticClass:"col-sm-3"},[t("div",{staticClass:"row justify-end"},[t("div",{staticClass:"col-sm-4",staticStyle:{"text-align":"right"}},[t("q-btn",{staticClass:"btn_regresar",attrs:{icon:"fa-arrow-left"},on:{click:function(o){e.setViewPresupuestos("grid")}}})],1)])])]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticStyle:{height:"53px",width:"50%","margin-top":"5px"}},[t("q-field",{attrs:{icon:"fas fa-pen-square","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"","inverted-color":"dark","float-label":"Nombre del presupuesto",readonly:e.user_id===e.form.fieldsPresupuesto.lider_proyecto},model:{value:e.form.fieldsPresupuesto.nombre_proyecto,callback:function(o){e.$set(e.form.fieldsPresupuesto,"nombre_proyecto",o)},expression:"form.fieldsPresupuesto.nombre_proyecto"}})],1)],1),e._v(" "),t("div",{staticStyle:{height:"53px",width:"20%","margin-top":"5px"}},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date","inverted-color":"dark","float-label":"Fecha inicio",align:"center",readonly:e.user_id===e.form.fieldsPresupuesto.lider_proyecto},model:{value:e.form.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form.fieldsPresupuesto,"inicio",o)},expression:"form.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticStyle:{height:"53px",width:"20%","margin-top":"5px"}},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date","inverted-color":"dark","float-label":"Fecha término",align:"center",readonly:e.user_id===e.form.fieldsPresupuesto.lider_proyecto},model:{value:e.form.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form.fieldsPresupuesto,"fin",o)},expression:"form.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticStyle:{height:"53px",width:"10%","margin-top":"5px"}},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{type:"number","inverted-color":"dark","float-label":"Días",readonly:""},model:{value:e.form.fieldsPresupuesto.dias,callback:function(o){e.$set(e.form.fieldsPresupuesto,"dias",o)},expression:"form.fieldsPresupuesto.dias"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticStyle:{height:"53px",width:"35%"}},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Presupuesto inicial",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.presupuestovalidar,callback:function(o){e.$set(e.form.fieldsPresupuesto,"presupuestovalidar",o)},expression:"form.fieldsPresupuesto.presupuestovalidar"}})],1)],1)]),e._v(" "),t("div",{staticStyle:{height:"53px",width:"35%"}},[t("div",{staticClass:"icono_field"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"","inverted-color":"dark","float-label":"Presupuesto Actual",suffix:"MXN"},model:{value:e.form.fieldsPresupuesto.presupuestoActual,callback:function(o){e.$set(e.form.fieldsPresupuesto,"presupuestoActual",o)},expression:"form.fieldsPresupuesto.presupuestoActual"}})],1)],1)]),e._v(" "),t("div",{staticStyle:{height:"53px",width:"30%"}},[t("q-field",{attrs:{icon:"person","icon-color":"dark"}},[t("q-input",{attrs:{"inverted-color":"dark","float-label":"Lider de presupuesto",readonly:""},model:{value:e.form.fieldsPresupuesto.lider_usuario,callback:function(o){e.$set(e.form.fieldsPresupuesto,"lider_usuario",o)},expression:"form.fieldsPresupuesto.lider_usuario"}})],1)],1)]),e._v(" "),t("div",[t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-collapsible",{attrs:{icon:"perm_identity",label:"Colaboradores"},model:{value:e.open_colaboradores,callback:function(o){e.open_colaboradores=o},expression:"open_colaboradores"}},[t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-right":"10px"}},[t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table",data:e.form_colaboradores.data,columns:e.form_colaboradores.columnsColaboradoresLectura,selected:e.form_colaboradores.selected,filter:e.form_colaboradores.filter,color:"positive",title:"",dense:!0,pagination:e.form_colaboradores.pagination,loading:e.form_colaboradores.loading,"rows-per-page-options":e.form_colaboradores.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_colaboradores,"selected",o)},"update:pagination":function(o){e.$set(e.form_colaboradores,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))])],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_colaboradores.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-collapsible",{attrs:{icon:"perm_identity",label:"Solicitantes"},model:{value:e.open_solicitantes,callback:function(o){e.open_solicitantes=o},expression:"open_solicitantes"}},[t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-right":"10px"}},[t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table",data:e.form_solicitantes.data,columns:e.form_solicitantes.columnsSolicitantesLectura,selected:e.form_solicitantes.selected,filter:e.form_solicitantes.filter,color:"positive",title:"",dense:!0,pagination:e.form_solicitantes.pagination,loading:e.form_solicitantes.loading,"rows-per-page-options":e.form_solicitantes.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_solicitantes,"selected",o)},"update:pagination":function(o){e.$set(e.form_solicitantes,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))])],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_solicitantes.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-collapsible",{attrs:{icon:"perm_identity",label:"Autorizadores"},model:{value:e.open_autorizadores,callback:function(o){e.open_autorizadores=o},expression:"open_autorizadores"}},[t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table",data:e.form_autorizadores.data,columns:e.form_autorizadores.columnsAutorizadoresLectura,selected:e.form_autorizadores.selected,filter:e.form_autorizadores.filter,color:"positive",title:"",dense:!0,pagination:e.form_autorizadores.pagination,loading:e.form_autorizadores.loading,"rows-per-page-options":e.form_autorizadores.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_autorizadores,"selected",o)},"update:pagination":function(o){e.$set(e.form_autorizadores,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"orden",attrs:{props:o}},[e._v(e._s(o.row.orden))]),e._v(" "),t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))]),e._v(" "),t("q-td",{key:"alteracion",attrs:{props:o}},[e._v(e._s(o.row.alteracion))])],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_autorizadores.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col-sm-12"},[t("q-collapsible",{attrs:{icon:"perm_identity",label:"Responsable de pagos"},model:{value:e.open_responsables,callback:function(o){e.open_responsables=o},expression:"open_responsables"}},[t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-sm-12",staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-table-scroll-corto"}},[t("q-table",{attrs:{id:"sticky-table",data:e.form_responsables.data,columns:e.form_responsables.columnsResponsablesLectura,selected:e.form_responsables.selected,filter:e.form_responsables.filter,color:"positive",title:"",dense:!0,pagination:e.form_responsables.pagination,loading:e.form_responsables.loading,"rows-per-page-options":e.form_responsables.rowsOptions},on:{"update:selected":function(o){e.$set(e.form_responsables,"selected",o)},"update:pagination":function(o){e.$set(e.form_responsables,"pagination",o)}},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{key:"nombre",attrs:{props:o}},[e._v(e._s(o.row.nombre))]),e._v(" "),t("q-td",{key:"perfil",attrs:{props:o}},[e._v(e._s(o.row.perfil))])],1)]}}])}),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_responsables.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])],1)])]),e._v(" "),t("div",{staticClass:"row q-mt-lg subtitulos"},[e._v("\n            DETALLE DE ACTIVIDADES\n          ")]),e._v(" "),t("div",{staticClass:"col-sm-12 q-mt-sm",attrs:{id:"sticky-arbol"}},[t("div",{staticClass:"q-table-container q-table-dense",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"q-table-middle scroll"},[t("table",{staticClass:"q-table"},[t("thead",[t("tr",{staticStyle:{"text-align":"center"}},[t("th",[e._v("Nombre")]),e._v(" "),t("th",[e._v("Avance")]),e._v(" "),t("th",[e._v("Inicio")]),e._v(" "),t("th",[e._v("Fin")]),e._v(" "),t("th",[e._v("Costo")]),e._v(" "),t("th",[e._v("Fin real")]),e._v(" "),t("th",[e._v("EDT")]),e._v(" "),t("th",[e._v("Resumen")]),e._v(" "),t("th",[e._v("Duración")]),e._v(" "),t("th",[e._v("Duración restante")])])]),e._v(" "),t("tbody",e._l(e.arrayTreeObj,function(o,r){return t("tr",{key:r,class:[o.id!=e.selectedRowID.id?"my-label":"text-green bg-light-green-11",""]},[t("td",{staticStyle:{cursor:"pointer","text-align":"left"},attrs:{"data-th":"Nombre"},on:{click:function(t){e.toggle(o,r)}}},[t("span",{staticClass:"q-tree-link q-tree-label",style:e.setPadding(o)},[t("q-icon",{staticStyle:{cursor:"pointer","font-size":"15px"},attrs:{name:e.iconName(o),color:o.color}}),e._v("\n                          "+e._s(o.nombre)+"\n                        ")],1)]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Avance"}},[e._v(e._s(o.avance)+"%")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Inicio"}},[e._v(e._s(o.inicio)+" ")]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Fin"}},[e._v(e._s(o.fin))]),e._v(" "),t("td",{staticStyle:{"text-align":"right"},attrs:{"data-th":"Costo"}},[e._v("$"+e._s(o.costoCopia))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Fin Real"}},[e._v(e._s(o.fin_real)+" ")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"},attrs:{"data-th":"EDT"}},[e._v(e._s(o.indice))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Resumen"}},[e._v(e._s(o.resumen))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Duración"}},[e._v(e._s(o.duracion))]),e._v(" "),t("td",{staticStyle:{"text-align":"center"},attrs:{"data-th":"Duración restante"}},[e._v(e._s(o.duracion_restante))])])}))]),e._v(" "),t("q-inner-loading",{attrs:{visible:e.form_actividades.loading}},[t("q-spinner-dots",{attrs:{size:"64px",color:"primary"}})],1)],1)])])])]):e._e(),e._v(" "),e.form_actividades.modal_editar?t("q-modal",{staticStyle:{"background-color":"rgba(0,0,0,0.7)"},attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"80vw",minHeight:"680px"}},model:{value:e.form_actividades.modal_editar,callback:function(o){e.$set(e.form_actividades,"modal_editar",o)},expression:"form_actividades.modal_editar"}},[t("q-modal-layout",[t("q-toolbar",{staticStyle:{"background-color":"rgba(8,85,134,1)!important"},attrs:{slot:"header"},slot:"header"},[t("div",{staticClass:"col-sm-9"},[t("q-toolbar-title",[e._v("\n                Edición de actividad\n              ")])],1),e._v(" "),t("div",{staticClass:"col-sm-3 pull-right"},[t("q-btn",{attrs:{flat:"",round:"",dense:"",color:"white",icon:"fas fa-times-circle"},on:{click:function(o){e.form_actividades.modal_editar=!1}}})],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"col-sm-4",staticStyle:{margin:"auto"}},[t("q-field",{attrs:{icon:"icono_prueba","icon-color":"dark",helper:"Porcentaje de avance"}},[t("q-knob",{staticStyle:{"font-size":"1rem","margin-left":"30%"},attrs:{size:"100px",color:"light-blue-10","track-color":"light-blue-12","line-width":"5px",min:0,max:100,step:1,readonly:parseInt(e.form_actividades.fieldsPresupuesto.children_cantidad)>0},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}},[e._v("\n                  "+e._s(e.form_actividades.fieldsPresupuesto.avance)+" "),t("q-icon",{staticClass:"q-ml-xs",attrs:{name:"fas fa-percent"}})],1),e._v(" "),t("q-input",{attrs:{clearable:"",align:"right",decimals:0,"numeric-keyboard-toggle":"",type:"number",suffix:"%",readonly:parseInt(e.form_actividades.fieldsPresupuesto.children_cantidad)>0},model:{value:e.form_actividades.fieldsPresupuesto.avance,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"avance",o)},expression:"form_actividades.fieldsPresupuesto.avance"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-12"},[t("q-field",{attrs:{icon:"fas fa-chart-line","icon-color":"dark",error:e.$v.form_actividades.fieldsPresupuesto.nombre.$error,"error-label":"Ingrese el nombre de la actividad"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"Nombre de la actividad",maxlength:"100"},model:{value:e.form_actividades.fieldsPresupuesto.nombre,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"nombre",o)},expression:"form_actividades.fieldsPresupuesto.nombre"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-arrow-circle-down","icon-color":"dark"}},[t("q-input",{attrs:{"upper-case":"",type:"text",inverted:"",color:"dark","float-label":"EDT",readonly:"",disable:""},model:{value:e.form_actividades.fieldsPresupuesto.indice,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"indice",o)},expression:"form_actividades.fieldsPresupuesto.indice"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto inicial",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.presupuesto_inicial,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"presupuesto_inicial",o)},expression:"form_actividades.fieldsPresupuesto.presupuesto_inicial"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-dollar-sign","icon-color":"dark"}},[t("q-input",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{readonly:"",inverted:"",color:"dark","float-label":"Monto actual",suffix:"MXN"},model:{value:e.form_actividades.fieldsPresupuesto.costo,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"costo",o)},expression:"form_actividades.fieldsPresupuesto.costo"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4",staticStyle:{"margin-top":"5px"}},[t("q-field",{attrs:{icon:"fas fa-file-alt","icon-color":"dark",helper:"Resumen"}},[t("q-toggle",{attrs:{color:"green","checked-icon":"fas fa-check","unchecked-icon":"fas fa-times"},model:{value:e.form_actividades.fieldsPresupuesto.resumen,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"resumen",o)},expression:"form_actividades.fieldsPresupuesto.resumen"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Inicio",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.inicio,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"inicio",o)},expression:"form_actividades.fieldsPresupuesto.inicio"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fin",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin",o)},expression:"form_actividades.fieldsPresupuesto.fin"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"date_range","icon-color":"dark"}},[t("q-datetime",{attrs:{type:"date",inverted:"",color:"dark","float-label":"Fin real",clearable:"",align:"center"},model:{value:e.form_actividades.fieldsPresupuesto.fin_real,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"fin_real",o)},expression:"form_actividades.fieldsPresupuesto.fin_real"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row q-mt-lg",staticStyle:{"margin-right":"10px"}},[t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{type:"number",inverted:"",color:"dark","float-label":"Duración",readonly:"","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion",o)},expression:"form_actividades.fieldsPresupuesto.duracion"}})],1)],1),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("q-field",{attrs:{icon:"fas fa-sun","icon-color":"dark"}},[t("q-input",{attrs:{readonly:"",type:"number",inverted:"",color:"dark","float-label":"Duración restante","numeric-keyboard-toggle":""},model:{value:e.form_actividades.fieldsPresupuesto.duracion_restante,callback:function(o){e.$set(e.form_actividades.fieldsPresupuesto,"duracion_restante",o)},expression:"form_actividades.fieldsPresupuesto.duracion_restante"}})],1)],1)])],1)],1):e._e()],1)]),e._v(" "),t("q-collapsible",{attrs:{icon:"folder",label:"Organismos de apoyo"},model:{value:e.open_organismos,callback:function(o){e.open_organismos=o},expression:"open_organismos"}})],1)])],1)],1):e._e()],1)},k=[];q._withStripped=!0;var w=t("XyMi"),x=!1;var P=function(e){x||t("s1oI")},$=Object(w.a)(C,q,k,!1,P,"data-v-3cf3dab0",null);$.options.__file="src\\pages\\vnt\\Recursos.vue";o.default=$.exports},aYrh:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"minValue",min:e},function(o){return!(0,r.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+o>=+e})}},"bXE/":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return(0,r.withParams)({type:"and"},function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o.length>0&&o.reduce(function(o,t){return o&&t.apply(e,r)},!0)})}},bs6G:function(e,o,t){var r=t("7KvD").parseFloat,a=t("mnVu").trim;e.exports=1/r(t("hyta")+"-0")!=-1/0?function(e){var o=a(String(e),3),t=r(o);return 0===t&&"-"==o.charAt(0)?-0:t}:r},eqrJ:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("integer",/^-?[0-9]*$/);o.default=r},exGp:function(e,o,t){"use strict";o.__esModule=!0;var r,a=t("//Fk"),s=(r=a)&&r.__esModule?r:{default:r};o.default=function(e){return function(){var o=e.apply(this,arguments);return new s.default(function(e,t){return function r(a,i){try{var n=o[a](i),l=n.value}catch(e){return void t(e)}if(!n.done)return s.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},fxRn:function(e,o,t){t("+tPU"),t("zQR9"),e.exports=t("g8Ux")},g8Ux:function(e,o,t){var r=t("77Pl"),a=t("3fs2");e.exports=t("FeBl").getIterator=function(e){var o=a(e);if("function"!=typeof o)throw TypeError(e+" is not iterable!");return r(o.call(e))}},hbkP:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("numeric",/^[0-9]*$/);o.default=r},hyta:function(e,o){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},jyFz:function(e,o,t){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,s=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=t("SldL"),a)r.regeneratorRuntime=s;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},lEk1:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},function(o,t){return!(0,r.ref)(e,this,t)||(0,r.req)(o)})}},mnVu:function(e,o,t){var r=t("kM2E"),a=t("52gC"),s=t("S82l"),i=t("hyta"),n="["+i+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),d=function(e,o,t){var a={},n=s(function(){return!!i[e]()||"​"!="​"[e]()}),l=a[e]=n?o(f):i[e];t&&(a[t]=l),r(r.P+r.F*n,"String",a)},f=d.trim=function(e,o){return e=String(a(e)),1&o&&(e=e.replace(l,"")),2&o&&(e=e.replace(c,"")),e};e.exports=d},mpcv:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r="web"===Object({NODE_ENV:"production",DEV:!1,PROD:!0,THEME:"mat",MODE:"spa",API:"https://api_impact.wasp.mx/",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).BUILD?t("tL8V").withParams:t("JVqD").withParams;o.default=r},"pO+f":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=(0,t("URu4").regex)("decimal",/^[-]?\d*(\.\d+)?$/);o.default=r},qHXR:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"maxLength",max:e},function(o){return!(0,r.req)(o)||(0,r.len)(o)<=e})}},quu5:function(e,o,t){t("CHlY"),e.exports=t("FeBl").Number.parseFloat},s1oI:function(e,o,t){var r=t("/XMN");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("rjj0").default)("21d36b8e",r,!1,{})},tL8V:function(e,o,t){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.withParams=void 0;var r="undefined"!=typeof window?window:void 0!==e?e:{},a=r.vuelidate?r.vuelidate.withParams:function(e,o){return"object"===t(e)&&void 0!==o?o:e(function(){})};o.withParams=a}).call(o,t("DuR2"))},xJ3U:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=t("URu4");o.default=function(e){return(0,r.withParams)({type:"maxValue",max:e},function(o){return!(0,r.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+o<=+e})}}});